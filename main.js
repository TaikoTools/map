/* Generated by the Nim Compiler v1.2.6 */
var framePtr = null;
var excHandler = 0;
var lastJSError = null;
if (typeof Int8Array === 'undefined') Int8Array = Array;
if (typeof Int16Array === 'undefined') Int16Array = Array;
if (typeof Int32Array === 'undefined') Int32Array = Array;
if (typeof Uint8Array === 'undefined') Uint8Array = Array;
if (typeof Uint16Array === 'undefined') Uint16Array = Array;
if (typeof Uint32Array === 'undefined') Uint32Array = Array;
if (typeof Float32Array === 'undefined') Float32Array = Array;
if (typeof Float64Array === 'undefined') Float64Array = Array;
var NTI622626 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI622277 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI622275 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI622624 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI622718 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI622281 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI622279 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI622227 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI622225 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI622241 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI622239 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI12416030 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI12137101 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI12137122 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI12137105 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI12140002 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI11336084 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI163 = {size: 0,kind: 1,base: null,node: null,finalizer: null};
var NTI104 = {size: 0,kind: 36,base: null,node: null,finalizer: null};
var NTI179 = {size: 0,kind: 35,base: null,node: null,finalizer: null};
var NTI11336041 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI11336045 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI11336043 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI9896230 = {size: 0,kind: 31,base: null,node: null,finalizer: null};
var NTI11336073 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI11336070 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI11336067 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI6251 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI12137099 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI12137097 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI12145100 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI4210232 = {size: 0,kind: 31,base: null,node: null,finalizer: null};
var NTI4465011 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI6245 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI12137095 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI6235 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI6253 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI6221 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI6243 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI9765125 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI10182211 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI9682083 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI9682084 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI9730078 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI9730074 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI9727152 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI9730030 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI9730018 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI9730039 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI9730037 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI9727028 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI9730031 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI9730022 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI622454 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622450 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622446 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622442 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622438 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622434 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622430 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622426 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622422 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622418 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622414 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622410 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622406 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622402 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622398 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622394 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622390 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622386 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622382 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622378 = {size: 0,kind: 25,base: null,node: null,finalizer: null};
var NTI622205 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI622287 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI622229 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI622574 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI622572 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI622570 = {size: 0,kind: 24,base: null,node: null,finalizer: null};
var NTI622233 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI622231 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI10182207 = {size: 0, kind: 14, base: null, node: null, finalizer: null};
var NTI10182209 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI622289 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI6249 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI6241 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI6219 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI6233 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI6237 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI6286 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI114 = {size: 0,kind: 29,base: null,node: null,finalizer: null};
var NTI6281 = {size: 0,kind: 22,base: null,node: null,finalizer: null};
var NTI6217 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI6008 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NTI143 = {size: 0,kind: 31,base: null,node: null,finalizer: null};
var NTI112 = {size: 0,kind: 28,base: null,node: null,finalizer: null};
var NTI12137103 = {size: 0, kind: 17, base: null, node: null, finalizer: null};
var NNI12137103 = {kind: 2, len: 6, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "sequence", len: 0, typ: NTI112, name: "sequence", sons: null}, 
{kind: 1, offset: "city", len: 0, typ: NTI112, name: "city", sons: null}, 
{kind: 1, offset: "team", len: 0, typ: NTI112, name: "team", sons: null}, 
{kind: 1, offset: "music", len: 0, typ: NTI112, name: "music", sons: null}, 
{kind: 1, offset: "height", len: 0, typ: NTI143, name: "height", sons: null}, 
{kind: 1, offset: "width", len: 0, typ: NTI143, name: "width", sons: null}]};
NTI12137103.node = NNI12137103;
var NNI6008 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI6008.node = NNI6008;
NTI12137103.base = NTI6008;
NTI6281.base = NTI6217;
NTI6286.base = NTI6217;
var NNI6217 = {kind: 2, len: 5, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "parent", len: 0, typ: NTI6281, name: "parent", sons: null}, 
{kind: 1, offset: "name", len: 0, typ: NTI114, name: "name", sons: null}, 
{kind: 1, offset: "message", len: 0, typ: NTI112, name: "msg", sons: null}, 
{kind: 1, offset: "trace", len: 0, typ: NTI112, name: "trace", sons: null}, 
{kind: 1, offset: "up", len: 0, typ: NTI6286, name: "up", sons: null}]};
NTI6217.node = NNI6217;
NTI6217.base = NTI6008;
var NNI6237 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI6237.node = NNI6237;
var NNI6233 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI6233.node = NNI6233;
var NNI6219 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI6219.node = NNI6219;
NTI6219.base = NTI6217;
NTI6233.base = NTI6219;
NTI6237.base = NTI6233;
var NNI6241 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI6241.node = NNI6241;
NTI6241.base = NTI6219;
var NNI6249 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI6249.node = NNI6249;
NTI6249.base = NTI6219;
var NNI622289 = {kind: 2, len: 100, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "background", len: 0, typ: NTI114, name: "background", sons: null}, 
{kind: 1, offset: "backgroundAttachment", len: 0, typ: NTI114, name: "backgroundAttachment", sons: null}, 
{kind: 1, offset: "backgroundColor", len: 0, typ: NTI114, name: "backgroundColor", sons: null}, 
{kind: 1, offset: "backgroundImage", len: 0, typ: NTI114, name: "backgroundImage", sons: null}, 
{kind: 1, offset: "backgroundPosition", len: 0, typ: NTI114, name: "backgroundPosition", sons: null}, 
{kind: 1, offset: "backgroundRepeat", len: 0, typ: NTI114, name: "backgroundRepeat", sons: null}, 
{kind: 1, offset: "backgroundSize", len: 0, typ: NTI114, name: "backgroundSize", sons: null}, 
{kind: 1, offset: "border", len: 0, typ: NTI114, name: "border", sons: null}, 
{kind: 1, offset: "borderBottom", len: 0, typ: NTI114, name: "borderBottom", sons: null}, 
{kind: 1, offset: "borderBottomColor", len: 0, typ: NTI114, name: "borderBottomColor", sons: null}, 
{kind: 1, offset: "borderBottomStyle", len: 0, typ: NTI114, name: "borderBottomStyle", sons: null}, 
{kind: 1, offset: "borderBottomWidth", len: 0, typ: NTI114, name: "borderBottomWidth", sons: null}, 
{kind: 1, offset: "borderColor", len: 0, typ: NTI114, name: "borderColor", sons: null}, 
{kind: 1, offset: "borderLeft", len: 0, typ: NTI114, name: "borderLeft", sons: null}, 
{kind: 1, offset: "borderLeftColor", len: 0, typ: NTI114, name: "borderLeftColor", sons: null}, 
{kind: 1, offset: "borderLeftStyle", len: 0, typ: NTI114, name: "borderLeftStyle", sons: null}, 
{kind: 1, offset: "borderLeftWidth", len: 0, typ: NTI114, name: "borderLeftWidth", sons: null}, 
{kind: 1, offset: "borderRadius", len: 0, typ: NTI114, name: "borderRadius", sons: null}, 
{kind: 1, offset: "borderRight", len: 0, typ: NTI114, name: "borderRight", sons: null}, 
{kind: 1, offset: "borderRightColor", len: 0, typ: NTI114, name: "borderRightColor", sons: null}, 
{kind: 1, offset: "borderRightStyle", len: 0, typ: NTI114, name: "borderRightStyle", sons: null}, 
{kind: 1, offset: "borderRightWidth", len: 0, typ: NTI114, name: "borderRightWidth", sons: null}, 
{kind: 1, offset: "borderStyle", len: 0, typ: NTI114, name: "borderStyle", sons: null}, 
{kind: 1, offset: "borderTop", len: 0, typ: NTI114, name: "borderTop", sons: null}, 
{kind: 1, offset: "borderTopColor", len: 0, typ: NTI114, name: "borderTopColor", sons: null}, 
{kind: 1, offset: "borderTopStyle", len: 0, typ: NTI114, name: "borderTopStyle", sons: null}, 
{kind: 1, offset: "borderTopWidth", len: 0, typ: NTI114, name: "borderTopWidth", sons: null}, 
{kind: 1, offset: "borderWidth", len: 0, typ: NTI114, name: "borderWidth", sons: null}, 
{kind: 1, offset: "bottom", len: 0, typ: NTI114, name: "bottom", sons: null}, 
{kind: 1, offset: "boxSizing", len: 0, typ: NTI114, name: "boxSizing", sons: null}, 
{kind: 1, offset: "boxShadow", len: 0, typ: NTI114, name: "boxShadow", sons: null}, 
{kind: 1, offset: "captionSide", len: 0, typ: NTI114, name: "captionSide", sons: null}, 
{kind: 1, offset: "clear", len: 0, typ: NTI114, name: "clear", sons: null}, 
{kind: 1, offset: "clip", len: 0, typ: NTI114, name: "clip", sons: null}, 
{kind: 1, offset: "color", len: 0, typ: NTI114, name: "color", sons: null}, 
{kind: 1, offset: "cursor", len: 0, typ: NTI114, name: "cursor", sons: null}, 
{kind: 1, offset: "direction", len: 0, typ: NTI114, name: "direction", sons: null}, 
{kind: 1, offset: "display", len: 0, typ: NTI114, name: "display", sons: null}, 
{kind: 1, offset: "emptyCells", len: 0, typ: NTI114, name: "emptyCells", sons: null}, 
{kind: 1, offset: "cssFloat", len: 0, typ: NTI114, name: "cssFloat", sons: null}, 
{kind: 1, offset: "font", len: 0, typ: NTI114, name: "font", sons: null}, 
{kind: 1, offset: "fontFamily", len: 0, typ: NTI114, name: "fontFamily", sons: null}, 
{kind: 1, offset: "fontSize", len: 0, typ: NTI114, name: "fontSize", sons: null}, 
{kind: 1, offset: "fontStretch", len: 0, typ: NTI114, name: "fontStretch", sons: null}, 
{kind: 1, offset: "fontStyle", len: 0, typ: NTI114, name: "fontStyle", sons: null}, 
{kind: 1, offset: "fontVariant", len: 0, typ: NTI114, name: "fontVariant", sons: null}, 
{kind: 1, offset: "fontWeight", len: 0, typ: NTI114, name: "fontWeight", sons: null}, 
{kind: 1, offset: "height", len: 0, typ: NTI114, name: "height", sons: null}, 
{kind: 1, offset: "left", len: 0, typ: NTI114, name: "left", sons: null}, 
{kind: 1, offset: "letterSpacing", len: 0, typ: NTI114, name: "letterSpacing", sons: null}, 
{kind: 1, offset: "lineHeight", len: 0, typ: NTI114, name: "lineHeight", sons: null}, 
{kind: 1, offset: "listStyle", len: 0, typ: NTI114, name: "listStyle", sons: null}, 
{kind: 1, offset: "listStyleImage", len: 0, typ: NTI114, name: "listStyleImage", sons: null}, 
{kind: 1, offset: "listStylePosition", len: 0, typ: NTI114, name: "listStylePosition", sons: null}, 
{kind: 1, offset: "listStyleType", len: 0, typ: NTI114, name: "listStyleType", sons: null}, 
{kind: 1, offset: "margin", len: 0, typ: NTI114, name: "margin", sons: null}, 
{kind: 1, offset: "marginBottom", len: 0, typ: NTI114, name: "marginBottom", sons: null}, 
{kind: 1, offset: "marginLeft", len: 0, typ: NTI114, name: "marginLeft", sons: null}, 
{kind: 1, offset: "marginRight", len: 0, typ: NTI114, name: "marginRight", sons: null}, 
{kind: 1, offset: "marginTop", len: 0, typ: NTI114, name: "marginTop", sons: null}, 
{kind: 1, offset: "maxHeight", len: 0, typ: NTI114, name: "maxHeight", sons: null}, 
{kind: 1, offset: "maxWidth", len: 0, typ: NTI114, name: "maxWidth", sons: null}, 
{kind: 1, offset: "minHeight", len: 0, typ: NTI114, name: "minHeight", sons: null}, 
{kind: 1, offset: "minWidth", len: 0, typ: NTI114, name: "minWidth", sons: null}, 
{kind: 1, offset: "opacity", len: 0, typ: NTI114, name: "opacity", sons: null}, 
{kind: 1, offset: "outline", len: 0, typ: NTI114, name: "outline", sons: null}, 
{kind: 1, offset: "overflow", len: 0, typ: NTI114, name: "overflow", sons: null}, 
{kind: 1, offset: "overflowX", len: 0, typ: NTI114, name: "overflowX", sons: null}, 
{kind: 1, offset: "overflowY", len: 0, typ: NTI114, name: "overflowY", sons: null}, 
{kind: 1, offset: "padding", len: 0, typ: NTI114, name: "padding", sons: null}, 
{kind: 1, offset: "paddingBottom", len: 0, typ: NTI114, name: "paddingBottom", sons: null}, 
{kind: 1, offset: "paddingLeft", len: 0, typ: NTI114, name: "paddingLeft", sons: null}, 
{kind: 1, offset: "paddingRight", len: 0, typ: NTI114, name: "paddingRight", sons: null}, 
{kind: 1, offset: "paddingTop", len: 0, typ: NTI114, name: "paddingTop", sons: null}, 
{kind: 1, offset: "pageBreakAfter", len: 0, typ: NTI114, name: "pageBreakAfter", sons: null}, 
{kind: 1, offset: "pageBreakBefore", len: 0, typ: NTI114, name: "pageBreakBefore", sons: null}, 
{kind: 1, offset: "pointerEvents", len: 0, typ: NTI114, name: "pointerEvents", sons: null}, 
{kind: 1, offset: "position", len: 0, typ: NTI114, name: "position", sons: null}, 
{kind: 1, offset: "resize", len: 0, typ: NTI114, name: "resize", sons: null}, 
{kind: 1, offset: "right", len: 0, typ: NTI114, name: "right", sons: null}, 
{kind: 1, offset: "scrollbar3dLightColor", len: 0, typ: NTI114, name: "scrollbar3dLightColor", sons: null}, 
{kind: 1, offset: "scrollbarArrowColor", len: 0, typ: NTI114, name: "scrollbarArrowColor", sons: null}, 
{kind: 1, offset: "scrollbarBaseColor", len: 0, typ: NTI114, name: "scrollbarBaseColor", sons: null}, 
{kind: 1, offset: "scrollbarDarkshadowColor", len: 0, typ: NTI114, name: "scrollbarDarkshadowColor", sons: null}, 
{kind: 1, offset: "scrollbarFaceColor", len: 0, typ: NTI114, name: "scrollbarFaceColor", sons: null}, 
{kind: 1, offset: "scrollbarHighlightColor", len: 0, typ: NTI114, name: "scrollbarHighlightColor", sons: null}, 
{kind: 1, offset: "scrollbarShadowColor", len: 0, typ: NTI114, name: "scrollbarShadowColor", sons: null}, 
{kind: 1, offset: "scrollbarTrackColor", len: 0, typ: NTI114, name: "scrollbarTrackColor", sons: null}, 
{kind: 1, offset: "tableLayout", len: 0, typ: NTI114, name: "tableLayout", sons: null}, 
{kind: 1, offset: "textAlign", len: 0, typ: NTI114, name: "textAlign", sons: null}, 
{kind: 1, offset: "textDecoration", len: 0, typ: NTI114, name: "textDecoration", sons: null}, 
{kind: 1, offset: "textIndent", len: 0, typ: NTI114, name: "textIndent", sons: null}, 
{kind: 1, offset: "textTransform", len: 0, typ: NTI114, name: "textTransform", sons: null}, 
{kind: 1, offset: "transform", len: 0, typ: NTI114, name: "transform", sons: null}, 
{kind: 1, offset: "top", len: 0, typ: NTI114, name: "top", sons: null}, 
{kind: 1, offset: "verticalAlign", len: 0, typ: NTI114, name: "verticalAlign", sons: null}, 
{kind: 1, offset: "visibility", len: 0, typ: NTI114, name: "visibility", sons: null}, 
{kind: 1, offset: "width", len: 0, typ: NTI114, name: "width", sons: null}, 
{kind: 1, offset: "wordSpacing", len: 0, typ: NTI114, name: "wordSpacing", sons: null}, 
{kind: 1, offset: "zIndex", len: 0, typ: NTI143, name: "zIndex", sons: null}]};
NTI622289.node = NNI622289;
NTI622289.base = NTI6008;
var NNI10182207 = {kind: 2, offset: 0, typ: null, name: null, len: 6, sons: {"0": {kind: 1, offset: 0, typ: NTI10182207, name: "pkReplace", len: 0, sons: null}, 
"1": {kind: 1, offset: 1, typ: NTI10182207, name: "pkRemove", len: 0, sons: null}, 
"2": {kind: 1, offset: 2, typ: NTI10182207, name: "pkAppend", len: 0, sons: null}, 
"3": {kind: 1, offset: 3, typ: NTI10182207, name: "pkInsertBefore", len: 0, sons: null}, 
"4": {kind: 1, offset: 4, typ: NTI10182207, name: "pkDetach", len: 0, sons: null}, 
"5": {kind: 1, offset: 5, typ: NTI10182207, name: "pkSame", len: 0, sons: null}}};
NTI10182207.node = NNI10182207;
NTI622570.base = NTI622231;
NTI622572.base = NTI622231;
NTI622574.base = NTI622231;
var NNI622229 = {kind: 2, offset: 0, typ: null, name: null, len: 12, sons: {"1": {kind: 1, offset: 1, typ: NTI622229, name: "ElementNode", len: 0, sons: null}, 
"2": {kind: 1, offset: 2, typ: NTI622229, name: "AttributeNode", len: 0, sons: null}, 
"3": {kind: 1, offset: 3, typ: NTI622229, name: "TextNode", len: 0, sons: null}, 
"4": {kind: 1, offset: 4, typ: NTI622229, name: "CDATANode", len: 0, sons: null}, 
"5": {kind: 1, offset: 5, typ: NTI622229, name: "EntityRefNode", len: 0, sons: null}, 
"6": {kind: 1, offset: 6, typ: NTI622229, name: "EntityNode", len: 0, sons: null}, 
"7": {kind: 1, offset: 7, typ: NTI622229, name: "ProcessingInstructionNode", len: 0, sons: null}, 
"8": {kind: 1, offset: 8, typ: NTI622229, name: "CommentNode", len: 0, sons: null}, 
"9": {kind: 1, offset: 9, typ: NTI622229, name: "DocumentNode", len: 0, sons: null}, 
"10": {kind: 1, offset: 10, typ: NTI622229, name: "DocumentTypeNode", len: 0, sons: null}, 
"11": {kind: 1, offset: 11, typ: NTI622229, name: "DocumentFragmentNode", len: 0, sons: null}, 
"12": {kind: 1, offset: 12, typ: NTI622229, name: "NotationNode", len: 0, sons: null}}};
NTI622229.node = NNI622229;
NTI622287.base = NTI622289;
var NNI622233 = {kind: 2, len: 16, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "attributes", len: 0, typ: NTI622570, name: "attributes", sons: null}, 
{kind: 1, offset: "childNodes", len: 0, typ: NTI622572, name: "childNodes", sons: null}, 
{kind: 1, offset: "children", len: 0, typ: NTI622574, name: "children", sons: null}, 
{kind: 1, offset: "data", len: 0, typ: NTI114, name: "data", sons: null}, 
{kind: 1, offset: "firstChild", len: 0, typ: NTI622231, name: "firstChild", sons: null}, 
{kind: 1, offset: "lastChild", len: 0, typ: NTI622231, name: "lastChild", sons: null}, 
{kind: 1, offset: "nextSibling", len: 0, typ: NTI622231, name: "nextSibling", sons: null}, 
{kind: 1, offset: "nodeName", len: 0, typ: NTI114, name: "nodeName", sons: null}, 
{kind: 1, offset: "nodeType", len: 0, typ: NTI622229, name: "nodeType", sons: null}, 
{kind: 1, offset: "nodeValue", len: 0, typ: NTI114, name: "nodeValue", sons: null}, 
{kind: 1, offset: "parentNode", len: 0, typ: NTI622231, name: "parentNode", sons: null}, 
{kind: 1, offset: "previousSibling", len: 0, typ: NTI622231, name: "previousSibling", sons: null}, 
{kind: 1, offset: "innerHTML", len: 0, typ: NTI114, name: "innerHTML", sons: null}, 
{kind: 1, offset: "innerText", len: 0, typ: NTI114, name: "innerText", sons: null}, 
{kind: 1, offset: "textContent", len: 0, typ: NTI114, name: "textContent", sons: null}, 
{kind: 1, offset: "style", len: 0, typ: NTI622287, name: "style", sons: null}]};
NTI622233.node = NNI622233;
var NNI622205 = {kind: 2, len: 20, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "onabort", len: 0, typ: NTI622378, name: "onabort", sons: null}, 
{kind: 1, offset: "onblur", len: 0, typ: NTI622382, name: "onblur", sons: null}, 
{kind: 1, offset: "onchange", len: 0, typ: NTI622386, name: "onchange", sons: null}, 
{kind: 1, offset: "onclick", len: 0, typ: NTI622390, name: "onclick", sons: null}, 
{kind: 1, offset: "ondblclick", len: 0, typ: NTI622394, name: "ondblclick", sons: null}, 
{kind: 1, offset: "onerror", len: 0, typ: NTI622398, name: "onerror", sons: null}, 
{kind: 1, offset: "onfocus", len: 0, typ: NTI622402, name: "onfocus", sons: null}, 
{kind: 1, offset: "onkeydown", len: 0, typ: NTI622406, name: "onkeydown", sons: null}, 
{kind: 1, offset: "onkeypress", len: 0, typ: NTI622410, name: "onkeypress", sons: null}, 
{kind: 1, offset: "onkeyup", len: 0, typ: NTI622414, name: "onkeyup", sons: null}, 
{kind: 1, offset: "onload", len: 0, typ: NTI622418, name: "onload", sons: null}, 
{kind: 1, offset: "onmousedown", len: 0, typ: NTI622422, name: "onmousedown", sons: null}, 
{kind: 1, offset: "onmousemove", len: 0, typ: NTI622426, name: "onmousemove", sons: null}, 
{kind: 1, offset: "onmouseout", len: 0, typ: NTI622430, name: "onmouseout", sons: null}, 
{kind: 1, offset: "onmouseover", len: 0, typ: NTI622434, name: "onmouseover", sons: null}, 
{kind: 1, offset: "onmouseup", len: 0, typ: NTI622438, name: "onmouseup", sons: null}, 
{kind: 1, offset: "onreset", len: 0, typ: NTI622442, name: "onreset", sons: null}, 
{kind: 1, offset: "onselect", len: 0, typ: NTI622446, name: "onselect", sons: null}, 
{kind: 1, offset: "onsubmit", len: 0, typ: NTI622450, name: "onsubmit", sons: null}, 
{kind: 1, offset: "onunload", len: 0, typ: NTI622454, name: "onunload", sons: null}]};
NTI622205.node = NNI622205;
NTI622205.base = NTI6008;
NTI622233.base = NTI622205;
NTI622231.base = NTI622233;
var NNI9727028 = {kind: 2, offset: 0, typ: null, name: null, len: 120, sons: {"0": {kind: 1, offset: 0, typ: NTI9727028, name: "#text", len: 0, sons: null}, 
"1": {kind: 1, offset: 1, typ: NTI9727028, name: "#int", len: 0, sons: null}, 
"2": {kind: 1, offset: 2, typ: NTI9727028, name: "#bool", len: 0, sons: null}, 
"3": {kind: 1, offset: 3, typ: NTI9727028, name: "#vthunk", len: 0, sons: null}, 
"4": {kind: 1, offset: 4, typ: NTI9727028, name: "#dthunk", len: 0, sons: null}, 
"5": {kind: 1, offset: 5, typ: NTI9727028, name: "#component", len: 0, sons: null}, 
"6": {kind: 1, offset: 6, typ: NTI9727028, name: "#verbatim", len: 0, sons: null}, 
"7": {kind: 1, offset: 7, typ: NTI9727028, name: "html", len: 0, sons: null}, 
"8": {kind: 1, offset: 8, typ: NTI9727028, name: "head", len: 0, sons: null}, 
"9": {kind: 1, offset: 9, typ: NTI9727028, name: "title", len: 0, sons: null}, 
"10": {kind: 1, offset: 10, typ: NTI9727028, name: "base", len: 0, sons: null}, 
"11": {kind: 1, offset: 11, typ: NTI9727028, name: "link", len: 0, sons: null}, 
"12": {kind: 1, offset: 12, typ: NTI9727028, name: "meta", len: 0, sons: null}, 
"13": {kind: 1, offset: 13, typ: NTI9727028, name: "style", len: 0, sons: null}, 
"14": {kind: 1, offset: 14, typ: NTI9727028, name: "script", len: 0, sons: null}, 
"15": {kind: 1, offset: 15, typ: NTI9727028, name: "noscript", len: 0, sons: null}, 
"16": {kind: 1, offset: 16, typ: NTI9727028, name: "body", len: 0, sons: null}, 
"17": {kind: 1, offset: 17, typ: NTI9727028, name: "section", len: 0, sons: null}, 
"18": {kind: 1, offset: 18, typ: NTI9727028, name: "nav", len: 0, sons: null}, 
"19": {kind: 1, offset: 19, typ: NTI9727028, name: "article", len: 0, sons: null}, 
"20": {kind: 1, offset: 20, typ: NTI9727028, name: "aside", len: 0, sons: null}, 
"21": {kind: 1, offset: 21, typ: NTI9727028, name: "h1", len: 0, sons: null}, 
"22": {kind: 1, offset: 22, typ: NTI9727028, name: "h2", len: 0, sons: null}, 
"23": {kind: 1, offset: 23, typ: NTI9727028, name: "h3", len: 0, sons: null}, 
"24": {kind: 1, offset: 24, typ: NTI9727028, name: "h4", len: 0, sons: null}, 
"25": {kind: 1, offset: 25, typ: NTI9727028, name: "h5", len: 0, sons: null}, 
"26": {kind: 1, offset: 26, typ: NTI9727028, name: "h6", len: 0, sons: null}, 
"27": {kind: 1, offset: 27, typ: NTI9727028, name: "header", len: 0, sons: null}, 
"28": {kind: 1, offset: 28, typ: NTI9727028, name: "footer", len: 0, sons: null}, 
"29": {kind: 1, offset: 29, typ: NTI9727028, name: "address", len: 0, sons: null}, 
"30": {kind: 1, offset: 30, typ: NTI9727028, name: "main", len: 0, sons: null}, 
"31": {kind: 1, offset: 31, typ: NTI9727028, name: "p", len: 0, sons: null}, 
"32": {kind: 1, offset: 32, typ: NTI9727028, name: "hr", len: 0, sons: null}, 
"33": {kind: 1, offset: 33, typ: NTI9727028, name: "pre", len: 0, sons: null}, 
"34": {kind: 1, offset: 34, typ: NTI9727028, name: "blockquote", len: 0, sons: null}, 
"35": {kind: 1, offset: 35, typ: NTI9727028, name: "ol", len: 0, sons: null}, 
"36": {kind: 1, offset: 36, typ: NTI9727028, name: "ul", len: 0, sons: null}, 
"37": {kind: 1, offset: 37, typ: NTI9727028, name: "li", len: 0, sons: null}, 
"38": {kind: 1, offset: 38, typ: NTI9727028, name: "dl", len: 0, sons: null}, 
"39": {kind: 1, offset: 39, typ: NTI9727028, name: "dt", len: 0, sons: null}, 
"40": {kind: 1, offset: 40, typ: NTI9727028, name: "dd", len: 0, sons: null}, 
"41": {kind: 1, offset: 41, typ: NTI9727028, name: "figure", len: 0, sons: null}, 
"42": {kind: 1, offset: 42, typ: NTI9727028, name: "figcaption", len: 0, sons: null}, 
"43": {kind: 1, offset: 43, typ: NTI9727028, name: "div", len: 0, sons: null}, 
"44": {kind: 1, offset: 44, typ: NTI9727028, name: "a", len: 0, sons: null}, 
"45": {kind: 1, offset: 45, typ: NTI9727028, name: "em", len: 0, sons: null}, 
"46": {kind: 1, offset: 46, typ: NTI9727028, name: "strong", len: 0, sons: null}, 
"47": {kind: 1, offset: 47, typ: NTI9727028, name: "small", len: 0, sons: null}, 
"48": {kind: 1, offset: 48, typ: NTI9727028, name: "s", len: 0, sons: null}, 
"49": {kind: 1, offset: 49, typ: NTI9727028, name: "cite", len: 0, sons: null}, 
"50": {kind: 1, offset: 50, typ: NTI9727028, name: "quote", len: 0, sons: null}, 
"51": {kind: 1, offset: 51, typ: NTI9727028, name: "dfn", len: 0, sons: null}, 
"52": {kind: 1, offset: 52, typ: NTI9727028, name: "abbr", len: 0, sons: null}, 
"53": {kind: 1, offset: 53, typ: NTI9727028, name: "data", len: 0, sons: null}, 
"54": {kind: 1, offset: 54, typ: NTI9727028, name: "time", len: 0, sons: null}, 
"55": {kind: 1, offset: 55, typ: NTI9727028, name: "code", len: 0, sons: null}, 
"56": {kind: 1, offset: 56, typ: NTI9727028, name: "var", len: 0, sons: null}, 
"57": {kind: 1, offset: 57, typ: NTI9727028, name: "samp", len: 0, sons: null}, 
"58": {kind: 1, offset: 58, typ: NTI9727028, name: "kdb", len: 0, sons: null}, 
"59": {kind: 1, offset: 59, typ: NTI9727028, name: "sub", len: 0, sons: null}, 
"60": {kind: 1, offset: 60, typ: NTI9727028, name: "sup", len: 0, sons: null}, 
"61": {kind: 1, offset: 61, typ: NTI9727028, name: "i", len: 0, sons: null}, 
"62": {kind: 1, offset: 62, typ: NTI9727028, name: "b", len: 0, sons: null}, 
"63": {kind: 1, offset: 63, typ: NTI9727028, name: "u", len: 0, sons: null}, 
"64": {kind: 1, offset: 64, typ: NTI9727028, name: "mark", len: 0, sons: null}, 
"65": {kind: 1, offset: 65, typ: NTI9727028, name: "ruby", len: 0, sons: null}, 
"66": {kind: 1, offset: 66, typ: NTI9727028, name: "rt", len: 0, sons: null}, 
"67": {kind: 1, offset: 67, typ: NTI9727028, name: "rp", len: 0, sons: null}, 
"68": {kind: 1, offset: 68, typ: NTI9727028, name: "bdi", len: 0, sons: null}, 
"69": {kind: 1, offset: 69, typ: NTI9727028, name: "dbo", len: 0, sons: null}, 
"70": {kind: 1, offset: 70, typ: NTI9727028, name: "span", len: 0, sons: null}, 
"71": {kind: 1, offset: 71, typ: NTI9727028, name: "br", len: 0, sons: null}, 
"72": {kind: 1, offset: 72, typ: NTI9727028, name: "wbr", len: 0, sons: null}, 
"73": {kind: 1, offset: 73, typ: NTI9727028, name: "ins", len: 0, sons: null}, 
"74": {kind: 1, offset: 74, typ: NTI9727028, name: "del", len: 0, sons: null}, 
"75": {kind: 1, offset: 75, typ: NTI9727028, name: "img", len: 0, sons: null}, 
"76": {kind: 1, offset: 76, typ: NTI9727028, name: "iframe", len: 0, sons: null}, 
"77": {kind: 1, offset: 77, typ: NTI9727028, name: "embed", len: 0, sons: null}, 
"78": {kind: 1, offset: 78, typ: NTI9727028, name: "object", len: 0, sons: null}, 
"79": {kind: 1, offset: 79, typ: NTI9727028, name: "param", len: 0, sons: null}, 
"80": {kind: 1, offset: 80, typ: NTI9727028, name: "video", len: 0, sons: null}, 
"81": {kind: 1, offset: 81, typ: NTI9727028, name: "audio", len: 0, sons: null}, 
"82": {kind: 1, offset: 82, typ: NTI9727028, name: "source", len: 0, sons: null}, 
"83": {kind: 1, offset: 83, typ: NTI9727028, name: "track", len: 0, sons: null}, 
"84": {kind: 1, offset: 84, typ: NTI9727028, name: "canvas", len: 0, sons: null}, 
"85": {kind: 1, offset: 85, typ: NTI9727028, name: "map", len: 0, sons: null}, 
"86": {kind: 1, offset: 86, typ: NTI9727028, name: "area", len: 0, sons: null}, 
"87": {kind: 1, offset: 87, typ: NTI9727028, name: "svg", len: 0, sons: null}, 
"88": {kind: 1, offset: 88, typ: NTI9727028, name: "math", len: 0, sons: null}, 
"89": {kind: 1, offset: 89, typ: NTI9727028, name: "path", len: 0, sons: null}, 
"90": {kind: 1, offset: 90, typ: NTI9727028, name: "circle", len: 0, sons: null}, 
"91": {kind: 1, offset: 91, typ: NTI9727028, name: "table", len: 0, sons: null}, 
"92": {kind: 1, offset: 92, typ: NTI9727028, name: "caption", len: 0, sons: null}, 
"93": {kind: 1, offset: 93, typ: NTI9727028, name: "colgroup", len: 0, sons: null}, 
"94": {kind: 1, offset: 94, typ: NTI9727028, name: "col", len: 0, sons: null}, 
"95": {kind: 1, offset: 95, typ: NTI9727028, name: "tbody", len: 0, sons: null}, 
"96": {kind: 1, offset: 96, typ: NTI9727028, name: "thead", len: 0, sons: null}, 
"97": {kind: 1, offset: 97, typ: NTI9727028, name: "tfoot", len: 0, sons: null}, 
"98": {kind: 1, offset: 98, typ: NTI9727028, name: "tr", len: 0, sons: null}, 
"99": {kind: 1, offset: 99, typ: NTI9727028, name: "td", len: 0, sons: null}, 
"100": {kind: 1, offset: 100, typ: NTI9727028, name: "th", len: 0, sons: null}, 
"101": {kind: 1, offset: 101, typ: NTI9727028, name: "form", len: 0, sons: null}, 
"102": {kind: 1, offset: 102, typ: NTI9727028, name: "fieldset", len: 0, sons: null}, 
"103": {kind: 1, offset: 103, typ: NTI9727028, name: "legend", len: 0, sons: null}, 
"104": {kind: 1, offset: 104, typ: NTI9727028, name: "label", len: 0, sons: null}, 
"105": {kind: 1, offset: 105, typ: NTI9727028, name: "input", len: 0, sons: null}, 
"106": {kind: 1, offset: 106, typ: NTI9727028, name: "button", len: 0, sons: null}, 
"107": {kind: 1, offset: 107, typ: NTI9727028, name: "select", len: 0, sons: null}, 
"108": {kind: 1, offset: 108, typ: NTI9727028, name: "datalist", len: 0, sons: null}, 
"109": {kind: 1, offset: 109, typ: NTI9727028, name: "optgroup", len: 0, sons: null}, 
"110": {kind: 1, offset: 110, typ: NTI9727028, name: "option", len: 0, sons: null}, 
"111": {kind: 1, offset: 111, typ: NTI9727028, name: "textarea", len: 0, sons: null}, 
"112": {kind: 1, offset: 112, typ: NTI9727028, name: "keygen", len: 0, sons: null}, 
"113": {kind: 1, offset: 113, typ: NTI9727028, name: "output", len: 0, sons: null}, 
"114": {kind: 1, offset: 114, typ: NTI9727028, name: "progress", len: 0, sons: null}, 
"115": {kind: 1, offset: 115, typ: NTI9727028, name: "meter", len: 0, sons: null}, 
"116": {kind: 1, offset: 116, typ: NTI9727028, name: "details", len: 0, sons: null}, 
"117": {kind: 1, offset: 117, typ: NTI9727028, name: "summary", len: 0, sons: null}, 
"118": {kind: 1, offset: 118, typ: NTI9727028, name: "command", len: 0, sons: null}, 
"119": {kind: 1, offset: 119, typ: NTI9727028, name: "menu", len: 0, sons: null}}};
NTI9727028.node = NNI9727028;
NTI9730037.base = NTI9730022;
NTI9730039.base = NTI114;
var NNI9727152 = {kind: 2, offset: 0, typ: null, name: null, len: 37, sons: {"0": {kind: 1, offset: 0, typ: NTI9727152, name: "onclick", len: 0, sons: null}, 
"1": {kind: 1, offset: 1, typ: NTI9727152, name: "oncontextmenu", len: 0, sons: null}, 
"2": {kind: 1, offset: 2, typ: NTI9727152, name: "ondblclick", len: 0, sons: null}, 
"3": {kind: 1, offset: 3, typ: NTI9727152, name: "onkeyup", len: 0, sons: null}, 
"4": {kind: 1, offset: 4, typ: NTI9727152, name: "onkeydown", len: 0, sons: null}, 
"5": {kind: 1, offset: 5, typ: NTI9727152, name: "onkeypressed", len: 0, sons: null}, 
"6": {kind: 1, offset: 6, typ: NTI9727152, name: "onfocus", len: 0, sons: null}, 
"7": {kind: 1, offset: 7, typ: NTI9727152, name: "onblur", len: 0, sons: null}, 
"8": {kind: 1, offset: 8, typ: NTI9727152, name: "onchange", len: 0, sons: null}, 
"9": {kind: 1, offset: 9, typ: NTI9727152, name: "onscroll", len: 0, sons: null}, 
"10": {kind: 1, offset: 10, typ: NTI9727152, name: "onmousedown", len: 0, sons: null}, 
"11": {kind: 1, offset: 11, typ: NTI9727152, name: "onmouseenter", len: 0, sons: null}, 
"12": {kind: 1, offset: 12, typ: NTI9727152, name: "onmouseleave", len: 0, sons: null}, 
"13": {kind: 1, offset: 13, typ: NTI9727152, name: "onmousemove", len: 0, sons: null}, 
"14": {kind: 1, offset: 14, typ: NTI9727152, name: "onmouseout", len: 0, sons: null}, 
"15": {kind: 1, offset: 15, typ: NTI9727152, name: "onmouseover", len: 0, sons: null}, 
"16": {kind: 1, offset: 16, typ: NTI9727152, name: "onmouseup", len: 0, sons: null}, 
"17": {kind: 1, offset: 17, typ: NTI9727152, name: "ondrag", len: 0, sons: null}, 
"18": {kind: 1, offset: 18, typ: NTI9727152, name: "ondragend", len: 0, sons: null}, 
"19": {kind: 1, offset: 19, typ: NTI9727152, name: "ondragenter", len: 0, sons: null}, 
"20": {kind: 1, offset: 20, typ: NTI9727152, name: "ondragleave", len: 0, sons: null}, 
"21": {kind: 1, offset: 21, typ: NTI9727152, name: "ondragover", len: 0, sons: null}, 
"22": {kind: 1, offset: 22, typ: NTI9727152, name: "ondragstart", len: 0, sons: null}, 
"23": {kind: 1, offset: 23, typ: NTI9727152, name: "ondrop", len: 0, sons: null}, 
"24": {kind: 1, offset: 24, typ: NTI9727152, name: "onsubmit", len: 0, sons: null}, 
"25": {kind: 1, offset: 25, typ: NTI9727152, name: "oninput", len: 0, sons: null}, 
"26": {kind: 1, offset: 26, typ: NTI9727152, name: "onanimationstart", len: 0, sons: null}, 
"27": {kind: 1, offset: 27, typ: NTI9727152, name: "onanimationend", len: 0, sons: null}, 
"28": {kind: 1, offset: 28, typ: NTI9727152, name: "onanimationiteration", len: 0, sons: null}, 
"29": {kind: 1, offset: 29, typ: NTI9727152, name: "onkeyupenter", len: 0, sons: null}, 
"30": {kind: 1, offset: 30, typ: NTI9727152, name: "onkeyuplater", len: 0, sons: null}, 
"31": {kind: 1, offset: 31, typ: NTI9727152, name: "onload", len: 0, sons: null}, 
"32": {kind: 1, offset: 32, typ: NTI9727152, name: "ontransitioncancel", len: 0, sons: null}, 
"33": {kind: 1, offset: 33, typ: NTI9727152, name: "ontransitionend", len: 0, sons: null}, 
"34": {kind: 1, offset: 34, typ: NTI9727152, name: "ontransitionrun", len: 0, sons: null}, 
"35": {kind: 1, offset: 35, typ: NTI9727152, name: "ontransitionstart", len: 0, sons: null}, 
"36": {kind: 1, offset: 36, typ: NTI9727152, name: "onwheel", len: 0, sons: null}}};
NTI9727152.node = NNI9727152;
var NNI9730030 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI9727152, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI9730074, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI9730078, name: "Field2", sons: null}]};
NTI9730030.node = NNI9730030;
NTI9730018.base = NTI9730030;
var NNI9682083 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI9682083.node = NNI9682083;
NTI9682084.base = NTI9682083;
var NNI9730031 = {kind: 2, len: 10, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "kind", len: 0, typ: NTI9727028, name: "kind", sons: null}, 
{kind: 1, offset: "index", len: 0, typ: NTI143, name: "index", sons: null}, 
{kind: 1, offset: "id", len: 0, typ: NTI114, name: "id", sons: null}, 
{kind: 1, offset: "class", len: 0, typ: NTI114, name: "class", sons: null}, 
{kind: 1, offset: "text", len: 0, typ: NTI114, name: "text", sons: null}, 
{kind: 1, offset: "kids", len: 0, typ: NTI9730037, name: "kids", sons: null}, 
{kind: 1, offset: "attrs", len: 0, typ: NTI9730039, name: "attrs", sons: null}, 
{kind: 1, offset: "events", len: 0, typ: NTI9730018, name: "events", sons: null}, 
{kind: 1, offset: "style", len: 0, typ: NTI9682084, name: "style", sons: null}, 
{kind: 1, offset: "dom", len: 0, typ: NTI622231, name: "dom", sons: null}]};
NTI9730031.node = NNI9730031;
NTI9730031.base = NTI6008;
NTI9730022.base = NTI9730031;
var NNI10182209 = {kind: 2, len: 5, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "k", len: 0, typ: NTI10182207, name: "k", sons: null}, 
{kind: 1, offset: "parent", len: 0, typ: NTI622231, name: "parent", sons: null}, 
{kind: 1, offset: "current", len: 0, typ: NTI622231, name: "current", sons: null}, 
{kind: 1, offset: "newNode", len: 0, typ: NTI9730022, name: "newNode", sons: null}, 
{kind: 1, offset: "oldNode", len: 0, typ: NTI9730022, name: "oldNode", sons: null}]};
NTI10182209.node = NNI10182209;
var NNI10182211 = {kind: 2, len: 3, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "parent", len: 0, typ: NTI9730022, name: "parent", sons: null}, 
{kind: 1, offset: "newChild", len: 0, typ: NTI9730022, name: "newChild", sons: null}, 
{kind: 1, offset: "pos", len: 0, typ: NTI143, name: "pos", sons: null}]};
NTI10182211.node = NNI10182211;
NTI9765125.base = NTI114;
var NNI6243 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI6243.node = NNI6243;
var NNI6221 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI6221.node = NNI6221;
NTI6221.base = NTI6217;
NTI6243.base = NTI6221;
var NNI6253 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI6253.node = NNI6253;
NTI6253.base = NTI6219;
var NNI6235 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI6235.node = NNI6235;
NTI6235.base = NTI6233;
var NNI12137095 = {kind: 2, offset: 0, typ: null, name: null, len: 4, sons: {"0": {kind: 1, offset: 0, typ: NTI12137095, name: "Okedo", len: 0, sons: null}, 
"1": {kind: 1, offset: 1, typ: NTI12137095, name: "Nagado", len: 0, sons: null}, 
"2": {kind: 1, offset: 2, typ: NTI12137095, name: "Shime", len: 0, sons: null}, 
"3": {kind: 1, offset: 3, typ: NTI12137095, name: "Oodaiko", len: 0, sons: null}}};
NTI12137095.node = NNI12137095;
var NNI6245 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI6245.node = NNI6245;
NTI6245.base = NTI6243;
var NNI4465011 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "a", len: 0, typ: NTI4210232, name: "a", sons: null}, 
{kind: 1, offset: "b", len: 0, typ: NTI143, name: "b", sons: null}]};
NTI4465011.node = NNI4465011;
var NNI12137099 = {kind: 2, len: 6, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "x", len: 0, typ: NTI143, name: "x", sons: null}, 
{kind: 1, offset: "y", len: 0, typ: NTI143, name: "y", sons: null}, 
{kind: 1, offset: "height", len: 0, typ: NTI143, name: "height", sons: null}, 
{kind: 1, offset: "width", len: 0, typ: NTI143, name: "width", sons: null}, 
{kind: 1, offset: "angle", len: 0, typ: NTI143, name: "angle", sons: null}, 
{kind: 1, offset: "instrumentType", len: 0, typ: NTI12137095, name: "instrumentType", sons: null}]};
NTI12137099.node = NNI12137099;
NTI12137099.base = NTI6008;
NTI12137097.base = NTI12137099;
NTI12145100.base = NTI12137097;
var NNI6251 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI6251.node = NNI6251;
NTI6251.base = NTI6219;
var NNI11336041 = {kind: 2, offset: 0, typ: null, name: null, len: 7, sons: {"0": {kind: 1, offset: 0, typ: NTI11336041, name: "JNull", len: 0, sons: null}, 
"1": {kind: 1, offset: 1, typ: NTI11336041, name: "JBool", len: 0, sons: null}, 
"2": {kind: 1, offset: 2, typ: NTI11336041, name: "JInt", len: 0, sons: null}, 
"3": {kind: 1, offset: 3, typ: NTI11336041, name: "JFloat", len: 0, sons: null}, 
"4": {kind: 1, offset: 4, typ: NTI11336041, name: "JString", len: 0, sons: null}, 
"5": {kind: 1, offset: 5, typ: NTI11336041, name: "JObject", len: 0, sons: null}, 
"6": {kind: 1, offset: 6, typ: NTI11336041, name: "JArray", len: 0, sons: null}}};
NTI11336041.node = NNI11336041;
NTI11336084.base = NTI11336043;
var NNI11336045 = {kind: 3, offset: "kind", len: 7, typ: NTI11336041, name: "kind", sons: [[setConstr(4), {kind: 1, offset: "str", len: 0, typ: NTI112, name: "str", sons: null}], 
[setConstr(2), {kind: 1, offset: "num", len: 0, typ: NTI179, name: "num", sons: null}], 
[setConstr(3), {kind: 1, offset: "fnum", len: 0, typ: NTI104, name: "fnum", sons: null}], 
[setConstr(1), {kind: 1, offset: "bval", len: 0, typ: NTI163, name: "bval", sons: null}], 
[setConstr(0), {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []}], 
[setConstr(5), {kind: 1, offset: "fields", len: 0, typ: NTI11336067, name: "fields", sons: null}], 
[setConstr(6), {kind: 1, offset: "elems", len: 0, typ: NTI11336084, name: "elems", sons: null}]]};
NTI11336045.node = NNI11336045;
NTI11336043.base = NTI11336045;
var NNI11336073 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI9896230, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI143, name: "Field1", sons: null}, 
{kind: 1, offset: "Field2", len: 0, typ: NTI112, name: "Field2", sons: null}, 
{kind: 1, offset: "Field3", len: 0, typ: NTI11336043, name: "Field3", sons: null}]};
NTI11336073.node = NNI11336073;
NTI11336070.base = NTI11336073;
var NNI11336067 = {kind: 2, len: 4, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "data", len: 0, typ: NTI11336070, name: "data", sons: null}, 
{kind: 1, offset: "counter", len: 0, typ: NTI143, name: "counter", sons: null}, 
{kind: 1, offset: "first", len: 0, typ: NTI143, name: "first", sons: null}, 
{kind: 1, offset: "last", len: 0, typ: NTI143, name: "last", sons: null}]};
NTI11336067.node = NNI11336067;
var NNI12140002 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "Field0", len: 0, typ: NTI112, name: "Field0", sons: null}, 
{kind: 1, offset: "Field1", len: 0, typ: NTI11336043, name: "Field1", sons: null}]};
NTI12140002.node = NNI12140002;
NTI12137122.base = NTI12137097;
NTI12137101.base = NTI12137103;
var NNI12137105 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "instruments", len: 0, typ: NTI12137122, name: "instruments", sons: null}, 
{kind: 1, offset: "map", len: 0, typ: NTI12137101, name: "map", sons: null}]};
NTI12137105.node = NNI12137105;
NTI12137105.base = NTI6008;
var NNI622227 = {kind: 2, len: 0, offset: 0, typ: null, name: null, sons: []};
NTI622227.node = NNI622227;
NTI622227.base = NTI6008;
NTI622225.base = NTI622227;
NTI622718.base = NTI622239;
var NNI622281 = {kind: 2, len: 10, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "acceptCharset", len: 0, typ: NTI114, name: "acceptCharset", sons: null}, 
{kind: 1, offset: "action", len: 0, typ: NTI114, name: "action", sons: null}, 
{kind: 1, offset: "autocomplete", len: 0, typ: NTI114, name: "autocomplete", sons: null}, 
{kind: 1, offset: "elements", len: 0, typ: NTI622718, name: "elements", sons: null}, 
{kind: 1, offset: "encoding", len: 0, typ: NTI114, name: "encoding", sons: null}, 
{kind: 1, offset: "enctype", len: 0, typ: NTI114, name: "enctype", sons: null}, 
{kind: 1, offset: "length", len: 0, typ: NTI143, name: "length", sons: null}, 
{kind: 1, offset: "method", len: 0, typ: NTI114, name: "method", sons: null}, 
{kind: 1, offset: "noValidate", len: 0, typ: NTI163, name: "noValidate", sons: null}, 
{kind: 1, offset: "target", len: 0, typ: NTI114, name: "target", sons: null}]};
NTI622281.node = NNI622281;
NTI622281.base = NTI622241;
NTI622279.base = NTI622281;
var NNI622277 = {kind: 2, len: 5, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "defaultSelected", len: 0, typ: NTI163, name: "defaultSelected", sons: null}, 
{kind: 1, offset: "selected", len: 0, typ: NTI163, name: "selected", sons: null}, 
{kind: 1, offset: "selectedIndex", len: 0, typ: NTI143, name: "selectedIndex", sons: null}, 
{kind: 1, offset: "text", len: 0, typ: NTI114, name: "text", sons: null}, 
{kind: 1, offset: "value", len: 0, typ: NTI114, name: "value", sons: null}]};
NTI622277.node = NNI622277;
NTI622277.base = NTI622241;
NTI622275.base = NTI622277;
NTI622624.base = NTI622275;
NTI622626.base = NTI622275;
var NNI622241 = {kind: 2, len: 19, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "classList", len: 0, typ: NTI622225, name: "classList", sons: null}, 
{kind: 1, offset: "checked", len: 0, typ: NTI163, name: "checked", sons: null}, 
{kind: 1, offset: "defaultChecked", len: 0, typ: NTI163, name: "defaultChecked", sons: null}, 
{kind: 1, offset: "defaultValue", len: 0, typ: NTI114, name: "defaultValue", sons: null}, 
{kind: 1, offset: "disabled", len: 0, typ: NTI163, name: "disabled", sons: null}, 
{kind: 1, offset: "form", len: 0, typ: NTI622279, name: "form", sons: null}, 
{kind: 1, offset: "name", len: 0, typ: NTI114, name: "name", sons: null}, 
{kind: 1, offset: "readOnly", len: 0, typ: NTI163, name: "readOnly", sons: null}, 
{kind: 1, offset: "options", len: 0, typ: NTI622624, name: "options", sons: null}, 
{kind: 1, offset: "selectedOptions", len: 0, typ: NTI622626, name: "selectedOptions", sons: null}, 
{kind: 1, offset: "clientWidth", len: 0, typ: NTI143, name: "clientWidth", sons: null}, 
{kind: 1, offset: "clientHeight", len: 0, typ: NTI143, name: "clientHeight", sons: null}, 
{kind: 1, offset: "contentEditable", len: 0, typ: NTI114, name: "contentEditable", sons: null}, 
{kind: 1, offset: "isContentEditable", len: 0, typ: NTI163, name: "isContentEditable", sons: null}, 
{kind: 1, offset: "dir", len: 0, typ: NTI114, name: "dir", sons: null}, 
{kind: 1, offset: "offsetHeight", len: 0, typ: NTI143, name: "offsetHeight", sons: null}, 
{kind: 1, offset: "offsetWidth", len: 0, typ: NTI143, name: "offsetWidth", sons: null}, 
{kind: 1, offset: "offsetLeft", len: 0, typ: NTI143, name: "offsetLeft", sons: null}, 
{kind: 1, offset: "offsetTop", len: 0, typ: NTI143, name: "offsetTop", sons: null}]};
NTI622241.node = NNI622241;
NTI622241.base = NTI622233;
NTI622239.base = NTI622241;
var NNI12416030 = {kind: 2, len: 2, offset: 0, typ: null, name: null, sons: [{kind: 1, offset: "e", len: 0, typ: NTI622239, name: "e", sons: null}, 
{kind: 1, offset: "data", len: 0, typ: NTI12137097, name: "data", sons: null}]};
NTI12416030.node = NNI12416030;
NTI12416030.base = NTI6008;
function cstrToNimstr(c_225079) {
      var ln = c_225079.length;
  var result = new Array(ln);
  var r = 0;
  for (var i = 0; i < ln; ++i) {
    var ch = c_225079.charCodeAt(i);

    if (ch < 128) {
      result[r] = ch;
    }
    else {
      if (ch < 2048) {
        result[r] = (ch >> 6) | 192;
      }
      else {
        if (ch < 55296 || ch >= 57344) {
          result[r] = (ch >> 12) | 224;
        }
        else {
            ++i;
            ch = 65536 + (((ch & 1023) << 10) | (c_225079.charCodeAt(i) & 1023));
            result[r] = (ch >> 18) | 240;
            ++r;
            result[r] = ((ch >> 12) & 63) | 128;
        }
        ++r;
        result[r] = ((ch >> 6) & 63) | 128;
      }
      ++r;
      result[r] = (ch & 63) | 128;
    }
    ++r;
  }
  return result;
  

  
}
function makeNimstrLit(c_225062) {
      var ln = c_225062.length;
  var result = new Array(ln);
  for (var i = 0; i < ln; ++i) {
    result[i] = c_225062.charCodeAt(i);
  }
  return result;
  

  
}
function toJSStr(s_225096) {
                    var Tmp5;
            var Tmp7;

  var result_225097 = null;

    var res_225170 = new_seq_225121((s_225096 != null ? s_225096.length : 0));
    var i_225172 = 0;
    var j_225174 = 0;
    L1: do {
        L2: while (true) {
        if (!(i_225172 < (s_225096 != null ? s_225096.length : 0))) break L2;
          var c_225175 = s_225096[i_225172];
          if ((c_225175 < 128)) {
          res_225170[j_225174] = String.fromCharCode(c_225175);
          i_225172 += 1;
          }
          else {
            var helper_225198 = new_seq_225121(0);
            L3: do {
                L4: while (true) {
                if (!true) break L4;
                  var code_225199 = c_225175.toString(16);
                  if (((code_225199 != null ? code_225199.length : 0) == 1)) {
                  if (helper_225198 != null) { helper_225198.push("%0"); } else { helper_225198 = ["%0"]; };
                  }
                  else {
                  if (helper_225198 != null) { helper_225198.push("%"); } else { helper_225198 = ["%"]; };
                  }
                  
                  if (helper_225198 != null) { helper_225198.push(code_225199); } else { helper_225198 = [code_225199]; };
                  i_225172 += 1;
                    if (((s_225096 != null ? s_225096.length : 0) <= i_225172)) Tmp5 = true; else {                      Tmp5 = (s_225096[i_225172] < 128);                    }                  if (Tmp5) {
                  break L3;
                  }
                  
                  c_225175 = s_225096[i_225172];
                }
            } while(false);
++excHandler;
            Tmp7 = framePtr;
            try {
            res_225170[j_225174] = decodeURIComponent(helper_225198.join(""));
--excHandler;
} catch (EXC) {
 var prevJSError = lastJSError;
 lastJSError = EXC;
 --excHandler;
            framePtr = Tmp7;
            res_225170[j_225174] = helper_225198.join("");
            lastJSError = prevJSError;
            } finally {
            framePtr = Tmp7;
            }
          }
          
          j_225174 += 1;
        }
    } while(false);
    if (res_225170 === null) res_225170 = [];
               if (res_225170.length < j_225174) { for (var i=res_225170.length;i<j_225174;++i) res_225170.push(null); }
               else { res_225170.length = j_225174; };
    result_225097 = res_225170.join("");

  return result_225097;

}
function raiseException(e_190218, ename_190219) {
    e_190218.name = ename_190219;
    if ((excHandler == 0)) {
    unhandledException(e_190218);
    }
    
    throw e_190218;

  
}
function addInt(a_230403, b_230404) {
        var result = a_230403 + b_230404;
    if (result > 2147483647 || result < -2147483648) raiseOverflow();
    return result;
  

  
}
function setConstr() {
        var result = {};
    for (var i = 0; i < arguments.length; ++i) {
      var x = arguments[i];
      if (typeof(x) == "object") {
        for (var j = x[0]; j <= x[1]; ++j) {
          result[j] = true;
        }
      } else {
        result[x] = true;
      }
    }
    return result;
  

  
}
var ConstSet1 = setConstr(17, 16, 4, 18, 27, 19, 23, 22, 21);
function nimCopy(dest_240023, src_240024, ti_240025) {
  var result_245219 = null;

    switch (ti_240025.kind) {
    case 21:
    case 22:
    case 23:
    case 5:
      if (!(is_fat_pointer_235401(ti_240025))) {
      result_245219 = src_240024;
      }
      else {
        result_245219 = [src_240024[0], src_240024[1]];
      }
      
      break;
    case 19:
            if (dest_240023 === null || dest_240023 === undefined) {
        dest_240023 = {};
      }
      else {
        for (var key in dest_240023) { delete dest_240023[key]; }
      }
      for (var key in src_240024) { dest_240023[key] = src_240024[key]; }
      result_245219 = dest_240023;
    
      break;
    case 18:
    case 17:
      if (!((ti_240025.base == null))) {
      result_245219 = nimCopy(dest_240023, src_240024, ti_240025.base);
      }
      else {
      if ((ti_240025.kind == 17)) {
      result_245219 = (dest_240023 === null || dest_240023 === undefined) ? {m_type: ti_240025} : dest_240023;
      }
      else {
        result_245219 = (dest_240023 === null || dest_240023 === undefined) ? {} : dest_240023;
      }
      }
      nimCopyAux(result_245219, src_240024, ti_240025.node);
      break;
    case 24:
    case 4:
    case 27:
    case 16:
            if (src_240024 === null) {
        result_245219 = null;
      }
      else {
        if (dest_240023 === null || dest_240023 === undefined) {
          dest_240023 = new Array(src_240024.length);
        }
        else {
          dest_240023.length = src_240024.length;
        }
        result_245219 = dest_240023;
        for (var i = 0; i < src_240024.length; ++i) {
          result_245219[i] = nimCopy(result_245219[i], src_240024[i], ti_240025.base);
        }
      }
    
      break;
    case 28:
            if (src_240024 !== null) {
        result_245219 = src_240024.slice(0);
      }
    
      break;
    default: 
      result_245219 = src_240024;
      break;
    }

  return result_245219;

}
      var to_tag_9730006 = ["#text", "#int", "#bool", "#vthunk", "#dthunk", "#component", "#verbatim", "HTML", "HEAD", "TITLE", "BASE", "LINK", "META", "STYLE", "SCRIPT", "NOSCRIPT", "BODY", "SECTION", "NAV", "ARTICLE", "ASIDE", "H1", "H2", "H3", "H4", "H5", "H6", "HEADER", "FOOTER", "ADDRESS", "MAIN", "P", "HR", "PRE", "BLOCKQUOTE", "OL", "UL", "LI", "DL", "DT", "DD", "FIGURE", "FIGCAPTION", "DIV", "A", "EM", "STRONG", "SMALL", "S", "CITE", "QUOTE", "DFN", "ABBR", "DATA", "TIME", "CODE", "VAR", "SAMP", "KDB", "SUB", "SUP", "I", "B", "U", "MARK", "RUBY", "RT", "RP", "BDI", "DBO", "SPAN", "BR", "WBR", "INS", "DEL", "IMG", "IFRAME", "EMBED", "OBJECT", "PARAM", "VIDEO", "AUDIO", "SOURCE", "TRACK", "CANVAS", "MAP", "AREA", "SVG", "MATH", "PATH", "CIRCLE", "TABLE", "CAPTION", "COLGROUP", "COL", "TBODY", "THEAD", "TFOOT", "TR", "TD", "TH", "FORM", "FIELDSET", "LEGEND", "LABEL", "INPUT", "BUTTON", "SELECT", "DATALIST", "OPTGROUP", "OPTION", "TEXTAREA", "KEYGEN", "OUTPUT", "PROGRESS", "METER", "DETAILS", "SUMMARY", "COMMAND", "MENU"];
function chckIndx(i_250086, a_250087, b_250088) {
      var Tmp1;

  var result_250089 = 0;

  BeforeRet: do {
      if (!(a_250087 <= i_250086)) Tmp1 = false; else {        Tmp1 = (i_250086 <= b_250088);      }    if (Tmp1) {
    result_250089 = i_250086;
    break BeforeRet;
    }
    else {
    raiseIndexError(i_250086, a_250087, b_250088);
    }
    
  } while (false);

  return result_250089;

}
function subInt(a_230421, b_230422) {
        var result = a_230421 - b_230422;
    if (result > 2147483647 || result < -2147483648) raiseOverflow();
    return result;
  

  
}
      var to_event_name_9730012 = ["click", "contextmenu", "dblclick", "keyup", "keydown", "keypressed", "focus", "blur", "change", "scroll", "mousedown", "mouseenter", "mouseleave", "mousemove", "mouseout", "mouseover", "mouseup", "drag", "dragend", "dragenter", "dragleave", "dragover", "dragstart", "drop", "submit", "input", "animationstart", "animationend", "animationiteration", "keyupenter", "keyuplater", "load", "transitioncancel", "transitionend", "transitionrun", "transitionstart", "wheel"];
function rawEcho() {
          var buf = "";
      for (var i = 0; i < arguments.length; ++i) {
        buf += toJSStr(arguments[i]);
      }
      console.log(buf);
    

  
}
function nimMin(a_230803, b_230804) {
    var Tmp1;

  var result_230805 = 0;

  BeforeRet: do {
    if ((a_230803 <= b_230804)) {
    Tmp1 = a_230803;
    }
    else {
    Tmp1 = b_230804;
    }
    
    result_230805 = Tmp1;
    break BeforeRet;
  } while (false);

  return result_230805;

}
function mulInt(a_230439, b_230440) {
        var result = a_230439 * b_230440;
    if (result > 2147483647 || result < -2147483648) raiseOverflow();
    return result;
  

  
}
var ConstSet2 = setConstr([48, 57]);
var ConstSet3 = setConstr([48, 57]);
function chckRange(i_255016, a_255017, b_255018) {
      var Tmp1;

  var result_255019 = 0;

  BeforeRet: do {
      if (!(a_255017 <= i_255016)) Tmp1 = false; else {        Tmp1 = (i_255016 <= b_255018);      }    if (Tmp1) {
    result_255019 = i_255016;
    break BeforeRet;
    }
    else {
    raiseRangeError();
    }
    
  } while (false);

  return result_255019;

}
function divInt(a_230457, b_230458) {
        if (b_230458 == 0) raiseDivByZero();
    if (b_230458 == -1 && a_230457 == 2147483647) raiseOverflow();
    return Math.trunc(a_230457 / b_230458);
  

  
}
function modInt(a_230475, b_230476) {
        if (b_230476 == 0) raiseDivByZero();
    if (b_230476 == -1 && a_230475 == 2147483647) raiseOverflow();
    return Math.trunc(a_230475 % b_230476);
  

  
}
function eqStrings(a_230222, b_230223) {
        if (a_230222 == b_230223) return true;
    if (a_230222 === null && b_230223.length == 0) return true;
    if (b_230223 === null && a_230222.length == 0) return true;
    if ((!a_230222) || (!b_230223)) return false;
    var alen = a_230222.length;
    if (alen != b_230223.length) return false;
    for (var i = 0; i < alen; ++i)
      if (a_230222[i] != b_230223[i]) return false;
    return true;
  

  
}
function reprEnum(e_315480, typ_315481) {
  var result_315482 = null;

    if (!(is_undefined_315483(typ_315481.node.sons[e_315480]))) {
    result_315482 = nimCopy(null, makeNimstrLit(typ_315481.node.sons[e_315480].name), NTI112);
    }
    else {
      result_315482 = nimCopy(null, (cstrToNimstr((e_315480)+"") || []).concat(makeNimstrLit(" (invalid data!)") || []), NTI112);
    }
    

  return result_315482;

}
function mnewString(len_230044) {
        return new Array(len_230044);
  

  
}
var ConstSet4 = setConstr(60, 62, 94);
var ConstSet5 = setConstr(60, 62, 94);
var ConstSet6 = setConstr(45, 43, 32);
var ConstSet7 = setConstr([48, 57]);
var ConstSet8 = setConstr([48, 57]);
var ConstSet9 = setConstr([48, 57]);
var ConstSet10 = setConstr([65, 90], [97, 122]);
function nimCharToStr(x_156052) {
  var result_156053 = null;

    result_156053 = nimCopy(null, mnewString(1), NTI112);
    result_156053[0] = x_156052;

  return result_156053;

}
function addChar(x_275031, c_275032) {
    x_275031.push(c_275032);

  
}
var ConstSet11 = setConstr(6);
function raiseFieldError(f_220047) {
    raiseException({message: nimCopy(null, f_220047, NTI112), parent: null, m_type: NTI6251, name: null, trace: null, up: null}, "FieldError");

  
}
var ConstSet12 = setConstr(5);
var ConstSet13 = setConstr(6);
var ConstSet14 = setConstr(5);
var ConstSet15 = setConstr(4);
var ConstSet16 = setConstr(2);
var ConstSet17 = setConstr(3);
var ConstSet18 = setConstr(1);
function genericReset(x_250044, ti_250045) {
  var result_250046 = null;

    result_250046 = null;
    switch (ti_250045.kind) {
    case 21:
    case 22:
    case 23:
    case 5:
      if (is_fat_pointer_235401(ti_250045)) {
              result_250046 = [null, 0];
      
      }
      
      break;
    case 19:
            result_250046 = {};
    
      break;
    case 18:
    case 17:
      if ((ti_250045.kind == 17)) {
      result_250046 = {m_type: ti_250045};
      }
      else {
        result_250046 = {};
      }
      
      break;
    case 24:
    case 27:
            result_250046 = [];
    
      break;
    case 4:
    case 16:
            result_250046 = new Array(x_250044.length);
      for (var i = 0; i < x_250044.length; ++i) {
        result_250046[i] = genericReset(x_250044[i], ti_250045.base);
      }
    
      break;
    default: 
      break;
    }

  return result_250046;

}
var ConstSet19 = setConstr(5);
var ConstSet20 = setConstr(5);
var ConstSet21 = setConstr(6);
var ConstSet22 = setConstr(2);
var ConstSet23 = setConstr(5);
var ConstSet24 = setConstr(4);
var ConstSet25 = setConstr(6);
var ConstSet26 = setConstr([65, 90]);
function nimMax(a_230821, b_230822) {
    var Tmp1;

  var result_230823 = 0;

  BeforeRet: do {
    if ((b_230822 <= a_230821)) {
    Tmp1 = a_230821;
    }
    else {
    Tmp1 = b_230822;
    }
    
    result_230823 = Tmp1;
    break BeforeRet;
  } while (false);

  return result_230823;

}
    var to_style_attr_name_9685006 = ["alignContent", "alignItems", "alignSelf", "animation", "animationDelay", "animationDirection", "animationDuration", "animationFillMode", "animationIterationCount", "animationName", "animationTimingFunction", "animationPlayState", "background", "backgroundAttachment", "backgroundColor", "backgroundImage", "backgroundPosition", "backgroundRepeat", "backgroundClip", "backgroundOrigin", "backgroundSize", "backfaceVisibility", "border", "borderBottom", "borderBottomColor", "borderBottomLeftRadius", "borderBottomRightRadius", "borderBottomStyle", "borderBottomWidth", "borderCollapse", "borderColor", "borderImage", "borderImageOutset", "borderImageRepeat", "borderImageSlice", "borderImageSource", "borderImageWidth", "borderLeft", "borderLeftColor", "borderLeftStyle", "borderLeftWidth", "borderRadius", "borderRight", "borderRightColor", "borderRightStyle", "borderRightWidth", "borderSpacing", "borderStyle", "borderTop", "borderTopColor", "borderTopLeftRadius", "borderTopRightRadius", "borderTopStyle", "borderTopWidth", "borderWidth", "bottom", "boxDecorationBreak", "boxShadow", "boxSizing", "captionSide", "clear", "clip", "color", "columnCount", "columnFill", "columnGap", "columnRule", "columnRuleColor", "columnRuleStyle", "columnRuleWidth", "columns", "columnSpan", "columnWidth", "content", "counterIncrement", "counterReset", "cursor", "direction", "display", "emptyCells", "filter", "flex", "flexBasis", "flexDirection", "flexFlow", "flexGrow", "flexShrink", "flexWrap", "cssFloat", "font", "fontFamily", "fontSize", "fontSizeAdjust", "fontStretch", "fontStyle", "fontVariant", "fontWeight", "hangingPunctuation", "height", "hyphens", "icon", "imageOrientation", "justifyContent", "left", "letterSpacing", "lineHeight", "listStyle", "listStyleImage", "listStylePosition", "listStyleType", "margin", "marginBottom", "marginLeft", "marginRight", "marginTop", "maxHeight", "maxWidth", "minHeight", "minWidth", "navDown", "navIndex", "navLeft", "navRight", "navUp", "opacity", "order", "orphans", "outline", "outlineColor", "outlineOffset", "outlineStyle", "outlineWidth", "overflow", "overflowX", "overflowY", "padding", "paddingBottom", "paddingLeft", "paddingRight", "paddingTop", "pageBreakAfter", "pageBreakBefore", "pageBreakInside", "perspective", "perspectiveOrigin", "pointerEvents", "position", "quotes", "resize", "right", "scrollbar3dLightColor", "scrollbarArrowColor", "scrollbarBaseColor", "scrollbarDarkshadowColor", "scrollbarFaceColor", "scrollbarHighlightColor", "scrollbarShadowColor", "scrollbarTrackColor", "tableLayout", "tabSize", "textAlign", "textAlignLast", "textDecoration", "textDecorationColor", "textDecorationLine", "textDecorationStyle", "textIndent", "textJustify", "textOverflow", "textShadow", "textTransform", "top", "transform", "transformOrigin", "transformStyle", "transition", "transitionDelay", "transitionDuration", "transitionProperty", "transitionTimingFunction", "unicodeBidi", "userSelect", "verticalAlign", "visibility", "whiteSpace", "width", "wordBreak", "wordSpacing", "wordWrap", "widows", "zIndex"];
var nim_program_result = 0;
var global_raise_hook_142018 = [null];
var local_raise_hook_142023 = [null];
var out_of_mem_hook_142026 = [null];
var unhandled_exception_hook_142031 = [null];
if (!Math.trunc) {
  Math.trunc = function(v) {
    v = +v;
    if (!isFinite(v)) return v;
    return (v - v % 1) || (v < 0 ? -0 : v === 0 ? v : 0);
  };
}

var gid_9765032 = [0];
var object_id_9900031 = [0];
var vcomponents_10061026 = [{}];
var kxi_10182284 = [null];
function new_seq_12416038(len_12416041) {
  var result_12416043 = null;

    result_12416043 = new Array(len_12416041); for (var i=0;i<len_12416041;++i) {result_12416043[i]=null;}
  return result_12416043;

}
var map_12416027 = [{m_type: NTI12137103, sequence: null, city: null, team: null, music: null, height: 0, width: 0}];
var instruments_12416102 = [new_seq_12416038(0)];
var selected_12416103 = [null];
var selected_type_12567014 = [0];
function add_142042(x_142045, x_142045_Idx, y_142046) {
          if (x_142045[x_142045_Idx] === null) { x_142045[x_142045_Idx] = []; }
      var off = x_142045[x_142045_Idx].length;
      x_142045[x_142045_Idx].length += y_142046.length;
      for (var i = 0; i < y_142046.length; ++i) {
        x_142045[x_142045_Idx][off+i] = y_142046.charCodeAt(i);
      }
    

  
}
function new_seq_225121(len_225124) {
  var result_225126 = null;

    result_225126 = new Array(len_225124); for (var i=0;i<len_225124;++i) {result_225126[i]=null;}
  return result_225126;

}
function unhandledException(e_185059) {
    var buf_185060 = [[]];
    if (!(((e_185059.message != null ? e_185059.message.length : 0) == 0))) {
    if (buf_185060[0] != null) { buf_185060[0] = (buf_185060[0]).concat(makeNimstrLit("Error: unhandled exception: ")); } else { buf_185060[0] = makeNimstrLit("Error: unhandled exception: "); };
    if (buf_185060[0] != null) { buf_185060[0] = (buf_185060[0]).concat(e_185059.message); } else { buf_185060[0] = e_185059.message.slice(); };
    }
    else {
    if (buf_185060[0] != null) { buf_185060[0] = (buf_185060[0]).concat(makeNimstrLit("Error: unhandled exception")); } else { buf_185060[0] = makeNimstrLit("Error: unhandled exception"); };
    }
    
    if (buf_185060[0] != null) { buf_185060[0] = (buf_185060[0]).concat(makeNimstrLit(" [")); } else { buf_185060[0] = makeNimstrLit(" ["); };
    add_142042(buf_185060, 0, e_185059.name);
    if (buf_185060[0] != null) { buf_185060[0] = (buf_185060[0]).concat(makeNimstrLit("]\x0A")); } else { buf_185060[0] = makeNimstrLit("]\x0A"); };
    var cbuf_190201 = toJSStr(buf_185060[0]);
    framePtr = null;
      if (typeof(Error) !== "undefined") {
    throw new Error(cbuf_190201);
  }
  else {
    throw cbuf_190201;
  }
  

  
}
function new_seq_10740005(len_10740008) {
  var result_10740010 = null;

    result_10740010 = new Array(len_10740008); for (var i=0;i<len_10740008;++i) {result_10740010[i]=({k: 0, parent: null, current: null, newNode: null, oldNode: null});}
  return result_10740010;

}
function new_seq_10740057(len_10740060) {
  var result_10740062 = null;

    result_10740062 = new Array(len_10740060); for (var i=0;i<len_10740060;++i) {result_10740062[i]=({parent: null, newChild: null, pos: 0});}
  return result_10740062;

}
function raiseOverflow() {
    raiseException({message: makeNimstrLit("over- or underflow"), parent: null, m_type: NTI6237, name: null, trace: null, up: null}, "OverflowError");

  
}
function is_fat_pointer_235401(ti_235403) {
  var result_235404 = false;

  BeforeRet: do {
    result_235404 = !((ConstSet1[ti_235403.base.kind] != undefined));
    break BeforeRet;
  } while (false);

  return result_235404;

}
function nimCopyAux(dest_240028, src_240029, n_240031) {
    switch (n_240031.kind) {
    case 0:
      break;
    case 1:
            dest_240028[n_240031.offset] = nimCopy(dest_240028[n_240031.offset], src_240029[n_240031.offset], n_240031.typ);
    
      break;
    case 2:
          for (var i = 0; i < n_240031.sons.length; i++) {
      nimCopyAux(dest_240028, src_240029, n_240031.sons[i]);
    }
    
      break;
    case 3:
            dest_240028[n_240031.offset] = nimCopy(dest_240028[n_240031.offset], src_240029[n_240031.offset], n_240031.typ);
      for (var i = 0; i < n_240031.sons.length; ++i) {
        nimCopyAux(dest_240028, src_240029, n_240031.sons[i][1]);
      }
    
      break;
    }

  
}
function sys_fatal_102618(message_102622) {
    raiseException({message: nimCopy(null, message_102622, NTI112), m_type: NTI6241, parent: null, name: null, trace: null, up: null}, "AssertionError");

  
}
function raise_assert_102614(msg_102616) {
    sys_fatal_102618(msg_102616);

  
}
function failed_assert_impl_102680(msg_102682) {
    raise_assert_102614(msg_102682);

  
}
function raiseIndexError(i_210047, a_210048, b_210049) {
    var Tmp1;

    if ((b_210049 < a_210048)) {
    Tmp1 = makeNimstrLit("index out of bounds, the container is empty");
    }
    else {
    Tmp1 = (makeNimstrLit("index ") || []).concat(cstrToNimstr((i_210047)+"") || [],makeNimstrLit(" not in ") || [],cstrToNimstr((a_210048)+"") || [],makeNimstrLit(" .. ") || [],cstrToNimstr((b_210049)+"") || []);
    }
    
    raiseException({message: nimCopy(null, Tmp1, NTI112), parent: null, m_type: NTI6249, name: null, trace: null, up: null}, "IndexError");

  
}
function valueHEX3D_9730143(n_9730145, v_9730146) {
    n_9730145.text = v_9730146;

  
}
function value_9730126(n_9730128) {
  var result_9730129 = null;

    result_9730129 = n_9730128.text;

  return result_9730129;

}
function add_event_shell_10182375(d_10182377, name_10182378, h_10182379) {
    d_10182377.addEventListener(name_10182378, h_10182379, false);
    if ((d_10182377.karaxEvents == null)) {
    d_10182377.karaxEvents = new Array(0);
    }
    
    d_10182377.karaxEvents.push({Field0: name_10182378, Field1: h_10182379});

  
}
function wrap_event_10185097(d_10185099, n_10185100, k_10185101, action_10185102) {
      function later_wrapper_10255042() {
          function HEX3Aanonymous_10255048(ev_10255050) {
              function wrapper_10255051() {
                  var vHEX60gensym10255053_10265001 = ev_10255050.target.value;
                  valueHEX3D_9730143(n_10255046, vHEX60gensym10255053_10265001);
                  if (!(!((action_10255045 == null)))) {
                  failed_assert_impl_102680(makeNimstrLit("karax.nim(74, 10) `action != nil` "));
                  }
                  
                  action_10255045(ev_10255050, n_10255046);
                  if (!((value_9730126(n_10255046) == vHEX60gensym10255053_10265001))) {
                  ev_10255050.target.value = value_9730126(n_10255046);
                  }
                  

                
              }

              if (!((timer_10255047 == null))) {
              clearTimeout(timer_10255047);
              }
              
              timer_10255047 = setTimeout(wrapper_10255051, 400);

            
          }

        var result_10255044 = null;

          var action_10255045 = action_10185102;
          var n_10255046 = n_10185100;
          var timer_10255047 = null;
          result_10255044 = HEX3Aanonymous_10255048;

        return result_10255044;

      }
      function enter_wrapper_10220042() {
          function HEX3Aanonymous_10220047(ev_10220049) {
              if ((ev_10220049.keyCode == 13)) {
              var vHEX60gensym10220050_10230001 = ev_10220049.target.value;
              valueHEX3D_9730143(n_10220046, vHEX60gensym10220050_10230001);
              if (!(!((action_10220045 == null)))) {
              failed_assert_impl_102680(makeNimstrLit("karax.nim(74, 10) `action != nil` "));
              }
              
              action_10220045(ev_10220049, n_10220046);
              if (!((value_9730126(n_10220046) == vHEX60gensym10220050_10230001))) {
              ev_10220049.target.value = value_9730126(n_10220046);
              }
              
              }
              

            
          }

        var result_10220044 = null;

          var action_10220045 = action_10185102;
          var n_10220046 = n_10185100;
          result_10220044 = HEX3Aanonymous_10220047;

        return result_10220044;

      }
      function std_wrapper_10185104() {
          function HEX3Aanonymous_10185109(ev_10185111) {
                var Tmp1;
                var Tmp2;

                if ((n_10185108.kind == 111)) Tmp2 = true; else {                  Tmp2 = (n_10185108.kind == 105);                }                if (Tmp2) Tmp1 = true; else {                  Tmp1 = (n_10185108.kind == 107);                }              if (Tmp1) {
              var vHEX60gensym10185130_10195001 = ev_10185111.target.value;
              valueHEX3D_9730143(n_10185108, vHEX60gensym10185130_10195001);
              if (!(!((action_10185107 == null)))) {
              failed_assert_impl_102680(makeNimstrLit("karax.nim(74, 10) `action != nil` "));
              }
              
              action_10185107(ev_10185111, n_10185108);
              if (!((value_9730126(n_10185108) == vHEX60gensym10185130_10195001))) {
              ev_10185111.target.value = value_9730126(n_10185108);
              }
              
              }
              else {
              action_10185107(ev_10185111, n_10185108);
              }
              

            
          }

        var result_10185106 = null;

          var action_10185107 = action_10185102;
          var n_10185108 = n_10185100;
          result_10185106 = HEX3Aanonymous_10185109;

        return result_10185106;

      }

  var result_10185103 = null;

    switch (k_10185101) {
    case 30:
      result_10185103 = later_wrapper_10255042();
      add_event_shell_10182375(d_10185099, "keyup", result_10185103);
      break;
    case 29:
      result_10185103 = enter_wrapper_10220042();
      add_event_shell_10182375(d_10185099, "keyup", result_10185103);
      break;
    default: 
      result_10185103 = std_wrapper_10185104();
      add_event_shell_10182375(d_10185099, to_event_name_9730012[chckIndx(k_10185101, 0, (to_event_name_9730012 != null ? to_event_name_9730012.length : 0)+0-1)-0], result_10185103);
      break;
    }

  return result_10185103;

}
function apply_events_10295073(n_10295075) {
    var dest_10295076 = n_10295075.dom;
    L1: do {
      var i_10295089 = 0;
      var colontmp__12610121 = 0;
      colontmp__12610121 = (n_10295075.events != null ? n_10295075.events.length : 0);
      var i_12610122 = 0;
      L2: do {
          L3: while (true) {
          if (!(i_12610122 < colontmp__12610121)) break L3;
            i_10295089 = i_12610122;
            n_10295075.events[chckIndx(i_10295089, 0, (n_10295075.events != null ? n_10295075.events.length : 0)+0-1)-0]["Field2"] = wrap_event_10185097(dest_10295076, n_10295075, n_10295075.events[chckIndx(i_10295089, 0, (n_10295075.events != null ? n_10295075.events.length : 0)+0-1)-0]["Field0"], n_10295075.events[chckIndx(i_10295089, 0, (n_10295075.events != null ? n_10295075.events.length : 0)+0-1)-0]["Field1"]);
            i_12610122 = addInt(i_12610122, 1);
          }
      } while(false);
    } while(false);

  
}
function apply_style_9720628(n_9720630, s_9720631) {
    n_9720630.style = {};
    L1: do {
      var i_9720664 = 0;
      var colontmp__12610132 = 0;
      colontmp__12610132 = subInt(s_9720631.length, 1);
      var res_12610133 = 0;
      L2: do {
          L3: while (true) {
          if (!(res_12610133 <= colontmp__12610132)) break L3;
            i_9720664 = res_12610133;
            n_9720630.style[s_9720631[i_9720664]] = s_9720631[addInt(i_9720664, 1)];
            res_12610133 = addInt(res_12610133, 2);
          }
      } while(false);
    } while(false);

  
}
function to_dom_10295154(n_10295156, use_attached_node_10295157, kxi_10295158) {
      var Tmp9;
      var Tmp10;

  var result_10295159 = null;

  BeforeRet: do {
    if (use_attached_node_10295157) {
    if (!((n_10295156.dom == null))) {
    if (!((n_10295156.id == null))) {
    kxi_10295158.byId[n_10295156.id] = n_10295156;
    }
    
    result_10295159 = n_10295156.dom;
    break BeforeRet;
    }
    
    }
    
    if ((n_10295156.kind == 0)) {
    result_10295159 = document.createTextNode(n_10295156.text);
    n_10295156.dom = result_10295159;
    if (!((n_10295156.id == null))) {
    kxi_10182284[0].byId[n_10295156.id] = n_10295156;
    }
    
    }
    else {
    if ((n_10295156.kind == 6)) {
    result_10295159 = document.createElement("div");
    result_10295159.innerHTML = n_10295156.text;
    n_10295156.dom = result_10295159;
    if (!((n_10295156.id == null))) {
    kxi_10182284[0].byId[n_10295156.id] = n_10295156;
    }
    
    break BeforeRet;
    }
    else {
    if ((n_10295156.kind == 3)) {
    var x_10330001 = vcomponents_10061026[0][n_10295156.text](n_10295156.kids);
    result_10295159 = to_dom_10295154(x_10330001, use_attached_node_10295157, kxi_10295158);
    n_10295156.dom = result_10295159;
    if (!((n_10295156.id == null))) {
    kxi_10182284[0].byId[n_10295156.id] = n_10295156;
    }
    
    break BeforeRet;
    }
    else {
    if ((n_10295156.kind == 4)) {
    result_10295159 = n_10295156.dom;
    if (!(!((result_10295159 == null)))) {
    failed_assert_impl_102680(makeNimstrLit("karax.nim(176, 12) `result != nil` "));
    }
    
    n_10295156.dom = result_10295159;
    if (!((n_10295156.id == null))) {
    kxi_10182284[0].byId[n_10295156.id] = n_10295156;
    }
    
    break BeforeRet;
    }
    else {
    if ((n_10295156.kind == 5)) {
    var x_10365022 = n_10295156;
    if (!((x_10365022.onAttachImpl == null))) {
    x_10365022.onAttachImpl(x_10365022);
    }
    
    if (!(!((x_10365022.renderImpl == null)))) {
    failed_assert_impl_102680(makeNimstrLit("karax.nim(183, 12) `x.renderImpl != nil` "));
    }
    
    if ((x_10365022.expanded == null)) {
    x_10365022.expanded = x_10365022.renderImpl(x_10365022);
    }
    
    if (!(!((x_10365022.expanded == null)))) {
    failed_assert_impl_102680(makeNimstrLit("karax.nim(187, 12) `x.expanded != nil` "));
    }
    
    result_10295159 = to_dom_10295154(x_10365022.expanded, use_attached_node_10295157, kxi_10295158);
    n_10295156.dom = result_10295159;
    if (!((n_10295156.id == null))) {
    kxi_10182284[0].byId[n_10295156.id] = n_10295156;
    }
    
    break BeforeRet;
    }
    else {
      result_10295159 = document.createElement(to_tag_9730006[chckIndx(n_10295156.kind, 0, (to_tag_9730006 != null ? to_tag_9730006.length : 0)+0-1)-0]);
      n_10295156.dom = result_10295159;
      if (!((n_10295156.id == null))) {
      kxi_10182284[0].byId[n_10295156.id] = n_10295156;
      }
      
      L1: do {
        var k_10420016 = null;
        L2: do {
          var i_12610090 = 0;
          var colontmp__12610091 = 0;
          colontmp__12610091 = (n_10295156.kids != null ? n_10295156.kids.length : 0);
          var i_12610092 = 0;
          L3: do {
              L4: while (true) {
              if (!(i_12610092 < colontmp__12610091)) break L4;
                i_12610090 = i_12610092;
                k_10420016 = n_10295156.kids[chckIndx(i_12610090, 0, (n_10295156.kids != null ? n_10295156.kids.length : 0)+0-1)-0];
                result_10295159.appendChild(to_dom_10295154(k_10420016, use_attached_node_10295157, kxi_10295158));
                i_12610092 = addInt(i_12610092, 1);
              }
          } while(false);
        } while(false);
      } while(false);
      if (!((n_10295156.text == null))) {
      result_10295159.value = n_10295156.text;
      }
      
    }
    }}}}
    if (!((n_10295156.id == null))) {
    result_10295159.id = n_10295156.id;
    }
    
    if (!((n_10295156.class == null))) {
    result_10295159.className = n_10295156.class;
    }
    
    L5: do {
      var k_10435001 = null;
      var v_10435002 = null;
      L6: do {
        var i_12610103 = 0;
        var colontmp__12610104 = 0;
        colontmp__12610104 = subInt((n_10295156.attrs != null ? n_10295156.attrs.length : 0), 2);
        var res_12610105 = 0;
        L7: do {
            L8: while (true) {
            if (!(res_12610105 <= colontmp__12610104)) break L8;
              i_12610103 = res_12610105;
              k_10435001 = n_10295156.attrs[chckIndx(i_12610103, 0, (n_10295156.attrs != null ? n_10295156.attrs.length : 0)+0-1)-0];
              v_10435002 = n_10295156.attrs[chckIndx(addInt(i_12610103, 1), 0, (n_10295156.attrs != null ? n_10295156.attrs.length : 0)+0-1)-0];
              if (!((v_10435002 == null))) {
              result_10295159.setAttribute(k_10435001, v_10435002);
              }
              
              res_12610105 = addInt(res_12610105, 2);
            }
        } while(false);
      } while(false);
    } while(false);
    apply_events_10295073(n_10295156);
      if (!!((kxi_10295158 == null))) Tmp10 = false; else {        Tmp10 = (n_10295156 == kxi_10295158.toFocusV);      }      if (!Tmp10) Tmp9 = false; else {        Tmp9 = (kxi_10295158.toFocus == null);      }    if (Tmp9) {
    kxi_10295158.toFocus = result_10295159;
    }
    
    if (!((n_10295156.style == null))) {
    apply_style_9720628(result_10295159, n_10295156.style);
    }
    
  } while (false);

  return result_10295159;

}
function replace_by_id_10460074(id_10460076, new_tree_10460077) {
    var x_10460078 = document.getElementById(id_10460076);
    x_10460078.parentNode.replaceChild(new_tree_10460077, x_10460078);
    new_tree_10460077.id = id_10460076;

  
}
function len_9815014(x_9815016) {
  var result_9815017 = 0;

    result_9815017 = (x_9815016.kids != null ? x_9815016.kids.length : 0);

  return result_9815017;

}
function HEX5BHEX5D_9815036(x_9815038, idx_9815039) {
  var result_9815040 = null;

    result_9815040 = x_9815038.kids[chckIndx(idx_9815039, 0, (x_9815038.kids != null ? x_9815038.kids.length : 0)+0-1)-0];

  return result_9815040;

}
function same_10445072(n_10445074, e_10445075, nesting_10445076) {
      var Tmp1;
      var Tmp2;

  var result_10445078 = false;

  BeforeRet: do {
    if (kxi_10182284[0].orphans.hasOwnProperty(n_10445074.id)) {
    result_10445078 = true;
    break BeforeRet;
    }
    
    if ((n_10445074.kind == 5)) {
    result_10445078 = same_10445072(n_10445074.expanded, e_10445075, addInt(nesting_10445076, 1));
    }
    else {
    if ((n_10445074.kind == 6)) {
    result_10445078 = true;
    }
    else {
      if ((n_10445074.kind == 3)) Tmp1 = true; else {        Tmp1 = (n_10445074.kind == 4);      }    if (Tmp1) {
    result_10445078 = true;
    }
    else {
    if ((to_tag_9730006[chckIndx(n_10445074.kind, 0, (to_tag_9730006 != null ? to_tag_9730006.length : 0)+0-1)-0] == e_10445075.nodeName)) {
    result_10445078 = true;
    if (!((n_10445074.kind == 0))) {
      if (!!((e_10445075.childNodes.length == len_9815014(n_10445074)))) Tmp2 = false; else {        Tmp2 = !((n_10445074.kind == 111));      }    if (Tmp2) {
    rawEcho(makeNimstrLit("expected "), cstrToNimstr((len_9815014(n_10445074))+""), makeNimstrLit(" real "), cstrToNimstr((e_10445075.childNodes.length)+""), makeNimstrLit(" "), cstrToNimstr(to_tag_9730006[chckIndx(n_10445074.kind, 0, (to_tag_9730006 != null ? to_tag_9730006.length : 0)+0-1)-0]), makeNimstrLit(" nesting "), cstrToNimstr((nesting_10445076)+""));
    result_10445078 = false;
    break BeforeRet;
    }
    
    L3: do {
      var i_10460024 = 0;
      var colontmp__12610139 = 0;
      colontmp__12610139 = len_9815014(n_10445074);
      var i_12610140 = 0;
      L4: do {
          L5: while (true) {
          if (!(i_12610140 < colontmp__12610139)) break L5;
            i_10460024 = i_12610140;
            if (!(same_10445072(HEX5BHEX5D_9815036(n_10445074, i_10460024), e_10445075.childNodes[i_10460024], addInt(nesting_10445076, 1)))) {
            result_10445078 = false;
            break BeforeRet;
            }
            
            i_12610140 = addInt(i_12610140, 1);
          }
      } while(false);
    } while(false);
    }
    
    }
    else {
    rawEcho(makeNimstrLit("VDOM: "), cstrToNimstr(to_tag_9730006[chckIndx(n_10445074.kind, 0, (to_tag_9730006 != null ? to_tag_9730006.length : 0)+0-1)-0]), makeNimstrLit(" DOM: "), cstrToNimstr(e_10445075.nodeName));
    }
    }}}
  } while (false);

  return result_10445078;

}
function eq_9685229(a_9685231, b_9685232) {
  var result_9685233 = false;

  BeforeRet: do {
    if ((a_9685231 == null)) {
    if ((b_9685232 == null)) {
    result_9685233 = true;
    break BeforeRet;
    }
    else {
      result_9685233 = false;
      break BeforeRet;
    }
    
    }
    else {
    if ((b_9685232 == null)) {
    result_9685233 = false;
    break BeforeRet;
    }
    }
    if (!((a_9685231.length == b_9685232.length))) {
    result_9685233 = false;
    break BeforeRet;
    }
    
    L1: do {
      var i_9690083 = 0;
      var colontmp__12610179 = 0;
      colontmp__12610179 = a_9685231.length;
      var i_12610180 = 0;
      L2: do {
          L3: while (true) {
          if (!(i_12610180 < colontmp__12610179)) break L3;
            i_9690083 = i_12610180;
            if (!((a_9685231[i_9690083] == b_9685232[i_9690083]))) {
            result_9685233 = false;
            break BeforeRet;
            }
            
            i_12610180 = addInt(i_12610180, 1);
          }
      } while(false);
    } while(false);
    result_9685233 = true;
    break BeforeRet;
  } while (false);

  return result_9685233;

}
function same_attrs_9825879(a_9825881, b_9825882) {
  var result_9825883 = false;

  BeforeRet: do {
    if (((a_9825881.attrs != null ? a_9825881.attrs.length : 0) == (b_9825882.attrs != null ? b_9825882.attrs.length : 0))) {
    result_9825883 = true;
    L1: do {
      var i_9825906 = 0;
      var colontmp__12610183 = 0;
      colontmp__12610183 = (a_9825881.attrs != null ? a_9825881.attrs.length : 0);
      var i_12610184 = 0;
      L2: do {
          L3: while (true) {
          if (!(i_12610184 < colontmp__12610183)) break L3;
            i_9825906 = i_12610184;
            if (!((a_9825881.attrs[chckIndx(i_9825906, 0, (a_9825881.attrs != null ? a_9825881.attrs.length : 0)+0-1)-0] == b_9825882.attrs[chckIndx(i_9825906, 0, (b_9825882.attrs != null ? b_9825882.attrs.length : 0)+0-1)-0]))) {
            result_9825883 = false;
            break BeforeRet;
            }
            
            i_12610184 = addInt(i_12610184, 1);
          }
      } while(false);
    } while(false);
    }
    
  } while (false);

  return result_9825883;

}
function eq_10460214(a_10460216, b_10460217, recursive_10460218) {
      var Tmp4;
      var Tmp5;

  var result_10460219 = 0;

  BeforeRet: do {
    if (!((a_10460216.kind == b_10460217.kind))) {
    result_10460219 = 1;
    break BeforeRet;
    }
    
    if (!((a_10460216.id == b_10460217.id))) {
    result_10460219 = 1;
    break BeforeRet;
    }
    
    result_10460219 = 3;
    if (!((a_10460216.index == b_10460217.index))) {
    result_10460219 = 1;
    break BeforeRet;
    }
    
    if ((a_10460216.kind == 0)) {
    if (!((a_10460216.text == b_10460217.text))) {
    result_10460219 = 1;
    break BeforeRet;
    }
    
    }
    else {
    if ((a_10460216.kind == 3)) {
    if (!((a_10460216.text == b_10460217.text))) {
    result_10460219 = 1;
    break BeforeRet;
    }
    
    if (!((len_9815014(a_10460216) == len_9815014(b_10460217)))) {
    result_10460219 = 1;
    break BeforeRet;
    }
    
    L1: do {
      var i_10490008 = 0;
      var colontmp__12610171 = 0;
      colontmp__12610171 = len_9815014(a_10460216);
      var i_12610172 = 0;
      L2: do {
          L3: while (true) {
          if (!(i_12610172 < colontmp__12610171)) break L3;
            i_10490008 = i_12610172;
            if ((eq_10460214(HEX5BHEX5D_9815036(a_10460216, i_10490008), HEX5BHEX5D_9815036(b_10460217, i_10490008), recursive_10460218) == 1)) {
            result_10460219 = 1;
            break BeforeRet;
            }
            
            i_12610172 = addInt(i_12610172, 1);
          }
      } while(false);
    } while(false);
    }
    else {
    if ((a_10460216.kind == 4)) {
    if ((a_10460216.dom == b_10460217.dom)) {
    result_10460219 = 3;
    break BeforeRet;
    }
    else {
      result_10460219 = 1;
      break BeforeRet;
    }
    
    }
    else {
    if ((a_10460216.kind == 6)) {
    if (!((a_10460216.text == b_10460217.text))) {
    result_10460219 = 1;
    break BeforeRet;
    }
    
    }
    else {
    if ((b_10460217.kind == 5)) {
    if (!((a_10460216.text == b_10460217.text))) {
    result_10460219 = 1;
    break BeforeRet;
    }
    
    if (!((a_10460216.key == b_10460217.key))) {
    result_10460219 = 1;
    break BeforeRet;
    }
    
    result_10460219 = 0;
    break BeforeRet;
    }
    }}}}
      if (!((a_10460216.class == b_10460217.class))) Tmp5 = true; else {        Tmp5 = !(eq_9685229(a_10460216.style, b_10460217.style));      }      if (Tmp5) Tmp4 = true; else {        Tmp4 = !(same_attrs_9825879(a_10460216, b_10460217));      }    if (Tmp4) {
    result_10460219 = 2;
    break BeforeRet;
    }
    
    if (recursive_10460218) {
    if (!((len_9815014(a_10460216) == len_9815014(b_10460217)))) {
    result_10460219 = 1;
    break BeforeRet;
    }
    
    L6: do {
      var i_10515008 = 0;
      var colontmp__12610175 = 0;
      colontmp__12610175 = len_9815014(a_10460216);
      var i_12610176 = 0;
      L7: do {
          L8: while (true) {
          if (!(i_12610176 < colontmp__12610175)) break L8;
            i_10515008 = i_12610176;
            if (!((eq_10460214(HEX5BHEX5D_9815036(a_10460216, i_10515008), HEX5BHEX5D_9815036(b_10460217, i_10515008), true) == 3))) {
            result_10460219 = 1;
            break BeforeRet;
            }
            
            i_12610176 = addInt(i_12610176, 1);
          }
      } while(false);
    } while(false);
    }
    
    break BeforeRet;
  } while (false);

  return result_10460219;

}
function update_styles_10520034(new_node_10520036, old_node_10520037) {
    if (!((old_node_10520037.dom == null))) {
    if (!((new_node_10520036.style == null))) {
    apply_style_9720628(old_node_10520037.dom, new_node_10520036.style);
    }
    else {
      old_node_10520037.dom.style = {m_type: NTI622289, background: null, backgroundAttachment: null, backgroundColor: null, backgroundImage: null, backgroundPosition: null, backgroundRepeat: null, backgroundSize: null, border: null, borderBottom: null, borderBottomColor: null, borderBottomStyle: null, borderBottomWidth: null, borderColor: null, borderLeft: null, borderLeftColor: null, borderLeftStyle: null, borderLeftWidth: null, borderRadius: null, borderRight: null, borderRightColor: null, borderRightStyle: null, borderRightWidth: null, borderStyle: null, borderTop: null, borderTopColor: null, borderTopStyle: null, borderTopWidth: null, borderWidth: null, bottom: null, boxSizing: null, boxShadow: null, captionSide: null, clear: null, clip: null, color: null, cursor: null, direction: null, display: null, emptyCells: null, cssFloat: null, font: null, fontFamily: null, fontSize: null, fontStretch: null, fontStyle: null, fontVariant: null, fontWeight: null, height: null, left: null, letterSpacing: null, lineHeight: null, listStyle: null, listStyleImage: null, listStylePosition: null, listStyleType: null, margin: null, marginBottom: null, marginLeft: null, marginRight: null, marginTop: null, maxHeight: null, maxWidth: null, minHeight: null, minWidth: null, opacity: null, outline: null, overflow: null, overflowX: null, overflowY: null, padding: null, paddingBottom: null, paddingLeft: null, paddingRight: null, paddingTop: null, pageBreakAfter: null, pageBreakBefore: null, pointerEvents: null, position: null, resize: null, right: null, scrollbar3dLightColor: null, scrollbarArrowColor: null, scrollbarBaseColor: null, scrollbarDarkshadowColor: null, scrollbarFaceColor: null, scrollbarHighlightColor: null, scrollbarShadowColor: null, scrollbarTrackColor: null, tableLayout: null, textAlign: null, textDecoration: null, textIndent: null, textTransform: null, transform: null, top: null, verticalAlign: null, visibility: null, width: null, wordSpacing: null, zIndex: 0};
    }
    
    old_node_10520037.dom.className = new_node_10520036.class;
    }
    
    old_node_10520037.style = new_node_10520036.style;
    old_node_10520037.class = new_node_10520036.class;

  
}
function take_over_attr_9765212(new_node_9765214, old_node_9765215) {
    old_node_9765215.attrs = new_node_9765214.attrs;

  
}
function update_attributes_10530052(new_node_10530054, old_node_10530055) {
    if (!((old_node_10530055.dom == null))) {
    L1: do {
      var k_10535009 = null;
      var __10535010 = null;
      L2: do {
        var i_12610189 = 0;
        var colontmp__12610190 = 0;
        colontmp__12610190 = subInt((old_node_10530055.attrs != null ? old_node_10530055.attrs.length : 0), 2);
        var res_12610191 = 0;
        L3: do {
            L4: while (true) {
            if (!(res_12610191 <= colontmp__12610190)) break L4;
              i_12610189 = res_12610191;
              k_10535009 = old_node_10530055.attrs[chckIndx(i_12610189, 0, (old_node_10530055.attrs != null ? old_node_10530055.attrs.length : 0)+0-1)-0];
              __10535010 = old_node_10530055.attrs[chckIndx(addInt(i_12610189, 1), 0, (old_node_10530055.attrs != null ? old_node_10530055.attrs.length : 0)+0-1)-0];
              old_node_10530055.dom.removeAttribute(k_10535009);
              res_12610191 = addInt(res_12610191, 2);
            }
        } while(false);
      } while(false);
    } while(false);
    L5: do {
      var k_10535011 = null;
      var v_10535012 = null;
      L6: do {
        var i_12610197 = 0;
        var colontmp__12610198 = 0;
        colontmp__12610198 = subInt((new_node_10530054.attrs != null ? new_node_10530054.attrs.length : 0), 2);
        var res_12610199 = 0;
        L7: do {
            L8: while (true) {
            if (!(res_12610199 <= colontmp__12610198)) break L8;
              i_12610197 = res_12610199;
              k_10535011 = new_node_10530054.attrs[chckIndx(i_12610197, 0, (new_node_10530054.attrs != null ? new_node_10530054.attrs.length : 0)+0-1)-0];
              v_10535012 = new_node_10530054.attrs[chckIndx(addInt(i_12610197, 1), 0, (new_node_10530054.attrs != null ? new_node_10530054.attrs.length : 0)+0-1)-0];
              if (!((v_10535012 == null))) {
              old_node_10530055.dom.setAttribute(k_10535011, v_10535012);
              }
              
              res_12610199 = addInt(res_12610199, 2);
            }
        } while(false);
      } while(false);
    } while(false);
    }
    
    take_over_attr_9765212(new_node_10530054, old_node_10530055);

  
}
function remove_all_event_handlers_10182436(d_10182438) {
    if (!((d_10182438.karaxEvents == null))) {
    L1: do {
      var i_10185041 = 0;
      var colontmp__12610204 = 0;
      colontmp__12610204 = d_10182438.karaxEvents.length;
      var i_12610205 = 0;
      L2: do {
          L3: while (true) {
          if (!(i_12610205 < colontmp__12610204)) break L3;
            i_10185041 = i_12610205;
            d_10182438.removeEventListener(d_10182438.karaxEvents[i_10185041]["Field0"], d_10182438.karaxEvents[i_10185041]["Field1"]);
            i_12610205 = addInt(i_12610205, 1);
          }
      } while(false);
    } while(false);
    }
    

  
}
function merge_events_10540014(new_node_10540016, old_node_10540017, kxi_10540018) {
    var d_10540019 = old_node_10540017.dom;
    if (!((d_10540019 == null))) {
    remove_all_event_handlers_10182436(d_10540019);
    }
    
    old_node_10540017.events = new_node_10540016.events;
    apply_events_10295073(old_node_10540017);

  
}
function add_patch_10545414(kxi_10545416, ka_10545417, parenta_10545418, currenta_10545419, na_10545420, old_node_10545421) {
    var l_10545422 = kxi_10545416.patchLen;
    if (((kxi_10545416.patches != null ? kxi_10545416.patches.length : 0) <= l_10545422)) {
    if (kxi_10545416.patches != null) { kxi_10545416.patches.push({k: ka_10545417, parent: parenta_10545418, current: currenta_10545419, newNode: na_10545420, oldNode: old_node_10545421}); } else { kxi_10545416.patches = [{k: ka_10545417, parent: parenta_10545418, current: currenta_10545419, newNode: na_10545420, oldNode: old_node_10545421}]; };
    }
    else {
      kxi_10545416.patches[chckIndx(l_10545422, 0, (kxi_10545416.patches != null ? kxi_10545416.patches.length : 0)+0-1)-0].k = ka_10545417;
      kxi_10545416.patches[chckIndx(l_10545422, 0, (kxi_10545416.patches != null ? kxi_10545416.patches.length : 0)+0-1)-0].parent = parenta_10545418;
      kxi_10545416.patches[chckIndx(l_10545422, 0, (kxi_10545416.patches != null ? kxi_10545416.patches.length : 0)+0-1)-0].current = currenta_10545419;
      kxi_10545416.patches[chckIndx(l_10545422, 0, (kxi_10545416.patches != null ? kxi_10545416.patches.length : 0)+0-1)-0].newNode = na_10545420;
      kxi_10545416.patches[chckIndx(l_10545422, 0, (kxi_10545416.patches != null ? kxi_10545416.patches.length : 0)+0-1)-0].oldNode = old_node_10545421;
    }
    
    kxi_10545416.patchLen = addInt(kxi_10545416.patchLen, 1);

  
}
function diff_10595215(new_node_10595217, old_node_10595218, parent_10595219, current_10595220, kxi_10595221) {
        var Tmp1;
            var Tmp6;

  BeforeRet: do {
    var result_10595401 = eq_10460214(new_node_10595217, old_node_10595218, false);
    switch (result_10595401) {
    case 0:
      if (kxi_10595221.components != null) { kxi_10595221.components.push({oldNode: old_node_10595218, newNode: new_node_10595217, parent: parent_10595219, current: current_10595220}); } else { kxi_10595221.components = [{oldNode: old_node_10595218, newNode: new_node_10595217, parent: parent_10595219, current: current_10595220}]; };
      break;
    case 3:
    case 2:
      new_node_10595217.dom = old_node_10595218.dom;
      if ((result_10595401 == 2)) {
      update_styles_10520034(new_node_10595217, old_node_10595218);
      update_attributes_10530052(new_node_10595217, old_node_10595218);
      if ((old_node_10595218.kind == 0)) {
      old_node_10595218.text = new_node_10595217.text;
      old_node_10595218.dom.nodeValue = new_node_10595217.text;
      }
      
      }
      
        if (!(((new_node_10595217.events != null ? new_node_10595217.events.length : 0) == 0))) Tmp1 = true; else {          Tmp1 = !(((old_node_10595218.events != null ? old_node_10595218.events.length : 0) == 0));        }      if (Tmp1) {
      merge_events_10540014(new_node_10595217, old_node_10595218, kxi_10595221);
      }
      
      var new_length_10605006 = len_9815014(new_node_10595217);
      var old_length_10605007 = len_9815014(old_node_10595218);
      if (((new_length_10605006 == 0) && (old_length_10605007 == 0))) {
      break BeforeRet;
      }
      
      var min_length_10605008 = nimMin(new_length_10605006, old_length_10605007);
      if (!((old_node_10595218.kind == new_node_10595217.kind))) {
      failed_assert_impl_102680(makeNimstrLit("karax.nim(487, 12) `oldNode.kind == newNode.kind` "));
      }
      
      var common_prefix_10615202 = 0;
      L2: do {
          L3: while (true) {
          if (!(common_prefix_10615202 < min_length_10605008)) break L3;
            if ((eq_10460214(HEX5BHEX5D_9815036(new_node_10595217, common_prefix_10615202), HEX5BHEX5D_9815036(old_node_10595218, common_prefix_10615202), true) == 3)) {
            add_patch_10545414(kxi_10595221, 5, null, null, HEX5BHEX5D_9815036(new_node_10595217, common_prefix_10615202), HEX5BHEX5D_9815036(old_node_10595218, common_prefix_10615202));
            common_prefix_10615202 = addInt(common_prefix_10615202, 1);
            }
            else {
              break L2;
            }
            
          }
      } while(false);
      var old_pos_10615214 = subInt(old_length_10605007, 1);
      var new_pos_10615215 = subInt(new_length_10605006, 1);
      L4: do {
          L5: while (true) {
            if (!(common_prefix_10615202 <= old_pos_10615214)) Tmp6 = false; else {              Tmp6 = (common_prefix_10615202 <= new_pos_10615215);            }          if (!Tmp6) break L5;
            if ((eq_10460214(HEX5BHEX5D_9815036(new_node_10595217, new_pos_10615215), HEX5BHEX5D_9815036(old_node_10595218, old_pos_10615214), true) == 3)) {
            add_patch_10545414(kxi_10595221, 5, null, null, HEX5BHEX5D_9815036(new_node_10595217, new_pos_10615215), HEX5BHEX5D_9815036(old_node_10595218, old_pos_10615214));
            old_pos_10615214 = subInt(old_pos_10615214, 1);
            new_pos_10615215 = subInt(new_pos_10615215, 1);
            }
            else {
              break L4;
            }
            
          }
      } while(false);
      var pos_10625018 = addInt(nimMin(old_pos_10615214, new_pos_10615215), 1);
      L7: do {
        var i_10625024 = 0;
        var colontmp__12610146 = 0;
        colontmp__12610146 = subInt(pos_10625018, 1);
        var res_12610147 = common_prefix_10615202;
        L8: do {
            L9: while (true) {
            if (!(res_12610147 <= colontmp__12610146)) break L9;
              i_10625024 = res_12610147;
              diff_10595215(HEX5BHEX5D_9815036(new_node_10595217, i_10625024), HEX5BHEX5D_9815036(old_node_10595218, i_10625024), current_10595220, current_10595220.childNodes[chckIndx(i_10625024, 0, (current_10595220.childNodes != null ? current_10595220.childNodes.length : 0)+0-1)-0], kxi_10595221);
              res_12610147 = addInt(res_12610147, 1);
            }
        } while(false);
      } while(false);
      if ((addInt(old_pos_10615214, 1) == old_length_10605007)) {
      L10: do {
        var i_10625030 = 0;
        var res_12610153 = pos_10625018;
        L11: do {
            L12: while (true) {
            if (!(res_12610153 <= new_pos_10615215)) break L12;
              i_10625030 = res_12610153;
              add_patch_10545414(kxi_10595221, 2, current_10595220, null, HEX5BHEX5D_9815036(new_node_10595217, i_10625030), null);
              res_12610153 = addInt(res_12610153, 1);
            }
        } while(false);
      } while(false);
      }
      else {
        var before_10625031 = current_10595220.childNodes[chckIndx(addInt(old_pos_10615214, 1), 0, (current_10595220.childNodes != null ? current_10595220.childNodes.length : 0)+0-1)-0];
        L13: do {
          var i_10625037 = 0;
          var res_12610159 = pos_10625018;
          L14: do {
              L15: while (true) {
              if (!(res_12610159 <= new_pos_10615215)) break L15;
                i_10625037 = res_12610159;
                add_patch_10545414(kxi_10595221, 3, current_10595220, before_10625031, HEX5BHEX5D_9815036(new_node_10595217, i_10625037), null);
                res_12610159 = addInt(res_12610159, 1);
              }
          } while(false);
        } while(false);
      }
      
      L16: do {
        var i_10625043 = 0;
        var res_12610165 = pos_10625018;
        L17: do {
            L18: while (true) {
            if (!(res_12610165 <= old_pos_10615214)) break L18;
              i_10625043 = res_12610165;
              add_patch_10545414(kxi_10182284[0], 4, null, null, null, HEX5BHEX5D_9815036(old_node_10595218, i_10625043));
              add_patch_10545414(kxi_10595221, 1, current_10595220, current_10595220.childNodes[chckIndx(i_10625043, 0, (current_10595220.childNodes != null ? current_10595220.childNodes.length : 0)+0-1)-0], null, null);
              res_12610165 = addInt(res_12610165, 1);
            }
        } while(false);
      } while(false);
      break;
    case 1:
      add_patch_10545414(kxi_10182284[0], 4, null, null, null, old_node_10595218);
      add_patch_10545414(kxi_10595221, 0, parent_10595219, current_10595220, new_node_10595217, null);
      break;
    case 4:
      if (true) {
      failed_assert_impl_102680(makeNimstrLit("karax.nim(529, 26) `false` eq returned usenewNode"));
      }
      
      break;
    }
  } while (false);

  
}
function apply_components_10645429(kxi_10645431) {
            var Tmp3;

    var i_10645433 = 0;
    L1: do {
        L2: while (true) {
        if (!(i_10645433 < (kxi_10645431.components != null ? kxi_10645431.components.length : 0))) break L2;
          var x_10645439 = kxi_10645431.components[chckIndx(i_10645433, 0, (kxi_10645431.components != null ? kxi_10645431.components.length : 0)+0-1)-0].oldNode;
          var new_node_10645440 = kxi_10645431.components[chckIndx(i_10645433, 0, (kxi_10645431.components != null ? kxi_10645431.components.length : 0)+0-1)-0].newNode;
            if (!!((x_10645439.changedImpl == null))) Tmp3 = false; else {              Tmp3 = x_10645439.changedImpl(x_10645439, new_node_10645440);            }          if (Tmp3) {
          var current_10650201 = kxi_10645431.components[chckIndx(i_10645433, 0, (kxi_10645431.components != null ? kxi_10645431.components.length : 0)+0-1)-0].current;
          var parent_10650202 = kxi_10645431.components[chckIndx(i_10645433, 0, (kxi_10645431.components != null ? kxi_10645431.components.length : 0)+0-1)-0].parent;
          x_10645439.updatedImpl(x_10645439, new_node_10645440);
          var old_expanded_10650203 = x_10645439.expanded;
          x_10645439.expanded = x_10645439.renderImpl(x_10645439);
          x_10645439.renderedVersion = x_10645439.version;
          if ((old_expanded_10650203 == null)) {
          add_patch_10545414(kxi_10182284[0], 4, null, null, null, x_10645439);
          add_patch_10545414(kxi_10645431, 0, parent_10650202, current_10650201, x_10645439.expanded, null);
          }
          else {
            diff_10595215(x_10645439.expanded, old_expanded_10650203, parent_10650202, current_10650201, kxi_10645431);
          }
          
          }
          
          i_10645433 = addInt(i_10645433, 1);
        }
    } while(false);
    if (kxi_10645431.components === null) kxi_10645431.components = [];
               if (kxi_10645431.components.length < 0) { for (var i=kxi_10645431.components.length;i<0;++i) kxi_10645431.components.push(({oldNode: null, newNode: null, parent: null, current: null})); }
               else { kxi_10645431.components.length = 0; };

  
}
function move_dom_10555047(dest_10555049, src_10555050) {
    dest_10555049.dom = src_10555050.dom;
    src_10555050.dom = null;
    if (!((dest_10555049.id == null))) {
    kxi_10182284[0].byId[dest_10555049.id] = dest_10555049;
    }
    
    if (!((len_9815014(dest_10555049) == len_9815014(src_10555050)))) {
    failed_assert_impl_102680(makeNimstrLit("karax.nim(390, 10) `dest.len == src.len` "));
    }
    
    L1: do {
      var i_10570208 = 0;
      var colontmp__12610216 = 0;
      colontmp__12610216 = len_9815014(dest_10555049);
      var i_12610217 = 0;
      L2: do {
          L3: while (true) {
          if (!(i_12610217 < colontmp__12610216)) break L3;
            i_10570208 = i_12610217;
            move_dom_10555047(HEX5BHEX5D_9815036(dest_10555049, i_10570208), HEX5BHEX5D_9815036(src_10555050, i_10570208));
            i_12610217 = addInt(i_12610217, 1);
          }
      } while(false);
    } while(false);

  
}
function HEX5BHEX5DHEX3D_9815054(x_9815056, idx_9815057, y_9815058) {
    x_9815056.kids[chckIndx(idx_9815057, 0, (x_9815056.kids != null ? x_9815056.kids.length : 0)+0-1)-0] = y_9815058;

  
}
function apply_patch_10570222(kxi_10570224) {
    L1: do {
      var i_10570232 = 0;
      var i_12610210 = 0;
      L2: do {
          L3: while (true) {
          if (!(i_12610210 < kxi_10570224.patchLen)) break L3;
            i_10570232 = i_12610210;
            var p_10570233 = nimCopy(null, kxi_10570224.patches[chckIndx(i_10570232, 0, (kxi_10570224.patches != null ? kxi_10570224.patches.length : 0)+0-1)-0], NTI10182209);
            switch (p_10570233.k) {
            case 0:
              var nn_10570234 = to_dom_10295154(p_10570233.newNode, true, kxi_10570224);
              if ((p_10570233.parent == null)) {
              replace_by_id_10460074(kxi_10570224.rootId, nn_10570234);
              }
              else {
                if ((p_10570233.current.parentNode == p_10570233.parent)) {
                p_10570233.parent.replaceChild(nn_10570234, p_10570233.current);
                }
                else {
                p_10570233.parent.appendChild(nn_10570234);
                }
                
              }
              
              break;
            case 5:
              move_dom_10555047(p_10570233.newNode, p_10570233.oldNode);
              break;
            case 1:
              p_10570233.parent.removeChild(p_10570233.current);
              break;
            case 2:
              var nn_10570250 = to_dom_10295154(p_10570233.newNode, true, kxi_10570224);
              p_10570233.parent.appendChild(nn_10570250);
              break;
            case 3:
              var nn_10570251 = to_dom_10295154(p_10570233.newNode, true, kxi_10570224);
              p_10570233.parent.insertBefore(nn_10570251, p_10570233.current);
              break;
            case 4:
              var n_10570252 = p_10570233.oldNode;
              if (!((n_10570252.id == null))) {
              delete kxi_10570224.byId[n_10570252.id];
              }
              
              if ((n_10570252.kind == 5)) {
              var x_10575018 = n_10570252;
              if (!((x_10575018.onDetachImpl == null))) {
              x_10575018.onDetachImpl(x_10575018);
              }
              
              }
              
              if (!(kxi_10570224.surpressRedraws)) {
              n_10570252.dom = null;
              }
              
              break;
            }
            i_12610210 = addInt(i_12610210, 1);
          }
      } while(false);
    } while(false);
    kxi_10570224.patchLen = 0;
    L4: do {
      var i_10580013 = 0;
      var i_12610213 = 0;
      L5: do {
          L6: while (true) {
          if (!(i_12610213 < kxi_10570224.patchLenV)) break L6;
            i_10580013 = i_12610213;
            var p_10580014 = nimCopy(null, kxi_10570224.patchesV[chckIndx(i_10580013, 0, (kxi_10570224.patchesV != null ? kxi_10570224.patchesV.length : 0)+0-1)-0], NTI10182211);
            HEX5BHEX5DHEX3D_9815054(p_10580014.parent, p_10580014.pos, p_10580014.newChild);
            if (!(!((p_10580014.newChild.dom == null)))) {
            failed_assert_impl_102680(makeNimstrLit("karax.nim(429, 12) `p.newChild.dom != nil` "));
            }
            
            i_12610213 = addInt(i_12610213, 1);
          }
      } while(false);
    } while(false);
    kxi_10570224.patchLenV = 0;

  
}
function dodraw_10710262(kxi_10710264) {
  BeforeRet: do {
    if ((kxi_10710264.renderer == null)) {
    break BeforeRet;
    }
    
    var rdata_10710269 = {hashPart: window.location.hash};
    var newtree_10710270 = kxi_10710264.renderer(rdata_10710269);
    kxi_10710264.runCount = addInt(kxi_10710264.runCount, 1);
    newtree_10710270.id = kxi_10710264.rootId;
    kxi_10710264.toFocus = null;
    if ((kxi_10710264.currentTree == null)) {
    var asdom_10710285 = to_dom_10295154(newtree_10710270, true, kxi_10710264);
    replace_by_id_10460074(kxi_10710264.rootId, asdom_10710285);
    }
    else {
      if (!(same_10445072(kxi_10710264.currentTree, document.getElementById(kxi_10710264.rootId), 0))) {
      failed_assert_impl_102680(makeNimstrLit("karax.nim(644, 14) `same(kxi.currentTree, document.getElementById(kxi.rootId))` "));
      }
      
      var olddom_10720201 = document.getElementById(kxi_10710264.rootId);
      diff_10595215(newtree_10710270, kxi_10710264.currentTree, null, olddom_10720201, kxi_10710264);
    }
    
    apply_components_10645429(kxi_10710264);
    apply_patch_10570222(kxi_10710264);
    kxi_10710264.currentTree = newtree_10710270;
    if (!(same_10445072(kxi_10710264.currentTree, document.getElementById(kxi_10710264.rootId), 0))) {
    failed_assert_impl_102680(makeNimstrLit("karax.nim(657, 12) `same(kxi.currentTree, document.getElementById(kxi.rootId))` "));
    }
    
    if (!((kxi_10710264.postRenderCallback == null))) {
    kxi_10710264.postRenderCallback(rdata_10710269);
    }
    
    if (!((kxi_10710264.toFocus == null))) {
    kxi_10710264.toFocus.focus();
    }
    
    kxi_10710264.renderId = 0;
  } while (false);

  
}
function init_10735646(ev_10735648) {
    function HEX3Aanonymous_10735649() {
        dodraw_10710262(kxi_10182284[0]);

      
    }

    kxi_10182284[0].renderId = window.requestAnimationFrame(HEX3Aanonymous_10735649);

  
}
function redraw_10735414(kxi_10735416) {
    function HEX3Aanonymous_10735601() {
        dodraw_10710262(kxi_10735416);

      
    }

    if ((kxi_10735416.renderId == 0)) {
    kxi_10735416.renderId = window.requestAnimationFrame(HEX3Aanonymous_10735601);
    }
    

  
}
function set_renderer_10735678(renderer_10735683, root_10735684, client_post_render_callback_10735688) {
    function HEX3Aanonymous_10740135() {
        redraw_10735414(kxi_10182284[0]);

      
    }

  var result_10735689 = null;

    if ((document.getElementById(root_10735684) == null)) {
    var msg_10735695 = (("Could not find a <div> with id=" + root_10735684) + ". Karax needs it as its rendering target.");
    raiseException({message: cstrToNimstr(msg_10735695), parent: null, m_type: NTI6217, name: null, trace: null, up: null}, "Exception");
    }
    
    result_10735689 = {rootId: root_10735684, renderer: renderer_10735683, postRenderCallback: client_post_render_callback_10735688, patches: new_seq_10740005(60), patchesV: new_seq_10740057(30), components: [], surpressRedraws: false, byId: {}, orphans: {}, currentTree: null, toFocus: null, toFocusV: null, renderId: 0, patchLen: 0, patchLenV: 0, runCount: 0};
    kxi_10182284[0] = result_10735689;
    window.onload = init_10735646;
    window.onhashchange = HEX3Aanonymous_10740135;

  return result_10735689;

}
function set_renderer_10740238(renderer_10740242, root_10740243, client_post_render_callback_10740246) {
    function wrap_renderer_10740248(data_10740250) {
      var result_10740251 = null;

        result_10740251 = renderer_10740242();

      return result_10740251;

    }
    function wrap_post_render_10740265(data_10740267) {
        if (!((client_post_render_callback_10740246 == null))) {
        client_post_render_callback_10740246();
        }
        

      
    }

  var result_10740247 = null;

    result_10740247 = set_renderer_10735678(wrap_renderer_10740248, root_10740243, wrap_post_render_10740265);

  return result_10740247;

}
function new_vnode_9825428(kind_9825430) {
  var result_9825431 = null;

    result_9825431 = {kind: kind_9825430, index: -1, m_type: NTI9730031, id: null, class: null, text: null, kids: null, attrs: null, events: null, style: null, dom: null};

  return result_9825431;

}
function add_9815072(parent_9815074, kid_9815075) {
    if (parent_9815074.kids != null) { parent_9815074.kids.push(kid_9815075); } else { parent_9815074.kids = [kid_9815075]; };

  
}
function tree_9825445(kind_9825447, kids_9825449) {
  var result_9825450 = null;

    result_9825450 = new_vnode_9825428(kind_9825447);
    L1: do {
      var k_9825481 = null;
      var i_12610235 = 0;
      L2: do {
          L3: while (true) {
          if (!(i_12610235 < (kids_9825449 != null ? kids_9825449.length : 0))) break L3;
            k_9825481 = kids_9825449[chckIndx(i_12610235, 0, (kids_9825449 != null ? kids_9825449.length : 0)+0-1)-0];
            add_9815072(result_9825450, k_9825481);
            i_12610235 = addInt(i_12610235, 1);
          }
      } while(false);
    } while(false);

  return result_9825450;

}
function add_event_listener_9830014(n_9830016, event_9830017, handler_9830018) {
    if (n_9830016.events != null) { n_9830016.events.push({Field0: event_9830017, Field1: handler_9830018, Field2: null}); } else { n_9830016.events = [{Field0: event_9830017, Field1: handler_9830018, Field2: null}]; };

  
}
function add_event_handler_10745118(n_10745120, k_10745121, action_10745122, kxi_10745123) {
    function wrapper_10745124(ev_10745126, n_10745127) {
        action_10745122(ev_10745126, n_10745127);
        if (!(kxi_10745123.surpressRedraws)) {
        redraw_10735414(kxi_10745123);
        }
        

      
    }

    add_event_listener_9830014(n_10745120, k_10745121, wrapper_10745124);

  
}
function show_new_map_menu_12567045(ev_12567047, n_12567048) {
    if (document.getElementById("newMap").classList.contains("down")) {
    document.getElementById("newMap").classList.remove("down");
    }
    else {
    document.getElementById("newMap").classList.add("down");
    }
    

  
}
function text_9825548(s_9825550) {
  var result_9825551 = null;

    result_9825551 = {kind: 0, text: toJSStr(s_9825550), index: -1, m_type: NTI9730031, id: null, class: null, kids: null, attrs: null, events: null, style: null, dom: null};

  return result_9825551;

}
function set_attr_9765105(n_9765107, key_9765108, val_9765109) {
  BeforeRet: do {
    if (((n_9765107.attrs != null ? n_9765107.attrs.length : 0) == 0)) {
    n_9765107.attrs = nimCopy(null, [key_9765108, val_9765109], NTI9765125);
    }
    else {
      L1: do {
        var i_9765138 = 0;
        var colontmp__12610272 = 0;
        colontmp__12610272 = subInt((n_9765107.attrs != null ? n_9765107.attrs.length : 0), 2);
        var res_12610273 = 0;
        L2: do {
            L3: while (true) {
            if (!(res_12610273 <= colontmp__12610272)) break L3;
              i_9765138 = res_12610273;
              if ((n_9765107.attrs[chckIndx(i_9765138, 0, (n_9765107.attrs != null ? n_9765107.attrs.length : 0)+0-1)-0] == key_9765108)) {
              n_9765107.attrs[chckIndx(addInt(i_9765138, 1), 0, (n_9765107.attrs != null ? n_9765107.attrs.length : 0)+0-1)-0] = val_9765109;
              break BeforeRet;
              }
              
              res_12610273 = addInt(res_12610273, 2);
            }
        } while(false);
      } while(false);
      if (n_9765107.attrs != null) { n_9765107.attrs.push(key_9765108); } else { n_9765107.attrs = [key_9765108]; };
      if (n_9765107.attrs != null) { n_9765107.attrs.push(val_9765109); } else { n_9765107.attrs = [val_9765109]; };
    }
    
  } while (false);

  
}
function add_event_handler_10745154(n_10745156, k_10745157, action_10745160, kxi_10745161) {
    function wrapper_10745162(ev_10745164, n_10745165) {
        action_10745160();
        if (!(kxi_10745161.surpressRedraws)) {
        redraw_10735414(kxi_10745161);
        }
        

      
    }

    add_event_listener_9830014(n_10745156, k_10745157, wrapper_10745162);

  
}
function integer_out_of_range_error_935049() {
    raiseException({message: makeNimstrLit("Parsed integer outside of valid range"), parent: null, m_type: NTI6243, name: null, trace: null, up: null}, "ValueError");

  
}
function raw_parse_int_940201(s_940203, b_940205, b_940205_Idx, start_940206) {
      var Tmp1;
          var Tmp4;
      var Tmp7;

  var result_940208 = 0;

    var sign_940209 = -1;
    var i_940210 = start_940206;
    if ((i_940210 < (s_940203 != null ? s_940203.length : 0))) {
    if ((s_940203[chckIndx(i_940210, 0, (s_940203 != null ? s_940203.length : 0)+0-1)-0] == 43)) {
    i_940210 += 1;
    }
    else {
    if ((s_940203[chckIndx(i_940210, 0, (s_940203 != null ? s_940203.length : 0)+0-1)-0] == 45)) {
    i_940210 += 1;
    sign_940209 = 1;
    }
    }
    }
    
      if (!(i_940210 < (s_940203 != null ? s_940203.length : 0))) Tmp1 = false; else {        Tmp1 = (ConstSet2[s_940203[chckIndx(i_940210, 0, (s_940203 != null ? s_940203.length : 0)+0-1)-0]] != undefined);      }    if (Tmp1) {
    b_940205[b_940205_Idx] = 0;
    L2: do {
        L3: while (true) {
          if (!(i_940210 < (s_940203 != null ? s_940203.length : 0))) Tmp4 = false; else {            Tmp4 = (ConstSet3[s_940203[chckIndx(i_940210, 0, (s_940203 != null ? s_940203.length : 0)+0-1)-0]] != undefined);          }        if (!Tmp4) break L3;
          var c_950016 = (s_940203[chckIndx(i_940210, 0, (s_940203 != null ? s_940203.length : 0)+0-1)-0] - 48);
          if ((Math.trunc((-9223372036854775808 + c_950016) / 10) <= b_940205[b_940205_Idx])) {
          b_940205[b_940205_Idx] = ((b_940205[b_940205_Idx] * 10) - c_950016);
          }
          else {
          integer_out_of_range_error_935049();
          }
          
          i_940210 += 1;
          L5: do {
              L6: while (true) {
              if (!((i_940210 < (s_940203 != null ? s_940203.length : 0)) && (s_940203[chckIndx(i_940210, 0, (s_940203 != null ? s_940203.length : 0)+0-1)-0] == 95))) break L6;
                i_940210 += 1;
              }
          } while(false);
        }
    } while(false);
      if (!(sign_940209 == -1)) Tmp7 = false; else {        Tmp7 = (b_940205[b_940205_Idx] == -9223372036854775808);      }    if (Tmp7) {
    integer_out_of_range_error_935049();
    }
    else {
      b_940205[b_940205_Idx] = (b_940205[b_940205_Idx] * sign_940209);
      result_940208 = (i_940210 - start_940206);
    }
    
    }
    

  return result_940208;

}
function npuParseBiggestInt(s_955203, number_955205, number_955205_Idx, start_955206) {
  var result_955208 = 0;

    var res_955209 = [0];
    result_955208 = raw_parse_int_940201(s_955203, res_955209, 0, start_955206);
    if (!((result_955208 == 0))) {
    number_955205[number_955205_Idx] = res_955209[0];
    }
    

  return result_955208;

}
function raiseRangeError() {
    raiseException({message: makeNimstrLit("value out of range"), parent: null, m_type: NTI6253, name: null, trace: null, up: null}, "RangeError");

  
}
function npuParseInt(s_960016, number_960018, number_960018_Idx, start_960019) {
      var Tmp1;

  var result_960021 = 0;

    var res_960022 = [0];
    result_960021 = npuParseBiggestInt(s_960016, res_960022, 0, start_960019);
      if ((res_960022[0] < -2147483648)) Tmp1 = true; else {        Tmp1 = (2147483647 < res_960022[0]);      }    if (Tmp1) {
    integer_out_of_range_error_935049();
    }
    
    if (!((result_960021 == 0))) {
    number_960018[number_960018_Idx] = chckRange(res_960022[0], -2147483648, 2147483647);
    }
    

  return result_960021;

}
function nsuParseInt(s_9060419) {
      var Tmp1;

  var result_9060420 = [0];

    var l_9060422 = npuParseInt(s_9060419, result_9060420, 0, 0);
      if (!((l_9060422 == (s_9060419 != null ? s_9060419.length : 0)))) Tmp1 = true; else {        Tmp1 = (l_9060422 == 0);      }    if (Tmp1) {
    raiseException({message: (makeNimstrLit("invalid integer: ") || []).concat(s_9060419 || []), parent: null, m_type: NTI6243, name: null, trace: null, up: null}, "ValueError");
    }
    

  return result_9060420[0];

}
function init_map_12416141(height_12416143, width_12416145, sequence_12416147, city_12416148, team_12416149, music_12416150) {
    map_12416027[0] = {height: height_12416143, width: width_12416145, sequence: nimCopy(null, sequence_12416147, NTI112), city: nimCopy(null, city_12416148, NTI112), team: nimCopy(null, team_12416149, NTI112), music: nimCopy(null, music_12416150, NTI112), m_type: NTI12137103};

  
}
function to_float_26459(i_26461) {
  var result_26462 = 0.0;

    result_26462 = i_26461;

  return result_26462;

}
function HEX2F_325648(x_325650, y_325651) {
  var result_325652 = 0.0;

    result_325652 = (to_float_26459(x_325650) / to_float_26459(y_325651));

  return result_325652;

}
function update_info_instrument_12476093(instrument_12476095) {
  BeforeRet: do {
    if ((instrument_12476095 == null)) {
    document.getElementById("instrumentInfo").style.display = "none";
    break BeforeRet;
    }
    
    document.getElementById("x").value = toJSStr(cstrToNimstr((instrument_12476095.x)+""));
    document.getElementById("y").value = toJSStr(cstrToNimstr((instrument_12476095.y)+""));
    document.getElementById("heightInfo").value = toJSStr(cstrToNimstr((instrument_12476095.height)+""));
    document.getElementById("widthInfo").value = toJSStr(cstrToNimstr((instrument_12476095.width)+""));
    document.getElementById("angleInfo").value = toJSStr(cstrToNimstr((instrument_12476095.angle)+""));
    document.getElementById("instrumentInfo").style.display = "block";
  } while (false);

  
}
function remove_selection_12555033(e_12555035) {
      var Tmp1;
      var Tmp2;

    var map_12555036 = document.getElementById("map");
      if (!(map_12555036.contains(e_12555035.target))) Tmp2 = true; else {        Tmp2 = (e_12555035.target.id == "map");      }      if (!Tmp2) Tmp1 = false; else {        Tmp1 = !((selected_12416103[0] == null));      }    if (Tmp1) {
    update_info_instrument_12476093(null);
    selected_12416103[0].e.classList.remove("selected");
    selected_12416103[0] = null;
    }
    

  
}
function delete_12525011(s_12525016, s_12525016_Idx, first_12525017, last_12525018) {
  BeforeRet: do {
    if (!((first_12525017 <= last_12525018))) {
    failed_assert_impl_102680(makeNimstrLit("sequtils.nim(500, 12) `first <= last` "));
    }
    
    if (((s_12525016[s_12525016_Idx] != null ? s_12525016[s_12525016_Idx].length : 0) <= first_12525017)) {
    break BeforeRet;
    }
    
    var i_12535206 = first_12525017;
    var j_12535212 = nimMin((s_12525016[s_12525016_Idx] != null ? s_12525016[s_12525016_Idx].length : 0), addInt(last_12525018, 1));
    var new_len_12535218 = addInt(subInt((s_12525016[s_12525016_Idx] != null ? s_12525016[s_12525016_Idx].length : 0), j_12535212), i_12535206);
    L1: do {
        L2: while (true) {
        if (!(i_12535206 < new_len_12535218)) break L2;
          s_12525016[s_12525016_Idx][chckIndx(i_12535206, 0, (s_12525016[s_12525016_Idx] != null ? s_12525016[s_12525016_Idx].length : 0)+0-1)-0] = s_12525016[s_12525016_Idx][chckIndx(j_12535212, 0, (s_12525016[s_12525016_Idx] != null ? s_12525016[s_12525016_Idx].length : 0)+0-1)-0];
          i_12535206 = addInt(i_12535206, 1);
          j_12535212 = addInt(j_12535212, 1);
        }
    } while(false);
    if (s_12525016[s_12525016_Idx] === null) s_12525016[s_12525016_Idx] = [];
               if (s_12525016[s_12525016_Idx].length < chckRange(new_len_12535218, 0, 2147483647)) { for (var i=s_12525016[s_12525016_Idx].length;i<chckRange(new_len_12535218, 0, 2147483647);++i) s_12525016[s_12525016_Idx].push(null); }
               else { s_12525016[s_12525016_Idx].length = chckRange(new_len_12535218, 0, 2147483647); };
  } while (false);

  
}
function is_power_of_two_1090029(x_1090031) {
    var Tmp1;

  var result_1090032 = false;

  BeforeRet: do {
    if (!(0 < x_1090031)) Tmp1 = false; else {      Tmp1 = ((x_1090031 & (x_1090031 - 1)) == 0);    }    result_1090032 = Tmp1;
    break BeforeRet;
  } while (false);

  return result_1090032;

}
function init_table_12261046(initial_size_12261050) {
  var result_12261066 = ({data: null, counter: 0});

    if (!(is_power_of_two_1090029(initial_size_12261050))) {
    failed_assert_impl_102680(makeNimstrLit("tableimpl.nim(166, 12) `isPowerOfTwo(initialSize)` "));
    }
    
    result_12261066.counter = 0;
    result_12261066.data = new Array(chckRange(initial_size_12261050, 0, 2147483647)); for (var i=0;i<chckRange(initial_size_12261050, 0, 2147483647);++i) {result_12261066.data[i]={Field0: 0, Field1: null, Field2: 0};}
  return result_12261066;

}
function raiseDivByZero() {
    raiseException({message: makeNimstrLit("division by zero"), parent: null, m_type: NTI6235, name: null, trace: null, up: null}, "DivByZeroError");

  
}
function imul_9900517(a_9900519, b_9900520) {
  var result_9900521 = 0;

    var mask_9900522 = 65535;
    var a_hi_9900531 = (((a_9900519 >>> 0) >>> 16) & mask_9900522);
    var a_lo_9900532 = (a_9900519 & mask_9900522);
    var b_hi_9900541 = (((b_9900520 >>> 0) >>> 16) & mask_9900522);
    var b_lo_9900542 = (b_9900520 & mask_9900522);
    result_9900521 = ((((a_lo_9900532 * b_lo_9900542) >>> 0) + (((((a_hi_9900531 * b_lo_9900542) >>> 0) + ((a_lo_9900532 * b_hi_9900541) >>> 0)) >>> 0) << 16)) >>> 0);

  return result_9900521;

}
function rotl32_9900601(x_9900603, r_9900604) {
  var result_9900605 = 0;

    result_9900605 = ((x_9900603 << r_9900604) | ((x_9900603 >>> 0) >>> subInt(32, r_9900604)));

  return result_9900605;

}
function murmur_hash_9900629(x_9900632) {
  var result_9900633 = 0;

  BeforeRet: do {
    var size_9900643 = (x_9900632 != null ? x_9900632.length : 0);
    var step_size_9900645 = 4;
    var n_9900646 = divInt(size_9900643, step_size_9900645);
    var h1_9900647 = 0;
    var i_9900649 = 0;
    L1: do {
        L2: while (true) {
        if (!(i_9900649 < mulInt(n_9900646, step_size_9900645))) break L2;
          var k1_9900650 = 0;
          var j_9900651 = step_size_9900645;
          L3: do {
              L4: while (true) {
              if (!(0 < j_9900651)) break L4;
                j_9900651 = subInt(j_9900651, 1);
                k1_9900650 = ((k1_9900650 << 8) | x_9900632[chckIndx(addInt(i_9900649, j_9900651), 0, (x_9900632 != null ? x_9900632.length : 0)+0-1)-0]);
              }
          } while(false);
          i_9900649 = addInt(i_9900649, step_size_9900645);
          k1_9900650 = imul_9900517(k1_9900650, 3432918353);
          k1_9900650 = rotl32_9900601(k1_9900650, 15);
          k1_9900650 = imul_9900517(k1_9900650, 461845907);
          h1_9900647 = (h1_9900647 ^ k1_9900650);
          h1_9900647 = rotl32_9900601(h1_9900647, 13);
          h1_9900647 = ((((h1_9900647 * 5) >>> 0) + 3864292196) >>> 0);
        }
    } while(false);
    var k1_9905207 = 0;
    var rem_9905208 = modInt(size_9900643, step_size_9900645);
    L5: do {
        L6: while (true) {
        if (!(0 < rem_9905208)) break L6;
          rem_9905208 = subInt(rem_9905208, 1);
          k1_9905207 = ((k1_9905207 << 8) | x_9900632[chckIndx(addInt(i_9900649, rem_9905208), 0, (x_9900632 != null ? x_9900632.length : 0)+0-1)-0]);
        }
    } while(false);
    k1_9905207 = imul_9900517(k1_9905207, 3432918353);
    k1_9905207 = rotl32_9900601(k1_9905207, 15);
    k1_9905207 = imul_9900517(k1_9905207, 461845907);
    h1_9900647 = (h1_9900647 ^ k1_9905207);
    h1_9900647 = (h1_9900647 ^ size_9900643);
    h1_9900647 = (h1_9900647 ^ ((h1_9900647 >>> 0) >>> 16));
    h1_9900647 = imul_9900517(h1_9900647, 2246822507);
    h1_9900647 = (h1_9900647 ^ ((h1_9900647 >>> 0) >>> 13));
    h1_9900647 = imul_9900517(h1_9900647, 3266489909);
    h1_9900647 = (h1_9900647 ^ ((h1_9900647 >>> 0) >>> 16));
    result_9900633 = (h1_9900647|0);
    break BeforeRet;
  } while (false);

  return result_9900633;

}
function hash_9940214(x_9940216) {
  var result_9940217 = 0;

    result_9940217 = murmur_hash_9900629((x_9940216.slice(0, (x_9940216 != null ? (x_9940216.length-1) : -1)+1)));

  return result_9940217;

}
function is_filled_9962018(hcode_9962020) {
  var result_9962021 = false;

    result_9962021 = !((hcode_9962020 == 0));

  return result_9962021;

}
function next_try_9965014(h_9965016, max_hash_9965017) {
  var result_9965018 = 0;

    result_9965018 = (addInt(h_9965016, 1) & max_hash_9965017);

  return result_9965018;

}
function raw_get_12290354(t_12290358, key_12290359, hc_12290360, hc_12290360_Idx) {
            var Tmp3;

  var result_12290361 = 0;

  BeforeRet: do {
    hc_12290360[hc_12290360_Idx] = hash_9940214(key_12290359);
    if ((hc_12290360[hc_12290360_Idx] == 0)) {
    hc_12290360[hc_12290360_Idx] = 314159265;
    }
    
    if (((t_12290358.data != null ? t_12290358.data.length : 0) == 0)) {
    result_12290361 = -1;
    break BeforeRet;
    }
    
    var h_12300138 = (hc_12290360[hc_12290360_Idx] & (t_12290358.data != null ? (t_12290358.data.length-1) : -1));
    L1: do {
        L2: while (true) {
        if (!is_filled_9962018(t_12290358.data[chckIndx(h_12300138, 0, (t_12290358.data != null ? t_12290358.data.length : 0)+0-1)-0].Field0)) break L2;
            if (!(t_12290358.data[chckIndx(h_12300138, 0, (t_12290358.data != null ? t_12290358.data.length : 0)+0-1)-0].Field0 == hc_12290360[hc_12290360_Idx])) Tmp3 = false; else {              Tmp3 = eqStrings(t_12290358.data[chckIndx(h_12300138, 0, (t_12290358.data != null ? t_12290358.data.length : 0)+0-1)-0].Field1, key_12290359);            }          if (Tmp3) {
          result_12290361 = h_12300138;
          break BeforeRet;
          }
          
          h_12300138 = next_try_9965014(h_12300138, (t_12290358.data != null ? (t_12290358.data.length-1) : -1));
        }
    } while(false);
    result_12290361 = subInt(-1, h_12300138);
  } while (false);

  return result_12290361;

}
function has_key_12290345(t_12290350, key_12290351) {
  var result_12290352 = false;

    var hc_12290353 = [0];
    result_12290352 = (0 <= raw_get_12290354(t_12290350, key_12290351, hc_12290353, 0));

  return result_12290352;

}
function contains_12290335(t_12290340, key_12290341) {
  var result_12290342 = false;

  BeforeRet: do {
    result_12290342 = has_key_12290345(t_12290340, key_12290341);
    break BeforeRet;
  } while (false);

  return result_12290342;

}
function is_undefined_315483(x_315486) {
  var result_315487 = false;

    result_315487 = x_315486 === undefined;

  return result_315487;

}
function HEX5BHEX5D_12300794(t_12300800, key_12300801) {
  var result_12300803 = null;
  var result_12300803_Idx = 0;

    var hcHEX60gensym9965424_12300804 = [0];
    var indexHEX60gensym9965425_12300813 = raw_get_12290354(t_12300800, key_12300801, hcHEX60gensym9965424_12300804, 0);
    if ((0 <= indexHEX60gensym9965425_12300813)) {
    result_12300803 = t_12300800.data[chckIndx(indexHEX60gensym9965425_12300813, 0, (t_12300800.data != null ? t_12300800.data.length : 0)+0-1)-0]; result_12300803_Idx = "Field2";
    }
    else {
      raiseException({message: (makeNimstrLit("key not found: ") || []).concat(key_12300801 || []), parent: null, m_type: NTI6245, name: null, trace: null, up: null}, "KeyError");
    }
    

  return [result_12300803, result_12300803_Idx];

}
function must_rehash_12355601(t_12355604) {
  var result_12355605 = false;

    if (!((t_12355604.counter < (t_12355604.data != null ? t_12355604.data.length : 0)))) {
    failed_assert_impl_102680(makeNimstrLit("hashcommon.nim(33, 9) `\x0At.counter < t.dataLen` "));
    }
    
    result_12355605 = ((mulInt((t_12355604.data != null ? t_12355604.data.length : 0), 2) < mulInt(t_12355604.counter, 3)) || (subInt((t_12355604.data != null ? t_12355604.data.length : 0), t_12355604.counter) < 4));

  return result_12355605;

}
function raw_insert_12381108(t_12381114, data_12381117, data_12381117_Idx, key_12381118, val_12381119, hc_12381120, h_12381121) {
    data_12381117[data_12381117_Idx][chckIndx(h_12381121, 0, (data_12381117[data_12381117_Idx] != null ? data_12381117[data_12381117_Idx].length : 0)+0-1)-0].Field1 = nimCopy(null, key_12381118, NTI112);
    data_12381117[data_12381117_Idx][chckIndx(h_12381121, 0, (data_12381117[data_12381117_Idx] != null ? data_12381117[data_12381117_Idx].length : 0)+0-1)-0].Field2 = val_12381119;
    data_12381117[data_12381117_Idx][chckIndx(h_12381121, 0, (data_12381117[data_12381117_Idx] != null ? data_12381117[data_12381117_Idx].length : 0)+0-1)-0].Field0 = hc_12381120;

  
}
function enlarge_12380161(t_12380167) {
    var n_12380175 = null;
    n_12380175 = new Array(chckRange(mulInt((t_12380167.data != null ? t_12380167.data.length : 0), 2), 0, 2147483647)); for (var i=0;i<chckRange(mulInt((t_12380167.data != null ? t_12380167.data.length : 0), 2), 0, 2147483647);++i) {n_12380175[i]={Field0: 0, Field1: null, Field2: 0};}    var Tmp1 = t_12380167.data; t_12380167.data = n_12380175; n_12380175 = Tmp1;    L2: do {
      var i_12380334 = 0;
      var colontmp__12610332 = 0;
      colontmp__12610332 = (n_12380175 != null ? (n_12380175.length-1) : -1);
      var res_12610333 = 0;
      L3: do {
          L4: while (true) {
          if (!(res_12610333 <= colontmp__12610332)) break L4;
            i_12380334 = res_12610333;
            var eh_12380483 = n_12380175[chckIndx(i_12380334, 0, (n_12380175 != null ? n_12380175.length : 0)+0-1)-0].Field0;
            if (is_filled_9962018(eh_12380483)) {
            var j_12380490 = (eh_12380483 & (t_12380167.data != null ? (t_12380167.data.length-1) : -1));
            L5: do {
                L6: while (true) {
                if (!is_filled_9962018(t_12380167.data[chckIndx(j_12380490, 0, (t_12380167.data != null ? t_12380167.data.length : 0)+0-1)-0].Field0)) break L6;
                  j_12380490 = next_try_9965014(j_12380490, (t_12380167.data != null ? (t_12380167.data.length-1) : -1));
                }
            } while(false);
            raw_insert_12381108(t_12380167, t_12380167, "data", n_12380175[chckIndx(i_12380334, 0, (n_12380175 != null ? n_12380175.length : 0)+0-1)-0].Field1, n_12380175[chckIndx(i_12380334, 0, (n_12380175 != null ? n_12380175.length : 0)+0-1)-0].Field2, eh_12380483, j_12380490);
            }
            
            res_12610333 = addInt(res_12610333, 1);
          }
      } while(false);
    } while(false);

  
}
function raw_get_known_hc_12381593(t_12381597, key_12381598, hc_12381599) {
  var result_12381600 = 0;

  BeforeRet: do {
    if (((t_12381597.data != null ? t_12381597.data.length : 0) == 0)) {
    result_12381600 = -1;
    break BeforeRet;
    }
    
    var h_12385138 = (hc_12381599 & (t_12381597.data != null ? (t_12381597.data.length-1) : -1));
    L1: do {
        L2: while (true) {
        if (!is_filled_9962018(t_12381597.data[chckIndx(h_12385138, 0, (t_12381597.data != null ? t_12381597.data.length : 0)+0-1)-0].Field0)) break L2;
          if (((t_12381597.data[chckIndx(h_12385138, 0, (t_12381597.data != null ? t_12381597.data.length : 0)+0-1)-0].Field0 == hc_12381599) && eqStrings(t_12381597.data[chckIndx(h_12385138, 0, (t_12381597.data != null ? t_12381597.data.length : 0)+0-1)-0].Field1, key_12381598))) {
          result_12381600 = h_12385138;
          break BeforeRet;
          }
          
          h_12385138 = next_try_9965014(h_12385138, (t_12381597.data != null ? (t_12381597.data.length-1) : -1));
        }
    } while(false);
    result_12381600 = subInt(-1, h_12385138);
  } while (false);

  return result_12381600;

}
function HEX5BHEX5DHEX3D_12305147(t_12305153, key_12305154, val_12305155) {
    if (((t_12305153.data != null ? t_12305153.data.length : 0) == 0)) {
    if (!(is_power_of_two_1090029(64))) {
    failed_assert_impl_102680(makeNimstrLit("tableimpl.nim(166, 12) `isPowerOfTwo(defaultInitialSize)` "));
    }
    
    t_12305153.counter = 0;
    t_12305153.data = new Array(64); for (var i=0;i<64;++i) {t_12305153.data[i]={Field0: 0, Field1: null, Field2: 0};}    }
    
    var hc_12330601 = [0];
    var index_12330610 = raw_get_12290354(t_12305153, key_12305154, hc_12330601, 0);
    if ((0 <= index_12330610)) {
    t_12305153.data[chckIndx(index_12330610, 0, (t_12305153.data != null ? t_12305153.data.length : 0)+0-1)-0].Field2 = val_12305155;
    }
    else {
      if (((t_12305153.data != null ? t_12305153.data.length : 0) == 0)) {
      if (!(is_power_of_two_1090029(64))) {
      failed_assert_impl_102680(makeNimstrLit("tableimpl.nim(166, 12) `isPowerOfTwo(defaultInitialSize)` "));
      }
      
      t_12305153.counter = 0;
      t_12305153.data = new Array(64); for (var i=0;i<64;++i) {t_12305153.data[i]={Field0: 0, Field1: null, Field2: 0};}      }
      
      if (must_rehash_12355601(t_12305153)) {
      enlarge_12380161(t_12305153);
      index_12330610 = raw_get_known_hc_12381593(t_12305153, key_12305154, hc_12330601[0]);
      }
      
      index_12330610 = subInt(-1, index_12330610);
      raw_insert_12381108(t_12305153, t_12305153, "data", key_12305154, val_12305155, hc_12330601[0], index_12330610);
      t_12305153.counter = addInt(t_12305153.counter, 1);
    }
    

  
}
function len_12385784(t_12385789) {
  var result_12385790 = 0;

    result_12385790 = t_12385789.counter;

  return result_12385790;

}
function parse_saturated_natural_970017(s_970019, b_970021, b_970021_Idx, start_970022) {
      var Tmp1;
          var Tmp4;

  var result_970024 = 0;

    var i_970025 = start_970022;
    if (((i_970025 < (s_970019 != null ? s_970019.length : 0)) && (s_970019[chckIndx(i_970025, 0, (s_970019 != null ? s_970019.length : 0)+0-1)-0] == 43))) {
    i_970025 = addInt(i_970025, 1);
    }
    
      if (!(i_970025 < (s_970019 != null ? s_970019.length : 0))) Tmp1 = false; else {        Tmp1 = (ConstSet8[s_970019[chckIndx(i_970025, 0, (s_970019 != null ? s_970019.length : 0)+0-1)-0]] != undefined);      }    if (Tmp1) {
    b_970021[b_970021_Idx] = 0;
    L2: do {
        L3: while (true) {
          if (!(i_970025 < (s_970019 != null ? s_970019.length : 0))) Tmp4 = false; else {            Tmp4 = (ConstSet9[s_970019[chckIndx(i_970025, 0, (s_970019 != null ? s_970019.length : 0)+0-1)-0]] != undefined);          }        if (!Tmp4) break L3;
          var c_980016 = subInt(s_970019[chckIndx(i_970025, 0, (s_970019 != null ? s_970019.length : 0)+0-1)-0], 48);
          if ((b_970021[b_970021_Idx] <= divInt(subInt(2147483647, c_980016), 10))) {
          b_970021[b_970021_Idx] = addInt(mulInt(b_970021[b_970021_Idx], 10), c_980016);
          }
          else {
            b_970021[b_970021_Idx] = 2147483647;
          }
          
          i_970025 = addInt(i_970025, 1);
          L5: do {
              L6: while (true) {
              if (!((i_970025 < (s_970019 != null ? s_970019.length : 0)) && (s_970019[chckIndx(i_970025, 0, (s_970019 != null ? s_970019.length : 0)+0-1)-0] == 95))) break L6;
                i_970025 = addInt(i_970025, 1);
              }
          } while(false);
        }
    } while(false);
    result_970024 = subInt(i_970025, start_970022);
    }
    

  return result_970024;

}
function HEX5BHEX5D_4465068(s_4465072, x_4465074) {
  var result_4465075 = null;

    var a_4465201 = x_4465074.a;
    var l_4465401 = addInt(subInt(subInt((s_4465072 != null ? s_4465072.length : 0), x_4465074.b), a_4465201), 1);
    result_4465075 = nimCopy(null, mnewString(chckRange(l_4465401, 0, 2147483647)), NTI112);
    L1: do {
      var i_4465409 = 0;
      var i_12610352 = 0;
      L2: do {
          L3: while (true) {
          if (!(i_12610352 < l_4465401)) break L3;
            i_4465409 = i_12610352;
            result_4465075[chckIndx(i_4465409, 0, (result_4465075 != null ? result_4465075.length : 0)+0-1)-0] = s_4465072[chckIndx(addInt(i_4465409, a_4465201), 0, (s_4465072 != null ? s_4465072.length : 0)+0-1)-0];
            i_12610352 = addInt(i_12610352, 1);
          }
      } while(false);
    } while(false);

  return result_4465075;

}
function HEX2EHEX2E_4465001(a_4465006, b_4465008) {
  var result_4465014 = ({a: 0, b: 0});

    nimCopy(result_4465014, {a: a_4465006, b: b_4465008}, NTI4465011);

  return result_4465014;

}
function parse_standard_format_specifier_12155322(s_12155324, start_12155325, ignore_unknown_suffix_12155327) {
      var Tmp1;
      var Tmp2;
      var Tmp3;

  var result_12155328 = ({fill: 0, align: 0, sign: 0, alternateForm: false, padWithZero: false, minimumWidth: 0, precision: 0, typ: 0, endPosition: 0});

    result_12155328.fill = 32;
    result_12155328.align = 0;
    result_12155328.sign = 45;
    var i_12155331 = start_12155325;
    if (((addInt(i_12155331, 1) < (s_12155324 != null ? s_12155324.length : 0)) && (ConstSet4[s_12155324[chckIndx(addInt(i_12155331, 1), 0, (s_12155324 != null ? s_12155324.length : 0)+0-1)-0]] != undefined))) {
    result_12155328.fill = s_12155324[chckIndx(i_12155331, 0, (s_12155324 != null ? s_12155324.length : 0)+0-1)-0];
    result_12155328.align = s_12155324[chckIndx(addInt(i_12155331, 1), 0, (s_12155324 != null ? s_12155324.length : 0)+0-1)-0];
    i_12155331 = addInt(i_12155331, 2);
    }
    else {
    if (((i_12155331 < (s_12155324 != null ? s_12155324.length : 0)) && (ConstSet5[s_12155324[chckIndx(i_12155331, 0, (s_12155324 != null ? s_12155324.length : 0)+0-1)-0]] != undefined))) {
    result_12155328.align = s_12155324[chckIndx(i_12155331, 0, (s_12155324 != null ? s_12155324.length : 0)+0-1)-0];
    i_12155331 = addInt(i_12155331, 1);
    }
    }
    if (((i_12155331 < (s_12155324 != null ? s_12155324.length : 0)) && (ConstSet6[s_12155324[chckIndx(i_12155331, 0, (s_12155324 != null ? s_12155324.length : 0)+0-1)-0]] != undefined))) {
    result_12155328.sign = s_12155324[chckIndx(i_12155331, 0, (s_12155324 != null ? s_12155324.length : 0)+0-1)-0];
    i_12155331 = addInt(i_12155331, 1);
    }
    
    if (((i_12155331 < (s_12155324 != null ? s_12155324.length : 0)) && (s_12155324[chckIndx(i_12155331, 0, (s_12155324 != null ? s_12155324.length : 0)+0-1)-0] == 35))) {
    result_12155328.alternateForm = true;
    i_12155331 = addInt(i_12155331, 1);
    }
    
      if (!((addInt(i_12155331, 1) < (s_12155324 != null ? s_12155324.length : 0)) && (s_12155324[chckIndx(i_12155331, 0, (s_12155324 != null ? s_12155324.length : 0)+0-1)-0] == 48))) Tmp1 = false; else {        Tmp1 = (ConstSet7[s_12155324[chckIndx(addInt(i_12155331, 1), 0, (s_12155324 != null ? s_12155324.length : 0)+0-1)-0]] != undefined);      }    if (Tmp1) {
    result_12155328.padWithZero = true;
    i_12155331 = addInt(i_12155331, 1);
    }
    
    var parsed_length_12175015 = parse_saturated_natural_970017(s_12155324, result_12155328, "minimumWidth", i_12155331);
    i_12155331 = addInt(i_12155331, parsed_length_12175015);
    if (((i_12155331 < (s_12155324 != null ? s_12155324.length : 0)) && (s_12155324[chckIndx(i_12155331, 0, (s_12155324 != null ? s_12155324.length : 0)+0-1)-0] == 46))) {
    i_12155331 = addInt(i_12155331, 1);
    var parsed_length_b_12175029 = parse_saturated_natural_970017(s_12155324, result_12155328, "precision", i_12155331);
    i_12155331 = addInt(i_12155331, parsed_length_b_12175029);
    }
    else {
      result_12155328.precision = -1;
    }
    
      if (!(i_12155331 < (s_12155324 != null ? s_12155324.length : 0))) Tmp2 = false; else {        Tmp2 = (ConstSet10[s_12155324[chckIndx(i_12155331, 0, (s_12155324 != null ? s_12155324.length : 0)+0-1)-0]] != undefined);      }    if (Tmp2) {
    result_12155328.typ = s_12155324[chckIndx(i_12155331, 0, (s_12155324 != null ? s_12155324.length : 0)+0-1)-0];
    i_12155331 = addInt(i_12155331, 1);
    }
    
    result_12155328.endPosition = i_12155331;
      if (!!((i_12155331 == (s_12155324 != null ? s_12155324.length : 0)))) Tmp3 = false; else {        Tmp3 = !(ignore_unknown_suffix_12155327);      }    if (Tmp3) {
    raiseException({message: (makeNimstrLit("invalid format string, cannot parse: ") || []).concat(HEX5BHEX5D_4465068(s_12155324, HEX2EHEX2E_4465001(i_12155331, 1)) || []), parent: null, m_type: NTI6243, name: null, trace: null, up: null}, "ValueError");
    }
    

  return result_12155328;

}
function nucruneLen(s_1138829) {
  var result_1138830 = 0;

    var i_1138832 = 0;
    L1: do {
        L2: while (true) {
        if (!(i_1138832 < (s_1138829 != null ? s_1138829.length : 0))) break L2;
          if ((s_1138829[chckIndx(i_1138832, 0, (s_1138829 != null ? s_1138829.length : 0)+0-1)-0] <= 127)) {
          i_1138832 = addInt(i_1138832, 1);
          }
          else {
          if ((((s_1138829[chckIndx(i_1138832, 0, (s_1138829 != null ? s_1138829.length : 0)+0-1)-0] >>> 0) >>> 5) == 6)) {
          i_1138832 = addInt(i_1138832, 2);
          }
          else {
          if ((((s_1138829[chckIndx(i_1138832, 0, (s_1138829 != null ? s_1138829.length : 0)+0-1)-0] >>> 0) >>> 4) == 14)) {
          i_1138832 = addInt(i_1138832, 3);
          }
          else {
          if ((((s_1138829[chckIndx(i_1138832, 0, (s_1138829 != null ? s_1138829.length : 0)+0-1)-0] >>> 0) >>> 3) == 30)) {
          i_1138832 = addInt(i_1138832, 4);
          }
          else {
          if ((((s_1138829[chckIndx(i_1138832, 0, (s_1138829 != null ? s_1138829.length : 0)+0-1)-0] >>> 0) >>> 2) == 62)) {
          i_1138832 = addInt(i_1138832, 5);
          }
          else {
          if ((((s_1138829[chckIndx(i_1138832, 0, (s_1138829 != null ? s_1138829.length : 0)+0-1)-0] >>> 0) >>> 1) == 126)) {
          i_1138832 = addInt(i_1138832, 6);
          }
          else {
          i_1138832 = addInt(i_1138832, 1);
          }
          }}}}}
          result_1138830 = addInt(result_1138830, 1);
        }
    } while(false);

  return result_1138830;

}
function rune_len_at_1138931(s_1138933, i_1138934) {
  var result_1138935 = 0;

    if ((s_1138933[chckIndx(i_1138934, 0, (s_1138933 != null ? s_1138933.length : 0)+0-1)-0] <= 127)) {
    result_1138935 = 1;
    }
    else {
    if ((((s_1138933[chckIndx(i_1138934, 0, (s_1138933 != null ? s_1138933.length : 0)+0-1)-0] >>> 0) >>> 5) == 6)) {
    result_1138935 = 2;
    }
    else {
    if ((((s_1138933[chckIndx(i_1138934, 0, (s_1138933 != null ? s_1138933.length : 0)+0-1)-0] >>> 0) >>> 4) == 14)) {
    result_1138935 = 3;
    }
    else {
    if ((((s_1138933[chckIndx(i_1138934, 0, (s_1138933 != null ? s_1138933.length : 0)+0-1)-0] >>> 0) >>> 3) == 30)) {
    result_1138935 = 4;
    }
    else {
    if ((((s_1138933[chckIndx(i_1138934, 0, (s_1138933 != null ? s_1138933.length : 0)+0-1)-0] >>> 0) >>> 2) == 62)) {
    result_1138935 = 5;
    }
    else {
    if ((((s_1138933[chckIndx(i_1138934, 0, (s_1138933 != null ? s_1138933.length : 0)+0-1)-0] >>> 0) >>> 1) == 126)) {
    result_1138935 = 6;
    }
    else {
      result_1138935 = 1;
    }
    }}}}}

  return result_1138935;

}
function rune_offset_1760244(s_1760246, pos_1760247, start_1760248) {
  var result_1760249 = 0;

  BeforeRet: do {
    var i_1760251 = 0;
    var o_1760252 = start_1760248;
    L1: do {
        L2: while (true) {
        if (!(i_1760251 < pos_1760247)) break L2;
          o_1760252 = addInt(o_1760252, chckRange(rune_len_at_1138931(s_1760246, o_1760252), 0, 2147483647));
          if (((s_1760246 != null ? s_1760246.length : 0) <= o_1760252)) {
          result_1760249 = -1;
          break BeforeRet;
          }
          
          i_1760251 = addInt(i_1760251, 1);
        }
    } while(false);
    result_1760249 = o_1760252;
    break BeforeRet;
  } while (false);

  return result_1760249;

}
function validate_utf8_1380229(s_1380231) {
            var Tmp3;
            var Tmp4;
            var Tmp5;
            var Tmp6;
            var Tmp7;
            var Tmp8;

  var result_1380232 = 0;

  BeforeRet: do {
    var i_1380234 = 0;
    var l_1380235 = (s_1380231 != null ? s_1380231.length : 0);
    L1: do {
        L2: while (true) {
        if (!(i_1380234 < l_1380235)) break L2;
          if ((s_1380231[chckIndx(i_1380234, 0, (s_1380231 != null ? s_1380231.length : 0)+0-1)-0] <= 127)) {
          i_1380234 = addInt(i_1380234, 1);
          }
          else {
          if ((((s_1380231[chckIndx(i_1380234, 0, (s_1380231 != null ? s_1380231.length : 0)+0-1)-0] >>> 0) >>> 5) == 6)) {
          if ((s_1380231[chckIndx(i_1380234, 0, (s_1380231 != null ? s_1380231.length : 0)+0-1)-0] < 194)) {
          result_1380232 = i_1380234;
          break BeforeRet;
          }
          
            if (!(addInt(i_1380234, 1) < l_1380235)) Tmp3 = false; else {              Tmp3 = (((s_1380231[chckIndx(addInt(i_1380234, 1), 0, (s_1380231 != null ? s_1380231.length : 0)+0-1)-0] >>> 0) >>> 6) == 2);            }          if (Tmp3) {
          i_1380234 = addInt(i_1380234, 2);
          }
          else {
            result_1380232 = i_1380234;
            break BeforeRet;
          }
          
          }
          else {
          if ((((s_1380231[chckIndx(i_1380234, 0, (s_1380231 != null ? s_1380231.length : 0)+0-1)-0] >>> 0) >>> 4) == 14)) {
            if (!(addInt(i_1380234, 2) < l_1380235)) Tmp5 = false; else {              Tmp5 = (((s_1380231[chckIndx(addInt(i_1380234, 1), 0, (s_1380231 != null ? s_1380231.length : 0)+0-1)-0] >>> 0) >>> 6) == 2);            }            if (!Tmp5) Tmp4 = false; else {              Tmp4 = (((s_1380231[chckIndx(addInt(i_1380234, 2), 0, (s_1380231 != null ? s_1380231.length : 0)+0-1)-0] >>> 0) >>> 6) == 2);            }          if (Tmp4) {
          i_1380234 = addInt(i_1380234, 3);
          }
          else {
            result_1380232 = i_1380234;
            break BeforeRet;
          }
          
          }
          else {
          if ((((s_1380231[chckIndx(i_1380234, 0, (s_1380231 != null ? s_1380231.length : 0)+0-1)-0] >>> 0) >>> 3) == 30)) {
            if (!(addInt(i_1380234, 3) < l_1380235)) Tmp8 = false; else {              Tmp8 = (((s_1380231[chckIndx(addInt(i_1380234, 1), 0, (s_1380231 != null ? s_1380231.length : 0)+0-1)-0] >>> 0) >>> 6) == 2);            }            if (!Tmp8) Tmp7 = false; else {              Tmp7 = (((s_1380231[chckIndx(addInt(i_1380234, 2), 0, (s_1380231 != null ? s_1380231.length : 0)+0-1)-0] >>> 0) >>> 6) == 2);            }            if (!Tmp7) Tmp6 = false; else {              Tmp6 = (((s_1380231[chckIndx(addInt(i_1380234, 3), 0, (s_1380231 != null ? s_1380231.length : 0)+0-1)-0] >>> 0) >>> 6) == 2);            }          if (Tmp6) {
          i_1380234 = addInt(i_1380234, 4);
          }
          else {
            result_1380232 = i_1380234;
            break BeforeRet;
          }
          
          }
          else {
            result_1380232 = i_1380234;
            break BeforeRet;
          }
          }}}
        }
    } while(false);
    result_1380232 = -1;
    break BeforeRet;
  } while (false);

  return result_1380232;

}
function nsuRepeatChar(c_9235048, count_9235049) {
  var result_9235050 = null;

    result_9235050 = nimCopy(null, mnewString(count_9235049), NTI112);
    L1: do {
      var i_9235059 = 0;
      var colontmp__12610383 = 0;
      colontmp__12610383 = subInt(count_9235049, 1);
      var res_12610384 = 0;
      L2: do {
          L3: while (true) {
          if (!(res_12610384 <= colontmp__12610383)) break L3;
            i_9235059 = res_12610384;
            result_9235050[chckIndx(i_9235059, 0, (result_9235050 != null ? result_9235050.length : 0)+0-1)-0] = c_9235048;
            res_12610384 = addInt(res_12610384, 1);
          }
      } while(false);
    } while(false);

  return result_9235050;

}
function align_string_12155222(s_12155224, minimum_width_12155225, align_12155226, fill_12155227) {
      var Tmp1;

  var result_12155228 = null;

    if ((minimum_width_12155225 == 0)) {
    result_12155228 = nimCopy(null, s_12155224, NTI112);
    }
    else {
      if ((validate_utf8_1380229(s_12155224) == -1)) {
      Tmp1 = nucruneLen(s_12155224);
      }
      else {
      Tmp1 = (s_12155224 != null ? s_12155224.length : 0);
      }
      
      var s_rune_len_12155229 = Tmp1;
      var to_fill_12155230 = subInt(minimum_width_12155225, s_rune_len_12155229);
      if ((to_fill_12155230 <= 0)) {
      result_12155228 = nimCopy(null, s_12155224, NTI112);
      }
      else {
      if (((align_12155226 == 60) || (align_12155226 == 0))) {
      result_12155228 = nimCopy(null, (s_12155224 || []).concat(nsuRepeatChar(fill_12155227, chckRange(to_fill_12155230, 0, 2147483647)) || []), NTI112);
      }
      else {
      if ((align_12155226 == 94)) {
      var half_12155231 = divInt(to_fill_12155230, 2);
      result_12155228 = nimCopy(null, (nsuRepeatChar(fill_12155227, chckRange(half_12155231, 0, 2147483647)) || []).concat(s_12155224 || [],nsuRepeatChar(fill_12155227, chckRange(subInt(to_fill_12155230, half_12155231), 0, 2147483647)) || []), NTI112);
      }
      else {
        result_12155228 = nimCopy(null, (nsuRepeatChar(fill_12155227, chckRange(to_fill_12155230, 0, 2147483647)) || []).concat(s_12155224 || []), NTI112);
      }
      }}
    }
    

  return result_12155228;

}
function format_value_12200080(result_12200083, result_12200083_Idx, value_12200084, specifier_12200085) {
    var spec_12200086 = parse_standard_format_specifier_12155322(specifier_12200085, 0, false);
    var value_12200087 = nimCopy(null, value_12200084, NTI112);
    switch (spec_12200086.typ) {
    case 115:
    case 0:
      break;
    default: 
      raiseException({message: (makeNimstrLit("invalid type in format string for string, expected \'s\', but got ") || []).concat([spec_12200086.typ]), parent: null, m_type: NTI6243, name: null, trace: null, up: null}, "ValueError");
      break;
    }
    if (!((spec_12200086.precision == -1))) {
    if ((spec_12200086.precision < nucruneLen(value_12200087))) {
    (value_12200087 == null ? value_12200087 = mnewString(chckRange(rune_offset_1760244(value_12200087, chckRange(spec_12200086.precision, 0, 2147483647), 0), 0, 2147483647)) : value_12200087.length = chckRange(rune_offset_1760244(value_12200087, chckRange(spec_12200086.precision, 0, 2147483647), 0), 0, 2147483647));
    }
    
    }
    
    if (result_12200083[result_12200083_Idx] != null) { result_12200083[result_12200083_Idx] = (result_12200083[result_12200083_Idx]).concat(align_string_12155222(value_12200087, spec_12200086.minimumWidth, spec_12200086.align, spec_12200086.fill)); } else { result_12200083[result_12200083_Idx] = align_string_12155222(value_12200087, spec_12200086.minimumWidth, spec_12200086.align, spec_12200086.fill).slice(); };

  
}
function mk_digit_12146068(v_12146070, typ_12146071) {
      var Tmp1;

  var result_12146072 = null;

    if (!((v_12146070 < 26))) {
    failed_assert_impl_102680(makeNimstrLit("strformat.nim(270, 9) `v < 26` "));
    }
    
    if ((v_12146070 < 10)) {
    result_12146072 = nimCopy(null, nimCharToStr(chckRange(addInt(48, v_12146070), 0, 255)), NTI112);
    }
    else {
      if ((typ_12146071 == 120)) {
      Tmp1 = 97;
      }
      else {
      Tmp1 = 65;
      }
      
      result_12146072 = nimCopy(null, nimCharToStr(chckRange(subInt(addInt(Tmp1, v_12146070), 10), 0, 255)), NTI112);
    }
    

  return result_12146072;

}
function format_int_12405002(n_12405005, radix_12405006, spec_12405007) {
    var Tmp7;

  var result_12405008 = null;

    var v_12405201 = n_12405005;
    var negative_12405202 = (v_12405201 < 0);
    if (negative_12405202) {
    v_12405201 = mulInt(v_12405201, -1);
    }
    
    var xx_12405203 = [];
    if (spec_12405007.alternateForm) {
    switch (spec_12405007.typ) {
    case 88:
      xx_12405203 = nimCopy(null, makeNimstrLit("0x"), NTI112);
      break;
    case 120:
      xx_12405203 = nimCopy(null, makeNimstrLit("0x"), NTI112);
      break;
    case 98:
      xx_12405203 = nimCopy(null, makeNimstrLit("0b"), NTI112);
      break;
    case 111:
      xx_12405203 = nimCopy(null, makeNimstrLit("0o"), NTI112);
      break;
    default: 
      break;
    }
    }
    
    if ((v_12405201 == 0)) {
    result_12405008 = nimCopy(null, makeNimstrLit("0"), NTI112);
    }
    else {
      result_12405008 = nimCopy(null, [], NTI112);
      L1: do {
          L2: while (true) {
          if (!(0 < v_12405201)) break L2;
            var d_12405206 = modInt(v_12405201, radix_12405006);
            v_12405201 = divInt(v_12405201, radix_12405006);
            if (result_12405008 != null) { result_12405008 = (result_12405008).concat(mk_digit_12146068(chckRange(d_12405206, -2147483648, 2147483647), spec_12405007.typ)); } else { result_12405008 = mk_digit_12146068(chckRange(d_12405206, -2147483648, 2147483647), spec_12405007.typ).slice(); };
          }
      } while(false);
      L3: do {
        var idx_12405215 = 0;
        var colontmp__12610394 = 0;
        colontmp__12610394 = divInt((result_12405008 != null ? result_12405008.length : 0), 2);
        var i_12610395 = 0;
        L4: do {
            L5: while (true) {
            if (!(i_12610395 < colontmp__12610394)) break L5;
              idx_12405215 = i_12610395;
              var Tmp6 = result_12405008[chckIndx(idx_12405215, 0, (result_12405008 != null ? result_12405008.length : 0)+0-1)-0]; result_12405008[chckIndx(idx_12405215, 0, (result_12405008 != null ? result_12405008.length : 0)+0-1)-0] = result_12405008[chckIndx(subInt(subInt((result_12405008 != null ? result_12405008.length : 0), idx_12405215), 1), 0, (result_12405008 != null ? result_12405008.length : 0)+0-1)-0]; result_12405008[chckIndx(subInt(subInt((result_12405008 != null ? result_12405008.length : 0), idx_12405215), 1), 0, (result_12405008 != null ? result_12405008.length : 0)+0-1)-0] = Tmp6;              i_12610395 = addInt(i_12610395, 1);
            }
        } while(false);
      } while(false);
    }
    
    if (spec_12405007.padWithZero) {
    if (negative_12405202) Tmp7 = true; else {      Tmp7 = !((spec_12405007.sign == 45));    }    var sign_12415008 = Tmp7;
    var to_fill_12415013 = subInt(subInt(subInt(spec_12405007.minimumWidth, (result_12405008 != null ? result_12405008.length : 0)), (xx_12405203 != null ? xx_12405203.length : 0)), (sign_12415008 ? 1:0));
    if ((0 < to_fill_12415013)) {
    result_12405008 = nimCopy(null, (nsuRepeatChar(48, chckRange(to_fill_12415013, 0, 2147483647)) || []).concat(result_12405008 || []), NTI112);
    }
    
    }
    
    if (negative_12405202) {
    result_12405008 = nimCopy(null, (makeNimstrLit("-") || []).concat(xx_12405203 || [],result_12405008 || []), NTI112);
    }
    else {
    if (!((spec_12405007.sign == 45))) {
    result_12405008 = nimCopy(null, [spec_12405007.sign].concat(xx_12405203 || [],result_12405008 || []), NTI112);
    }
    else {
      result_12405008 = nimCopy(null, (xx_12405203 || []).concat(result_12405008 || []), NTI112);
    }
    }
    if ((spec_12405007.align == 60)) {
    L8: do {
      var i_12415019 = 0;
      var colontmp__12610398 = 0;
      colontmp__12610398 = (result_12405008 != null ? result_12405008.length : 0);
      var i_12610399 = colontmp__12610398;
      L9: do {
          L10: while (true) {
          if (!(i_12610399 < spec_12405007.minimumWidth)) break L10;
            i_12415019 = i_12610399;
            if (result_12405008 != null) { addChar(result_12405008, spec_12405007.fill); } else { result_12405008 = [spec_12405007.fill]; };
            i_12610399 = addInt(i_12610399, 1);
          }
      } while(false);
    } while(false);
    }
    else {
      var to_fill_12415020 = subInt(spec_12405007.minimumWidth, (result_12405008 != null ? result_12405008.length : 0));
      if ((spec_12405007.align == 94)) {
      var half_12415021 = divInt(to_fill_12415020, 2);
      result_12405008 = nimCopy(null, (nsuRepeatChar(spec_12405007.fill, chckRange(half_12415021, 0, 2147483647)) || []).concat(result_12405008 || [],nsuRepeatChar(spec_12405007.fill, chckRange(subInt(to_fill_12415020, half_12415021), 0, 2147483647)) || []), NTI112);
      }
      else {
        if ((0 < to_fill_12415020)) {
        result_12405008 = nimCopy(null, (nsuRepeatChar(spec_12405007.fill, chckRange(to_fill_12415020, 0, 2147483647)) || []).concat(result_12405008 || []), NTI112);
        }
        
      }
      
    }
    

  return result_12405008;

}
function format_value_12400003(result_12400006, result_12400006_Idx, value_12400007, specifier_12400008) {
  BeforeRet: do {
    if (((specifier_12400008 != null ? specifier_12400008.length : 0) == 0)) {
    if (result_12400006[result_12400006_Idx] != null) { result_12400006[result_12400006_Idx] = (result_12400006[result_12400006_Idx]).concat(cstrToNimstr((value_12400007)+"")); } else { result_12400006[result_12400006_Idx] = cstrToNimstr((value_12400007)+"").slice(); };
    break BeforeRet;
    }
    
    var spec_12400009 = parse_standard_format_specifier_12155322(specifier_12400008, 0, false);
    var radix_12400011 = 10;
    switch (spec_12400009.typ) {
    case 120:
    case 88:
      radix_12400011 = 16;
      break;
    case 100:
    case 0:
      break;
    case 98:
      radix_12400011 = 2;
      break;
    case 111:
      radix_12400011 = 8;
      break;
    default: 
      raiseException({message: (makeNimstrLit("invalid type in format string for number, expected one  of \'x\', \'X\', \'b\', \'d\', \'o\' but got: ") || []).concat([spec_12400009.typ]), parent: null, m_type: NTI6243, name: null, trace: null, up: null}, "ValueError");
      break;
    }
    if (result_12400006[result_12400006_Idx] != null) { result_12400006[result_12400006_Idx] = (result_12400006[result_12400006_Idx]).concat(format_int_12405002(value_12400007, radix_12400011, spec_12400009)); } else { result_12400006[result_12400006_Idx] = format_int_12405002(value_12400007, radix_12400011, spec_12400009).slice(); };
  } while (false);

  
}
function update_list_12261040(instruments_12261043) {
            var Tmp4;

    var counter_12280629 = [init_table_12261046(64)];
    L1: do {
      var instrument_12290214 = null;
      var i_12610304 = 0;
      var l_12610305 = (instruments_12261043 != null ? instruments_12261043.length : 0);
      L2: do {
          L3: while (true) {
          if (!(i_12610304 < l_12610305)) break L3;
            instrument_12290214 = instruments_12261043[chckIndx(i_12610304, 0, (instruments_12261043 != null ? instruments_12261043.length : 0)+0-1)-0];
            if (contains_12290335(counter_12280629[0], reprEnum(instrument_12290214.instrumentType, NTI12137095))) {
            (Tmp4 = HEX5BHEX5D_12300794(counter_12280629[0], reprEnum(instrument_12290214.instrumentType, NTI12137095)), Tmp4)[0][Tmp4[1]] = addInt(Tmp4[0][Tmp4[1]], 1);
            }
            else {
            HEX5BHEX5DHEX3D_12305147(counter_12280629[0], reprEnum(instrument_12290214.instrumentType, NTI12137095), 1);
            }
            
            i_12610304 = addInt(i_12610304, 1);
            if (!(((instruments_12261043 != null ? instruments_12261043.length : 0) == l_12610305))) {
            failed_assert_impl_102680(makeNimstrLit("iterators.nim(189, 11) `len(a) == L` the length of the seq changed while iterating over it"));
            }
            
          }
      } while(false);
    } while(false);
    var list_12385650 = document.getElementById("instrumentList");
    list_12385650.innerHTML = "";
    L5: do {
      var instrument_12395229 = null;
      var count_12395230 = 0;
      var l_12610315 = len_12385784(counter_12280629[0]);
      L6: do {
        var h_12610317 = 0;
        var colontmp__12610318 = 0;
        colontmp__12610318 = (counter_12280629[0].data != null ? (counter_12280629[0].data.length-1) : -1);
        var res_12610319 = 0;
        L7: do {
            L8: while (true) {
            if (!(res_12610319 <= colontmp__12610318)) break L8;
              h_12610317 = res_12610319;
              if (is_filled_9962018(counter_12280629[0].data[chckIndx(h_12610317, 0, (counter_12280629[0].data != null ? counter_12280629[0].data.length : 0)+0-1)-0].Field0)) {
              instrument_12395229 = counter_12280629[0].data[chckIndx(h_12610317, 0, (counter_12280629[0].data != null ? counter_12280629[0].data.length : 0)+0-1)-0].Field1;
              count_12395230 = counter_12280629[0].data[chckIndx(h_12610317, 0, (counter_12280629[0].data != null ? counter_12280629[0].data.length : 0)+0-1)-0].Field2;
              var fmt_res_12395234 = [mnewString(0)];
              if (fmt_res_12395234[0] != null) { fmt_res_12395234[0] = (fmt_res_12395234[0]).concat(makeNimstrLit("<tr><td>")); } else { fmt_res_12395234[0] = makeNimstrLit("<tr><td>"); };
              format_value_12200080(fmt_res_12395234, 0, instrument_12395229, []);
              if (fmt_res_12395234[0] != null) { fmt_res_12395234[0] = (fmt_res_12395234[0]).concat(makeNimstrLit("</td><td>")); } else { fmt_res_12395234[0] = makeNimstrLit("</td><td>"); };
              format_value_12400003(fmt_res_12395234, 0, count_12395230, []);
              if (fmt_res_12395234[0] != null) { fmt_res_12395234[0] = (fmt_res_12395234[0]).concat(makeNimstrLit("</td></tr>")); } else { fmt_res_12395234[0] = makeNimstrLit("</td></tr>"); };
              list_12385650.innerHTML = toJSStr((cstrToNimstr(list_12385650.innerHTML) || []).concat(fmt_res_12395234[0] || []));
              if (!((len_12385784(counter_12280629[0]) == l_12610315))) {
              failed_assert_impl_102680(makeNimstrLit("tables.nim(668, 13) `len(t) == L` the length of the table changed while iterating over it"));
              }
              
              }
              
              res_12610319 = addInt(res_12610319, 1);
            }
        } while(false);
      } while(false);
    } while(false);

  
}
function new_seq_12145096(len_12145099) {
  var result_12145101 = null;

    result_12145101 = new Array(len_12145099); for (var i=0;i<len_12145099;++i) {result_12145101[i]=null;}
  return result_12145101;

}
function clear_12515068() {
    L1: do {
      var instrument_12515076 = null;
      var i_12610293 = 0;
      var l_12610294 = (instruments_12416102[0] != null ? instruments_12416102[0].length : 0);
      L2: do {
          L3: while (true) {
          if (!(i_12610293 < l_12610294)) break L3;
            instrument_12515076 = instruments_12416102[0][chckIndx(i_12610293, 0, (instruments_12416102[0] != null ? instruments_12416102[0].length : 0)+0-1)-0];
            instrument_12515076.e.parentNode.removeChild(instrument_12515076.e);
            i_12610293 = addInt(i_12610293, 1);
            if (!(((instruments_12416102[0] != null ? instruments_12416102[0].length : 0) == l_12610294))) {
            failed_assert_impl_102680(makeNimstrLit("iterators.nim(189, 11) `len(a) == L` the length of the seq changed while iterating over it"));
            }
            
          }
      } while(false);
    } while(false);
    if ((0 < (instruments_12416102[0] != null ? instruments_12416102[0].length : 0))) {
    delete_12525011(instruments_12416102, 0, 0, chckRange(subInt((instruments_12416102[0] != null ? instruments_12416102[0].length : 0), 1), 0, 2147483647));
    }
    
    L4: do {
      var iHEX60gensym12535436_12545003 = 0;
      var resultHEX60gensym12535437_12550011 = new_seq_12145096(chckRange((instruments_12416102[0] != null ? instruments_12416102[0].length : 0), 0, 2147483647));
      L5: do {
        var it_12555007 = null;
        var i_12610298 = 0;
        var l_12610299 = (instruments_12416102[0] != null ? instruments_12416102[0].length : 0);
        L6: do {
            L7: while (true) {
            if (!(i_12610298 < l_12610299)) break L7;
              it_12555007 = instruments_12416102[0][chckIndx(i_12610298, 0, (instruments_12416102[0] != null ? instruments_12416102[0].length : 0)+0-1)-0];
              resultHEX60gensym12535437_12550011[chckIndx(iHEX60gensym12535436_12545003, 0, (resultHEX60gensym12535437_12550011 != null ? resultHEX60gensym12535437_12550011.length : 0)+0-1)-0] = it_12555007.data;
              iHEX60gensym12535436_12545003 = addInt(iHEX60gensym12535436_12545003, 1);
              i_12610298 = addInt(i_12610298, 1);
              if (!(((instruments_12416102[0] != null ? instruments_12416102[0].length : 0) == l_12610299))) {
              failed_assert_impl_102680(makeNimstrLit("iterators.nim(189, 11) `len(a) == L` the length of the seq changed while iterating over it"));
              }
              
            }
        } while(false);
      } while(false);
    } while(false);
    update_list_12261040(resultHEX60gensym12535437_12550011);

  
}
function update_header_12486054(map_12486056) {
    document.getElementById("sequence").innerHTML = toJSStr(map_12486056.sequence);
    document.getElementById("city").innerHTML = toJSStr(map_12486056.city);
    document.getElementById("team").innerHTML = toJSStr(map_12486056.team);
    document.getElementById("music").innerHTML = toJSStr(map_12486056.music);

  
}
function update_info_map_12487080(map_12487082) {
    document.getElementById("sequenceInput").value = toJSStr(map_12487082.sequence);
    document.getElementById("cityInput").value = toJSStr(map_12487082.city);
    document.getElementById("teamInput").value = toJSStr(map_12487082.team);
    document.getElementById("musicInput").value = toJSStr(map_12487082.music);

  
}
function len_11515128(t_11515133) {
  var result_11515134 = 0;

    result_11515134 = t_11515133.counter;

  return result_11515134;

}
function len_11545341(n_11545343) {
      var Tmp1;
      var Tmp2;
      var Tmp3;

  var result_11545344 = 0;

    switch (n_11545343.kind) {
    case 6:
      var Tmp1 = n_11545343;
      if (ConstSet11[Tmp1.kind]===undefined) { raiseFieldError(makeNimstrLit("\'elems\' is not accessible using discriminant \'kind\' of type \'JsonNodeObj\'")); }
      result_11545344 = ((Tmp2 = Tmp1.elems, Tmp2) != null ? Tmp2.length : 0);
      break;
    case 5:
      var Tmp3 = n_11545343;
      if (ConstSet12[Tmp3.kind]===undefined) { raiseFieldError(makeNimstrLit("\'fields\' is not accessible using discriminant \'kind\' of type \'JsonNodeObj\'")); }
      result_11545344 = len_11515128(Tmp3.fields);
      break;
    default: 
      break;
    }

  return result_11545344;

}
function nsuToHex(x_9060243, len_9060244) {
  var result_9060245 = null;

    var n_9060247 = x_9060243;
    result_9060245 = nimCopy(null, mnewString(len_9060244), NTI112);
    L1: do {
      var j_9060254 = 0;
      var colontmp__12610425 = 0;
      colontmp__12610425 = subInt(len_9060244, 1);
      var res_12610430 = colontmp__12610425;
      L2: do {
          L3: while (true) {
          if (!(0 <= res_12610430)) break L3;
            j_9060254 = res_12610430;
            result_9060245[chckIndx(j_9060254, 0, (result_9060245 != null ? result_9060245.length : 0)+0-1)-0] = makeNimstrLit("0123456789ABCDEF")[chckIndx((n_9060247 & 15), 0, (makeNimstrLit("0123456789ABCDEF") != null ? makeNimstrLit("0123456789ABCDEF").length : 0)+0-1)-0];
            n_9060247 = (n_9060247 >> 4);
            if (((n_9060247 == 0) && (x_9060243 < 0))) {
            n_9060247 = -1;
            }
            
            res_12610430 = subInt(res_12610430, 1);
          }
      } while(false);
    } while(false);

  return result_9060245;

}
function escape_json_unquoted_11681679(s_11681681, result_11681683, result_11681683_Idx) {
    L1: do {
      var c_11681685 = 0;
      var i_12610421 = 0;
      var l_12610422 = (s_11681681 != null ? s_11681681.length : 0);
      L2: do {
          L3: while (true) {
          if (!(i_12610421 < l_12610422)) break L3;
            c_11681685 = s_11681681[chckIndx(i_12610421, 0, (s_11681681 != null ? s_11681681.length : 0)+0-1)-0];
            switch (c_11681685) {
            case 10:
              if (result_11681683[result_11681683_Idx] != null) { result_11681683[result_11681683_Idx] = (result_11681683[result_11681683_Idx]).concat(makeNimstrLit("\\n")); } else { result_11681683[result_11681683_Idx] = makeNimstrLit("\\n"); };
              break;
            case 8:
              if (result_11681683[result_11681683_Idx] != null) { result_11681683[result_11681683_Idx] = (result_11681683[result_11681683_Idx]).concat(makeNimstrLit("\\b")); } else { result_11681683[result_11681683_Idx] = makeNimstrLit("\\b"); };
              break;
            case 12:
              if (result_11681683[result_11681683_Idx] != null) { result_11681683[result_11681683_Idx] = (result_11681683[result_11681683_Idx]).concat(makeNimstrLit("\\f")); } else { result_11681683[result_11681683_Idx] = makeNimstrLit("\\f"); };
              break;
            case 9:
              if (result_11681683[result_11681683_Idx] != null) { result_11681683[result_11681683_Idx] = (result_11681683[result_11681683_Idx]).concat(makeNimstrLit("\\t")); } else { result_11681683[result_11681683_Idx] = makeNimstrLit("\\t"); };
              break;
            case 11:
              if (result_11681683[result_11681683_Idx] != null) { result_11681683[result_11681683_Idx] = (result_11681683[result_11681683_Idx]).concat(makeNimstrLit("\\u000b")); } else { result_11681683[result_11681683_Idx] = makeNimstrLit("\\u000b"); };
              break;
            case 13:
              if (result_11681683[result_11681683_Idx] != null) { result_11681683[result_11681683_Idx] = (result_11681683[result_11681683_Idx]).concat(makeNimstrLit("\\r")); } else { result_11681683[result_11681683_Idx] = makeNimstrLit("\\r"); };
              break;
            case 34:
              if (result_11681683[result_11681683_Idx] != null) { result_11681683[result_11681683_Idx] = (result_11681683[result_11681683_Idx]).concat(makeNimstrLit("\\\"")); } else { result_11681683[result_11681683_Idx] = makeNimstrLit("\\\""); };
              break;
            case 0:
            case 1:
            case 2:
            case 3:
            case 4:
            case 5:
            case 6:
            case 7:
              if (result_11681683[result_11681683_Idx] != null) { result_11681683[result_11681683_Idx] = (result_11681683[result_11681683_Idx]).concat((makeNimstrLit("\\u000") || []).concat(cstrToNimstr((c_11681685)+"") || [])); } else { result_11681683[result_11681683_Idx] = (makeNimstrLit("\\u000") || []).concat(cstrToNimstr((c_11681685)+"") || []).slice(); };
              break;
            case 14:
            case 15:
            case 16:
            case 17:
            case 18:
            case 19:
            case 20:
            case 21:
            case 22:
            case 23:
            case 24:
            case 25:
            case 26:
            case 27:
            case 28:
            case 29:
            case 30:
            case 31:
              if (result_11681683[result_11681683_Idx] != null) { result_11681683[result_11681683_Idx] = (result_11681683[result_11681683_Idx]).concat((makeNimstrLit("\\u00") || []).concat(nsuToHex(c_11681685, 2) || [])); } else { result_11681683[result_11681683_Idx] = (makeNimstrLit("\\u00") || []).concat(nsuToHex(c_11681685, 2) || []).slice(); };
              break;
            case 92:
              if (result_11681683[result_11681683_Idx] != null) { result_11681683[result_11681683_Idx] = (result_11681683[result_11681683_Idx]).concat(makeNimstrLit("\\\\")); } else { result_11681683[result_11681683_Idx] = makeNimstrLit("\\\\"); };
              break;
            default: 
              if (result_11681683[result_11681683_Idx] != null) { addChar(result_11681683[result_11681683_Idx], c_11681685); } else { result_11681683[result_11681683_Idx] = [c_11681685]; };
              break;
            }
            i_12610421 = addInt(i_12610421, 1);
            if (!(((s_11681681 != null ? s_11681681.length : 0) == l_12610422))) {
            failed_assert_impl_102680(makeNimstrLit("iterators.nim(207, 11) `len(a) == L` the length of the string changed while iterating over it"));
            }
            
          }
      } while(false);
    } while(false);

  
}
function escape_json_11681732(s_11681734, result_11681736, result_11681736_Idx) {
    if (result_11681736[result_11681736_Idx] != null) { result_11681736[result_11681736_Idx] = (result_11681736[result_11681736_Idx]).concat(makeNimstrLit("\"")); } else { result_11681736[result_11681736_Idx] = makeNimstrLit("\""); };
    escape_json_unquoted_11681679(s_11681734, result_11681736, result_11681736_Idx);
    if (result_11681736[result_11681736_Idx] != null) { result_11681736[result_11681736_Idx] = (result_11681736[result_11681736_Idx]).concat(makeNimstrLit("\"")); } else { result_11681736[result_11681736_Idx] = makeNimstrLit("\""); };

  
}
function to_ugly_11700035(result_11700038, result_11700038_Idx, node_11700039) {
        var Tmp2;
        var Tmp6;
      var Tmp9;
      var Tmp10;
      var Tmp11;
      var Tmp12;
        var Tmp13;

    var comma_11700040 = false;
    switch (node_11700039.kind) {
    case 6:
      if (result_11700038[result_11700038_Idx] != null) { result_11700038[result_11700038_Idx] = (result_11700038[result_11700038_Idx]).concat(makeNimstrLit("[")); } else { result_11700038[result_11700038_Idx] = makeNimstrLit("["); };
      L1: do {
        var child_11700048 = null;
        var colontmp__12610408 = null;
        var Tmp2 = node_11700039;
        if (ConstSet13[Tmp2.kind]===undefined) { raiseFieldError(makeNimstrLit("\'elems\' is not accessible using discriminant \'kind\' of type \'JsonNodeObj\'")); }
        colontmp__12610408 = Tmp2.elems;
        var i_12610410 = 0;
        var l_12610411 = (colontmp__12610408 != null ? colontmp__12610408.length : 0);
        L3: do {
            L4: while (true) {
            if (!(i_12610410 < l_12610411)) break L4;
              child_11700048 = colontmp__12610408[chckIndx(i_12610410, 0, (colontmp__12610408 != null ? colontmp__12610408.length : 0)+0-1)-0];
              if (comma_11700040) {
              if (result_11700038[result_11700038_Idx] != null) { result_11700038[result_11700038_Idx] = (result_11700038[result_11700038_Idx]).concat(makeNimstrLit(",")); } else { result_11700038[result_11700038_Idx] = makeNimstrLit(","); };
              }
              else {
                comma_11700040 = true;
              }
              
              to_ugly_11700035(result_11700038, result_11700038_Idx, child_11700048);
              i_12610410 = addInt(i_12610410, 1);
              if (!(((colontmp__12610408 != null ? colontmp__12610408.length : 0) == l_12610411))) {
              failed_assert_impl_102680(makeNimstrLit("iterators.nim(189, 11) `len(a) == L` the length of the seq changed while iterating over it"));
              }
              
            }
        } while(false);
      } while(false);
      if (result_11700038[result_11700038_Idx] != null) { result_11700038[result_11700038_Idx] = (result_11700038[result_11700038_Idx]).concat(makeNimstrLit("]")); } else { result_11700038[result_11700038_Idx] = makeNimstrLit("]"); };
      break;
    case 5:
      if (result_11700038[result_11700038_Idx] != null) { result_11700038[result_11700038_Idx] = (result_11700038[result_11700038_Idx]).concat(makeNimstrLit("{")); } else { result_11700038[result_11700038_Idx] = makeNimstrLit("{"); };
      L5: do {
        var key_11700057 = null;
        var value_11700058 = null;
        var colontmp__12610414 = ({data: null, counter: 0, first: 0, last: 0});
        var Tmp6 = node_11700039;
        if (ConstSet14[Tmp6.kind]===undefined) { raiseFieldError(makeNimstrLit("\'fields\' is not accessible using discriminant \'kind\' of type \'JsonNodeObj\'")); }
        nimCopy(colontmp__12610414, Tmp6.fields, NTI11336067);
        var l_12610416 = len_11515128(colontmp__12610414);
        if ((0 < colontmp__12610414.counter)) {
        var h_12610417 = colontmp__12610414.first;
        L7: do {
            L8: while (true) {
            if (!(0 <= h_12610417)) break L8;
              var nxt_12610419 = colontmp__12610414.data[chckIndx(h_12610417, 0, (colontmp__12610414.data != null ? colontmp__12610414.data.length : 0)+0-1)-0].Field1;
              if (is_filled_9962018(colontmp__12610414.data[chckIndx(h_12610417, 0, (colontmp__12610414.data != null ? colontmp__12610414.data.length : 0)+0-1)-0].Field0)) {
              key_11700057 = colontmp__12610414.data[chckIndx(h_12610417, 0, (colontmp__12610414.data != null ? colontmp__12610414.data.length : 0)+0-1)-0].Field2;
              value_11700058 = colontmp__12610414.data[chckIndx(h_12610417, 0, (colontmp__12610414.data != null ? colontmp__12610414.data.length : 0)+0-1)-0].Field3;
              if (comma_11700040) {
              if (result_11700038[result_11700038_Idx] != null) { result_11700038[result_11700038_Idx] = (result_11700038[result_11700038_Idx]).concat(makeNimstrLit(",")); } else { result_11700038[result_11700038_Idx] = makeNimstrLit(","); };
              }
              else {
                comma_11700040 = true;
              }
              
              escape_json_11681732(key_11700057, result_11700038, result_11700038_Idx);
              if (result_11700038[result_11700038_Idx] != null) { result_11700038[result_11700038_Idx] = (result_11700038[result_11700038_Idx]).concat(makeNimstrLit(":")); } else { result_11700038[result_11700038_Idx] = makeNimstrLit(":"); };
              to_ugly_11700035(result_11700038, result_11700038_Idx, value_11700058);
              if (!((len_11515128(colontmp__12610414) == l_12610416))) {
              failed_assert_impl_102680(makeNimstrLit("tables.nim(1679, 11) `len(t) == L` the length of the table changed while iterating over it"));
              }
              
              }
              
              h_12610417 = nxt_12610419;
            }
        } while(false);
        }
        
      } while(false);
      if (result_11700038[result_11700038_Idx] != null) { result_11700038[result_11700038_Idx] = (result_11700038[result_11700038_Idx]).concat(makeNimstrLit("}")); } else { result_11700038[result_11700038_Idx] = makeNimstrLit("}"); };
      break;
    case 4:
      var Tmp9 = node_11700039;
      if (ConstSet15[Tmp9.kind]===undefined) { raiseFieldError(makeNimstrLit("\'str\' is not accessible using discriminant \'kind\' of type \'JsonNodeObj\'")); }
      escape_json_11681732(Tmp9.str, result_11700038, result_11700038_Idx);
      break;
    case 2:
      var Tmp10 = node_11700039;
      if (ConstSet16[Tmp10.kind]===undefined) { raiseFieldError(makeNimstrLit("\'num\' is not accessible using discriminant \'kind\' of type \'JsonNodeObj\'")); }
      if (result_11700038[result_11700038_Idx] != null) { result_11700038[result_11700038_Idx] = (result_11700038[result_11700038_Idx]).concat(cstrToNimstr((Tmp10.num)+"")); } else { result_11700038[result_11700038_Idx] = cstrToNimstr((Tmp10.num)+"").slice(); };
      break;
    case 3:
      var Tmp11 = node_11700039;
      if (ConstSet17[Tmp11.kind]===undefined) { raiseFieldError(makeNimstrLit("\'fnum\' is not accessible using discriminant \'kind\' of type \'JsonNodeObj\'")); }
      if (result_11700038[result_11700038_Idx] != null) { result_11700038[result_11700038_Idx] = (result_11700038[result_11700038_Idx]).concat(cstrToNimstr((Tmp11.fnum)+"")); } else { result_11700038[result_11700038_Idx] = cstrToNimstr((Tmp11.fnum)+"").slice(); };
      break;
    case 1:
        var Tmp13 = node_11700039;
        if (ConstSet18[Tmp13.kind]===undefined) { raiseFieldError(makeNimstrLit("\'bval\' is not accessible using discriminant \'kind\' of type \'JsonNodeObj\'")); }
      if (Tmp13.bval) {
      Tmp12 = makeNimstrLit("true");
      }
      else {
      Tmp12 = makeNimstrLit("false");
      }
      
      if (result_11700038[result_11700038_Idx] != null) { result_11700038[result_11700038_Idx] = (result_11700038[result_11700038_Idx]).concat(Tmp12); } else { result_11700038[result_11700038_Idx] = Tmp12.slice(); };
      break;
    case 0:
      if (result_11700038[result_11700038_Idx] != null) { result_11700038[result_11700038_Idx] = (result_11700038[result_11700038_Idx]).concat(makeNimstrLit("null")); } else { result_11700038[result_11700038_Idx] = makeNimstrLit("null"); };
      break;
    }

  
}
function HEX24_11700416(node_11700418) {
  var result_11700419 = [null];

    result_11700419[0] = nimCopy(null, mnewString(0), NTI112);
    to_ugly_11700035(result_11700419, 0, node_11700418);

  return result_11700419[0];

}
function new_jarray_11355657() {
  var result_11355659 = null;

    result_11355659 = {kind: 6, elems: [], str: null, num: 0, fnum: 0.0, bval: false, fields: ({data: null, counter: 0, first: 0, last: 0})};

  return result_11355659;

}
function init_ordered_table_11336240(initial_size_11336244) {
  var result_11336246 = ({data: null, counter: 0, first: 0, last: 0});

    if (!(is_power_of_two_1090029(initial_size_11336244))) {
    failed_assert_impl_102680(makeNimstrLit("tableimpl.nim(166, 12) `isPowerOfTwo(initialSize)` "));
    }
    
    result_11336246.counter = 0;
    result_11336246.data = new Array(chckRange(initial_size_11336244, 0, 2147483647)); for (var i=0;i<chckRange(initial_size_11336244, 0, 2147483647);++i) {result_11336246.data[i]={Field0: 0, Field1: 0, Field2: null, Field3: null};}    result_11336246.first = -1;
    result_11336246.last = -1;

  return result_11336246;

}
function new_jobject_11336235() {
  var result_11336237 = null;

    result_11336237 = {kind: 5, fields: init_ordered_table_11336240(4), str: null, num: 0, fnum: 0.0, bval: false, elems: null};

  return result_11336237;

}
function raw_get_11430621(t_11430626, key_11430627, hc_11430628, hc_11430628_Idx) {
            var Tmp3;

  var result_11430629 = 0;

  BeforeRet: do {
    hc_11430628[hc_11430628_Idx] = hash_9940214(key_11430627);
    if ((hc_11430628[hc_11430628_Idx] == 0)) {
    hc_11430628[hc_11430628_Idx] = 314159265;
    }
    
    if (((t_11430626.data != null ? t_11430626.data.length : 0) == 0)) {
    result_11430629 = -1;
    break BeforeRet;
    }
    
    var h_11440138 = (hc_11430628[hc_11430628_Idx] & (t_11430626.data != null ? (t_11430626.data.length-1) : -1));
    L1: do {
        L2: while (true) {
        if (!is_filled_9962018(t_11430626.data[chckIndx(h_11440138, 0, (t_11430626.data != null ? t_11430626.data.length : 0)+0-1)-0].Field0)) break L2;
            if (!(t_11430626.data[chckIndx(h_11440138, 0, (t_11430626.data != null ? t_11430626.data.length : 0)+0-1)-0].Field0 == hc_11430628[hc_11430628_Idx])) Tmp3 = false; else {              Tmp3 = eqStrings(t_11430626.data[chckIndx(h_11440138, 0, (t_11430626.data != null ? t_11430626.data.length : 0)+0-1)-0].Field2, key_11430627);            }          if (Tmp3) {
          result_11430629 = h_11440138;
          break BeforeRet;
          }
          
          h_11440138 = next_try_9965014(h_11440138, (t_11430626.data != null ? (t_11430626.data.length-1) : -1));
        }
    } while(false);
    result_11430629 = subInt(-1, h_11440138);
  } while (false);

  return result_11430629;

}
function must_rehash_11465601(t_11465604) {
  var result_11465605 = false;

    if (!((t_11465604.counter < (t_11465604.data != null ? t_11465604.data.length : 0)))) {
    failed_assert_impl_102680(makeNimstrLit("hashcommon.nim(33, 9) `\x0At.counter < t.dataLen` "));
    }
    
    result_11465605 = ((mulInt((t_11465604.data != null ? t_11465604.data.length : 0), 2) < mulInt(t_11465604.counter, 3)) || (subInt((t_11465604.data != null ? t_11465604.data.length : 0), t_11465604.counter) < 4));

  return result_11465605;

}
function raw_insert_11491349(t_11491355, data_11491358, data_11491358_Idx, key_11491359, val_11491360, hc_11491361, h_11491362) {
    data_11491358[data_11491358_Idx][chckIndx(h_11491362, 0, (data_11491358[data_11491358_Idx] != null ? data_11491358[data_11491358_Idx].length : 0)+0-1)-0].Field2 = nimCopy(null, key_11491359, NTI112);
    data_11491358[data_11491358_Idx][chckIndx(h_11491362, 0, (data_11491358[data_11491358_Idx] != null ? data_11491358[data_11491358_Idx].length : 0)+0-1)-0].Field3 = val_11491360;
    data_11491358[data_11491358_Idx][chckIndx(h_11491362, 0, (data_11491358[data_11491358_Idx] != null ? data_11491358[data_11491358_Idx].length : 0)+0-1)-0].Field0 = hc_11491361;
    data_11491358[data_11491358_Idx][chckIndx(h_11491362, 0, (data_11491358[data_11491358_Idx] != null ? data_11491358[data_11491358_Idx].length : 0)+0-1)-0].Field1 = -1;
    if ((t_11491355.first < 0)) {
    t_11491355.first = h_11491362;
    }
    
    if ((0 <= t_11491355.last)) {
    data_11491358[data_11491358_Idx][chckIndx(t_11491355.last, 0, (data_11491358[data_11491358_Idx] != null ? data_11491358[data_11491358_Idx].length : 0)+0-1)-0].Field1 = h_11491362;
    }
    
    t_11491355.last = h_11491362;

  
}
function enlarge_11490180(t_11490186) {
          var Tmp6;
          var Tmp7;

    var n_11490194 = null;
    n_11490194 = new Array(chckRange(mulInt((t_11490186.data != null ? t_11490186.data.length : 0), 2), 0, 2147483647)); for (var i=0;i<chckRange(mulInt((t_11490186.data != null ? t_11490186.data.length : 0), 2), 0, 2147483647);++i) {n_11490194[i]={Field0: 0, Field1: 0, Field2: null, Field3: null};}    var h_11490333 = t_11490186.first;
    t_11490186.first = -1;
    t_11490186.last = -1;
    var Tmp1 = t_11490186.data; t_11490186.data = n_11490194; n_11490194 = Tmp1;    L2: do {
        L3: while (true) {
        if (!(0 <= h_11490333)) break L3;
          var nxt_11490489 = n_11490194[chckIndx(h_11490333, 0, (n_11490194 != null ? n_11490194.length : 0)+0-1)-0].Field1;
          var eh_11490638 = n_11490194[chckIndx(h_11490333, 0, (n_11490194 != null ? n_11490194.length : 0)+0-1)-0].Field0;
          if (is_filled_9962018(eh_11490638)) {
          var j_11490645 = (eh_11490638 & (t_11490186.data != null ? (t_11490186.data.length-1) : -1));
          L4: do {
              L5: while (true) {
              if (!is_filled_9962018(t_11490186.data[chckIndx(j_11490645, 0, (t_11490186.data != null ? t_11490186.data.length : 0)+0-1)-0].Field0)) break L5;
                j_11490645 = next_try_9965014(j_11490645, (t_11490186.data != null ? (t_11490186.data.length-1) : -1));
              }
          } while(false);
          Tmp6 = n_11490194[chckIndx(h_11490333, 0, (n_11490194 != null ? n_11490194.length : 0)+0-1)-0].Field2;
          n_11490194[chckIndx(h_11490333, 0, (n_11490194 != null ? n_11490194.length : 0)+0-1)-0].Field2 = genericReset(n_11490194[chckIndx(h_11490333, 0, (n_11490194 != null ? n_11490194.length : 0)+0-1)-0].Field2, NTI112);
          Tmp7 = n_11490194[chckIndx(h_11490333, 0, (n_11490194 != null ? n_11490194.length : 0)+0-1)-0].Field3;
          n_11490194[chckIndx(h_11490333, 0, (n_11490194 != null ? n_11490194.length : 0)+0-1)-0].Field3 = genericReset(n_11490194[chckIndx(h_11490333, 0, (n_11490194 != null ? n_11490194.length : 0)+0-1)-0].Field3, NTI11336043);
          raw_insert_11491349(t_11490186, t_11490186, "data", Tmp6, Tmp7, n_11490194[chckIndx(h_11490333, 0, (n_11490194 != null ? n_11490194.length : 0)+0-1)-0].Field0, j_11490645);
          }
          
          h_11490333 = nxt_11490489;
        }
    } while(false);

  
}
function raw_get_known_hc_11492149(t_11492154, key_11492155, hc_11492156) {
  var result_11492157 = 0;

  BeforeRet: do {
    if (((t_11492154.data != null ? t_11492154.data.length : 0) == 0)) {
    result_11492157 = -1;
    break BeforeRet;
    }
    
    var h_11495138 = (hc_11492156 & (t_11492154.data != null ? (t_11492154.data.length-1) : -1));
    L1: do {
        L2: while (true) {
        if (!is_filled_9962018(t_11492154.data[chckIndx(h_11495138, 0, (t_11492154.data != null ? t_11492154.data.length : 0)+0-1)-0].Field0)) break L2;
          if (((t_11492154.data[chckIndx(h_11495138, 0, (t_11492154.data != null ? t_11492154.data.length : 0)+0-1)-0].Field0 == hc_11492156) && eqStrings(t_11492154.data[chckIndx(h_11495138, 0, (t_11492154.data != null ? t_11492154.data.length : 0)+0-1)-0].Field2, key_11492155))) {
          result_11492157 = h_11495138;
          break BeforeRet;
          }
          
          h_11495138 = next_try_9965014(h_11495138, (t_11492154.data != null ? (t_11492154.data.length-1) : -1));
        }
    } while(false);
    result_11492157 = subInt(-1, h_11495138);
  } while (false);

  return result_11492157;

}
function HEX5BHEX5DHEX3D_11405311(t_11405317, key_11405318, val_11405319) {
    if (((t_11405317.data != null ? t_11405317.data.length : 0) == 0)) {
    if (!(is_power_of_two_1090029(64))) {
    failed_assert_impl_102680(makeNimstrLit("tableimpl.nim(166, 12) `isPowerOfTwo(defaultInitialSize)` "));
    }
    
    t_11405317.counter = 0;
    t_11405317.data = new Array(64); for (var i=0;i<64;++i) {t_11405317.data[i]={Field0: 0, Field1: 0, Field2: null, Field3: null};}    t_11405317.first = -1;
    t_11405317.last = -1;
    }
    
    var hc_11430601 = [0];
    var index_11440620 = raw_get_11430621(t_11405317, key_11405318, hc_11430601, 0);
    if ((0 <= index_11440620)) {
    t_11405317.data[chckIndx(index_11440620, 0, (t_11405317.data != null ? t_11405317.data.length : 0)+0-1)-0].Field3 = val_11405319;
    }
    else {
      if (((t_11405317.data != null ? t_11405317.data.length : 0) == 0)) {
      if (!(is_power_of_two_1090029(64))) {
      failed_assert_impl_102680(makeNimstrLit("tableimpl.nim(166, 12) `isPowerOfTwo(defaultInitialSize)` "));
      }
      
      t_11405317.counter = 0;
      t_11405317.data = new Array(64); for (var i=0;i<64;++i) {t_11405317.data[i]={Field0: 0, Field1: 0, Field2: null, Field3: null};}      t_11405317.first = -1;
      t_11405317.last = -1;
      }
      
      if (must_rehash_11465601(t_11405317)) {
      enlarge_11490180(t_11405317);
      index_11440620 = raw_get_known_hc_11492149(t_11405317, key_11405318, hc_11430601[0]);
      }
      
      index_11440620 = subInt(-1, index_11440620);
      raw_insert_11491349(t_11405317, t_11405317, "data", key_11405318, val_11405319, hc_11430601[0], index_11440620);
      t_11405317.counter = addInt(t_11405317.counter, 1);
    }
    

  
}
function HEX25_11495802(key_vals_11495808) {
            var Tmp4;

  var result_11495809 = null;

  BeforeRet: do {
    if (((key_vals_11495808 != null ? key_vals_11495808.length : 0) == 0)) {
    result_11495809 = new_jarray_11355657();
    break BeforeRet;
    }
    
    result_11495809 = new_jobject_11336235();
    L1: do {
      var key_11495859 = null;
      var val_11495860 = null;
      var i_12610437 = 0;
      L2: do {
          L3: while (true) {
          if (!(i_12610437 < (key_vals_11495808 != null ? key_vals_11495808.length : 0))) break L3;
            key_11495859 = key_vals_11495808[chckIndx(i_12610437, 0, (key_vals_11495808 != null ? key_vals_11495808.length : 0)+0-1)-0]["Field0"];
            val_11495860 = key_vals_11495808[chckIndx(i_12610437, 0, (key_vals_11495808 != null ? key_vals_11495808.length : 0)+0-1)-0]["Field1"];
            var Tmp4 = result_11495809;
            if (ConstSet19[Tmp4.kind]===undefined) { raiseFieldError(makeNimstrLit("\'fields\' is not accessible using discriminant \'kind\' of type \'JsonNodeObj\'")); }
            HEX5BHEX5DHEX3D_11405311(Tmp4.fields, key_11495859, val_11495860);
            i_12610437 = addInt(i_12610437, 1);
          }
      } while(false);
    } while(false);
  } while (false);

  return result_11495809;

}
function new_jnull_11336219() {
  var result_11336221 = null;

    result_11336221 = {kind: 0, str: null, num: 0, fnum: 0.0, bval: false, fields: ({data: null, counter: 0, first: 0, last: 0}), elems: null};

  return result_11336221;

}
function HEX5BHEX5DHEX3D_11496214(obj_11496216, key_11496217, val_11496218) {
    var Tmp1;

    if (!((obj_11496216.kind == 5))) {
    failed_assert_impl_102680(makeNimstrLit("json.nim(346, 9) `obj.kind == JObject` "));
    }
    
    var Tmp1 = obj_11496216;
    if (ConstSet20[Tmp1.kind]===undefined) { raiseFieldError(makeNimstrLit("\'fields\' is not accessible using discriminant \'kind\' of type \'JsonNodeObj\'")); }
    HEX5BHEX5DHEX3D_11405311(Tmp1.fields, key_11496217, val_11496218);

  
}
function HEX25_11495683(s_11495685) {
  var result_11495686 = null;

    result_11495686 = {kind: 4, str: nimCopy(null, s_11495685, NTI112), num: 0, fnum: 0.0, bval: false, fields: ({data: null, counter: 0, first: 0, last: 0}), elems: null};

  return result_11495686;

}
function HEX25_11495717(n_11495719) {
  var result_11495720 = null;

    result_11495720 = {kind: 2, num: n_11495719, str: null, fnum: 0.0, bval: false, fields: ({data: null, counter: 0, first: 0, last: 0}), elems: null};

  return result_11495720;

}
function HEX25_12140014(o_12140017) {
  var result_12140018 = null;

    result_12140018 = new_jobject_11336235();
    HEX5BHEX5DHEX3D_11496214(result_12140018, makeNimstrLit("sequence"), HEX25_11495683(o_12140017.sequence));
    HEX5BHEX5DHEX3D_11496214(result_12140018, makeNimstrLit("city"), HEX25_11495683(o_12140017.city));
    HEX5BHEX5DHEX3D_11496214(result_12140018, makeNimstrLit("team"), HEX25_11495683(o_12140017.team));
    HEX5BHEX5DHEX3D_11496214(result_12140018, makeNimstrLit("music"), HEX25_11495683(o_12140017.music));
    HEX5BHEX5DHEX3D_11496214(result_12140018, makeNimstrLit("height"), HEX25_11495717(o_12140017.height));
    HEX5BHEX5DHEX3D_11496214(result_12140018, makeNimstrLit("width"), HEX25_11495717(o_12140017.width));

  return result_12140018;

}
function HEX25_12140003(o_12140007) {
  var result_12140008 = null;

    if ((o_12140007 == null)) {
    result_12140008 = new_jnull_11336219();
    }
    else {
      result_12140008 = HEX25_12140014(o_12140007);
    }
    

  return result_12140008;

}
function add_11385020(father_11385022, child_11385023) {
    var Tmp1;
    var Tmp2;

    if (!((father_11385022.kind == 6))) {
    failed_assert_impl_102680(makeNimstrLit("json.nim(272, 10) `father.kind == JArray` "));
    }
    
    var Tmp1 = father_11385022;
    if (ConstSet21[Tmp1.kind]===undefined) { raiseFieldError(makeNimstrLit("\'elems\' is not accessible using discriminant \'kind\' of type \'JsonNodeObj\'")); }
    if ((Tmp2 = Tmp1.elems, Tmp2) != null) { Tmp2.push(child_11385023); } else { Tmp2 = [child_11385023]; };

  
}
function HEX25_12140139(o_12140142) {
  var result_12140143 = null;

    result_12140143 = HEX25_11495683(reprEnum(o_12140142, NTI12137095));

  return result_12140143;

}
function HEX25_12140117(o_12140120) {
  var result_12140121 = null;

    result_12140121 = new_jobject_11336235();
    HEX5BHEX5DHEX3D_11496214(result_12140121, makeNimstrLit("x"), HEX25_11495717(o_12140120.x));
    HEX5BHEX5DHEX3D_11496214(result_12140121, makeNimstrLit("y"), HEX25_11495717(o_12140120.y));
    HEX5BHEX5DHEX3D_11496214(result_12140121, makeNimstrLit("height"), HEX25_11495717(o_12140120.height));
    HEX5BHEX5DHEX3D_11496214(result_12140121, makeNimstrLit("width"), HEX25_11495717(o_12140120.width));
    HEX5BHEX5DHEX3D_11496214(result_12140121, makeNimstrLit("angle"), HEX25_11495717(o_12140120.angle));
    HEX5BHEX5DHEX3D_11496214(result_12140121, makeNimstrLit("instrumentType"), HEX25_12140139(o_12140120.instrumentType));

  return result_12140121;

}
function HEX25_12140106(o_12140110) {
  var result_12140111 = null;

    if ((o_12140110 == null)) {
    result_12140111 = new_jnull_11336219();
    }
    else {
      result_12140111 = HEX25_12140117(o_12140110);
    }
    

  return result_12140111;

}
function HEX25_12140068(elements_12140072) {
  var result_12140073 = null;

    result_12140073 = new_jarray_11355657();
    L1: do {
      var elem_12140104 = null;
      var i_12610450 = 0;
      L2: do {
          L3: while (true) {
          if (!(i_12610450 < (elements_12140072 != null ? elements_12140072.length : 0))) break L3;
            elem_12140104 = elements_12140072[chckIndx(i_12610450, 0, (elements_12140072 != null ? elements_12140072.length : 0)+0-1)-0];
            add_11385020(result_12140073, HEX25_12140106(elem_12140104));
            i_12610450 = addInt(i_12610450, 1);
          }
      } while(false);
    } while(false);

  return result_12140073;

}
function to_json_12137125(map_12137127, instruments_12137129) {
  var result_12137130 = null;

    result_12137130 = nimCopy(null, HEX24_11700416(HEX25_11495802([nimCopy(null, {Field0: makeNimstrLit("map"), Field1: HEX25_12140003(map_12137127)}, NTI12140002), nimCopy(null, {Field0: makeNimstrLit("instruments"), Field1: HEX25_12140068(instruments_12137129)}, NTI12140002)])), NTI112);

  return result_12137130;

}
function data_json_12416164() {
  var result_12416166 = null;

    L1: do {
      var iHEX60gensym12416169_12435003 = 0;
      var resultHEX60gensym12416170_12440011 = new_seq_12145096(chckRange((instruments_12416102[0] != null ? instruments_12416102[0].length : 0), 0, 2147483647));
      L2: do {
        var it_12445007 = null;
        var i_12610403 = 0;
        var l_12610404 = (instruments_12416102[0] != null ? instruments_12416102[0].length : 0);
        L3: do {
            L4: while (true) {
            if (!(i_12610403 < l_12610404)) break L4;
              it_12445007 = instruments_12416102[0][chckIndx(i_12610403, 0, (instruments_12416102[0] != null ? instruments_12416102[0].length : 0)+0-1)-0];
              resultHEX60gensym12416170_12440011[chckIndx(iHEX60gensym12416169_12435003, 0, (resultHEX60gensym12416170_12440011 != null ? resultHEX60gensym12416170_12440011.length : 0)+0-1)-0] = it_12445007.data;
              iHEX60gensym12416169_12435003 = addInt(iHEX60gensym12416169_12435003, 1);
              i_12610403 = addInt(i_12610403, 1);
              if (!(((instruments_12416102[0] != null ? instruments_12416102[0].length : 0) == l_12610404))) {
              failed_assert_impl_102680(makeNimstrLit("iterators.nim(189, 11) `len(a) == L` the length of the seq changed while iterating over it"));
              }
              
            }
        } while(false);
      } while(false);
    } while(false);
    var data_12445016 = nimCopy(null, resultHEX60gensym12416170_12440011, NTI12145100);
    result_12416166 = nimCopy(null, to_json_12137125(map_12416027[0], data_12445016), NTI112);

  return result_12416166;

}
function quick_save_12445048() {
    window.localStorage.setItem("quickSave", toJSStr(data_json_12416164()), "quickSave", toJSStr(data_json_12416164()));

  
}
function update_map_element_12560022() {
    var map_12560024 = document.getElementById("map");
    var height_12560025 = map_12416027[0].height;
    var width_12560026 = map_12416027[0].width;
    map_12560024.style.height = toJSStr((cstrToNimstr((height_12560025)+"") || []).concat(makeNimstrLit("px") || []));
    map_12560024.style.width = toJSStr((cstrToNimstr((width_12560026)+"") || []).concat(makeNimstrLit("px") || []));
    map_12560024.style.backgroundPosition = toJSStr((cstrToNimstr((HEX2F_325648(height_12560025, 2))+"") || []).concat(makeNimstrLit("px ") || [],cstrToNimstr((HEX2F_325648(width_12560026, 2))+"") || [],makeNimstrLit("px") || []));
    map_12560024.style.display = "block";
    document.getElementById("newMap").classList.remove("down");
    document.getElementById("map").addEventListener("mousedown", remove_selection_12555033, false);
    document.getElementById("placeholder").style.display = "none";
    document.getElementById("mainView").classList.remove("showLater");
    document.getElementById("rightSideMenu").classList.remove("showLater");
    document.getElementById("addInstrumentMenu").classList.remove("showLater");
    clear_12515068();
    update_header_12486054(map_12416027[0]);
    update_info_map_12487080(map_12416027[0]);
    quick_save_12445048();

  
}
function init_map_12560040() {
    var height_12560042 = mulInt(nsuParseInt(cstrToNimstr(document.getElementById("heightNew").value)), 66);
    var width_12560043 = mulInt(nsuParseInt(cstrToNimstr(document.getElementById("widthNew").value)), 66);
    var sequence_12560044 = cstrToNimstr(document.getElementById("sequenceNew").value);
    var city_12560045 = cstrToNimstr(document.getElementById("cityNew").value);
    var team_12560046 = cstrToNimstr(document.getElementById("teamNew").value);
    var music_12560047 = cstrToNimstr(document.getElementById("musicNew").value);
    init_map_12416141(height_12560042, width_12560043, sequence_12560044, city_12560045, team_12560046, music_12560047);
    update_map_element_12560022();

  
}
function get_var_type_11810050(x_11810052) {
  var result_11810053 = 0;

  BeforeRet: do {
    result_11810053 = 0;
    switch (toJSStr(cstrToNimstr(Object.prototype.toString.call(x_11810052)))) {
    case "[object Array]":
      result_11810053 = 6;
      break BeforeRet;
      break;
    case "[object Object]":
      result_11810053 = 5;
      break BeforeRet;
      break;
    case "[object Number]":
      if ((x_11810052 % 1.0000000000000000e+000 == 0.0)) {
      result_11810053 = 2;
      break BeforeRet;
      }
      else {
        result_11810053 = 3;
        break BeforeRet;
      }
      
      break;
    case "[object Boolean]":
      result_11810053 = 1;
      break BeforeRet;
      break;
    case "[object Null]":
      result_11810053 = 0;
      break BeforeRet;
      break;
    case "[object String]":
      result_11810053 = 4;
      break BeforeRet;
      break;
    default: 
      if (true) {
      failed_assert_impl_102680(makeNimstrLit("json.nim(874, 18) `false` "));
      }
      
      break;
    }
  } while (false);

  return result_11810053;

}
function len_11820214(x_11820216) {
  var result_11820217 = 0;

    if (!((get_var_type_11810050(x_11820216) == 6))) {
    failed_assert_impl_102680(makeNimstrLit("json.nim(877, 12) `x.getVarType == JArray` "));
    }
    
          result_11820217 = x_11820216.length;
    

  return result_11820217;

}
function HEX5BHEX5D_11840214(x_11840216, y_11840217) {
  var result_11840218 = ({});

    if (!((get_var_type_11810050(x_11840216) == 6))) {
    failed_assert_impl_102680(makeNimstrLit("json.nim(889, 12) `x.getVarType == JArray` "));
    }
    
          result_11840218 = x_11840216[y_11840217];
    

  return result_11840218;

}
function new_jint_11336168(n_11336170) {
  var result_11336171 = null;

    result_11336171 = {kind: 2, num: n_11336170, str: null, fnum: 0.0, bval: false, fields: ({data: null, counter: 0, first: 0, last: 0}), elems: null};

  return result_11336171;

}
function new_jfloat_11336185(n_11336187) {
  var result_11336188 = null;

    result_11336188 = {kind: 3, fnum: n_11336187, str: null, num: 0, bval: false, fields: ({data: null, counter: 0, first: 0, last: 0}), elems: null};

  return result_11336188;

}
function new_jstring_11336086(s_11336088) {
  var result_11336089 = null;

    result_11336089 = {kind: 4, str: nimCopy(null, s_11336088, NTI112), num: 0, fnum: 0.0, bval: false, fields: ({data: null, counter: 0, first: 0, last: 0}), elems: null};

  return result_11336089;

}
function new_jbool_11336202(b_11336204) {
  var result_11336205 = null;

    result_11336205 = {kind: 1, bval: b_11336204, str: null, num: 0, fnum: 0.0, fields: ({data: null, counter: 0, first: 0, last: 0}), elems: null};

  return result_11336205;

}
function convert_object_11850214(x_11850216) {
  var result_11850217 = null;

    switch (get_var_type_11810050(x_11850216)) {
    case 6:
      result_11850217 = new_jarray_11355657();
      L1: do {
        var i_11850225 = 0;
        var colontmp__12610472 = 0;
        colontmp__12610472 = len_11820214(x_11850216);
        var i_12610473 = 0;
        L2: do {
            L3: while (true) {
            if (!(i_12610473 < colontmp__12610472)) break L3;
              i_11850225 = i_12610473;
              add_11385020(result_11850217, convert_object_11850214(HEX5BHEX5D_11840214(x_11850216, i_11850225)));
              i_12610473 = addInt(i_12610473, 1);
            }
        } while(false);
      } while(false);
      break;
    case 5:
      result_11850217 = new_jobject_11336235();
      for (var property in x_11850216) {
        if (x_11850216.hasOwnProperty(property)) {
      
      var nim_property_11850227 = null;
      var nim_value_11850228 = ({});
      nim_property_11850227 = property; nim_value_11850228 = x_11850216[property];
      HEX5BHEX5DHEX3D_11496214(result_11850217, cstrToNimstr(nim_property_11850227), convert_object_11850214(nim_value_11850228));
      }}
      break;
    case 2:
      result_11850217 = new_jint_11336168(x_11850216);
      break;
    case 3:
      result_11850217 = new_jfloat_11336185(x_11850216);
      break;
    case 4:
      result_11850217 = new_jstring_11336086(cstrToNimstr(x_11850216));
      break;
    case 1:
      result_11850217 = new_jbool_11336202(x_11850216);
      break;
    case 0:
      result_11850217 = new_jnull_11336219();
      break;
    }

  return result_11850217;

}
function parse_json_11850257(buffer_11850259) {
  var result_11850260 = null;

  BeforeRet: do {
    result_11850260 = convert_object_11850214(JSON.parse(toJSStr(buffer_11850259)));
    break BeforeRet;
  } while (false);

  return result_11850260;

}
function get_int_11360020(n_11360022, default_11360023) {
      var Tmp1;
      var Tmp2;

  var result_11360024 = 0;

  BeforeRet: do {
      if ((n_11360022 == null)) Tmp1 = true; else {        Tmp1 = !((n_11360022.kind == 2));      }    if (Tmp1) {
    result_11360024 = default_11360023;
    break BeforeRet;
    }
    else {
      var Tmp2 = n_11360022;
      if (ConstSet22[Tmp2.kind]===undefined) { raiseFieldError(makeNimstrLit("\'num\' is not accessible using discriminant \'kind\' of type \'JsonNodeObj\'")); }
      result_11360024 = chckRange(Tmp2.num, -2147483648, 2147483647);
      break BeforeRet;
    }
    
  } while (false);

  return result_11360024;

}
function raw_get_11530157(t_11530161, key_11530162, hc_11530163, hc_11530163_Idx) {
            var Tmp3;

  var result_11530164 = 0;

  BeforeRet: do {
    hc_11530163[hc_11530163_Idx] = hash_9940214(key_11530162);
    if ((hc_11530163[hc_11530163_Idx] == 0)) {
    hc_11530163[hc_11530163_Idx] = 314159265;
    }
    
    if (((t_11530161.data != null ? t_11530161.data.length : 0) == 0)) {
    result_11530164 = -1;
    break BeforeRet;
    }
    
    var h_11540138 = (hc_11530163[hc_11530163_Idx] & (t_11530161.data != null ? (t_11530161.data.length-1) : -1));
    L1: do {
        L2: while (true) {
        if (!is_filled_9962018(t_11530161.data[chckIndx(h_11540138, 0, (t_11530161.data != null ? t_11530161.data.length : 0)+0-1)-0].Field0)) break L2;
            if (!(t_11530161.data[chckIndx(h_11540138, 0, (t_11530161.data != null ? t_11530161.data.length : 0)+0-1)-0].Field0 == hc_11530163[hc_11530163_Idx])) Tmp3 = false; else {              Tmp3 = eqStrings(t_11530161.data[chckIndx(h_11540138, 0, (t_11530161.data != null ? t_11530161.data.length : 0)+0-1)-0].Field2, key_11530162);            }          if (Tmp3) {
          result_11530164 = h_11540138;
          break BeforeRet;
          }
          
          h_11540138 = next_try_9965014(h_11540138, (t_11530161.data != null ? (t_11530161.data.length-1) : -1));
        }
    } while(false);
    result_11530164 = subInt(-1, h_11540138);
  } while (false);

  return result_11530164;

}
function HEX5BHEX5D_11530146(t_11530152, key_11530153) {
  var result_11530155 = null;
  var result_11530155_Idx = 0;

    var hcHEX60gensym9980595_11530156 = [0];
    var indexHEX60gensym9980596_11540605 = raw_get_11530157(t_11530152, key_11530153, hcHEX60gensym9980595_11530156, 0);
    if ((0 <= indexHEX60gensym9980596_11540605)) {
    result_11530155 = t_11530152.data[chckIndx(indexHEX60gensym9980596_11540605, 0, (t_11530152.data != null ? t_11530152.data.length : 0)+0-1)-0]; result_11530155_Idx = "Field3";
    }
    else {
      raiseException({message: (makeNimstrLit("key not found: ") || []).concat(key_11530153 || []), parent: null, m_type: NTI6245, name: null, trace: null, up: null}, "KeyError");
    }
    

  return [result_11530155, result_11530155_Idx];

}
function HEX5BHEX5D_11545497(node_11545499, name_11545500) {
    var Tmp1;
    var Tmp2;

  var result_11545501 = null;

    if (!(!((node_11545499 == null)))) {
    failed_assert_impl_102680(makeNimstrLit("json.nim(464, 9) `not isNil(node)` "));
    }
    
    if (!((node_11545499.kind == 5))) {
    failed_assert_impl_102680(makeNimstrLit("json.nim(465, 9) `node.kind == JObject` "));
    }
    
    var Tmp1 = node_11545499;
    if (ConstSet23[Tmp1.kind]===undefined) { raiseFieldError(makeNimstrLit("\'fields\' is not accessible using discriminant \'kind\' of type \'JsonNodeObj\'")); }
    result_11545501 = (Tmp2 = HEX5BHEX5D_11530146(Tmp1.fields, name_11545500), Tmp2)[0][Tmp2[1]];

  return result_11545501;

}
function get_str_11355703(n_11355705, default_11355706) {
      var Tmp1;
      var Tmp2;

  var result_11355707 = null;

  BeforeRet: do {
      if ((n_11355705 == null)) Tmp1 = true; else {        Tmp1 = !((n_11355705.kind == 4));      }    if (Tmp1) {
    result_11355707 = nimCopy(null, default_11355706, NTI112);
    break BeforeRet;
    }
    else {
      var Tmp2 = n_11355705;
      if (ConstSet24[Tmp2.kind]===undefined) { raiseFieldError(makeNimstrLit("\'str\' is not accessible using discriminant \'kind\' of type \'JsonNodeObj\'")); }
      result_11355707 = nimCopy(null, Tmp2.str, NTI112);
      break BeforeRet;
    }
    
  } while (false);

  return result_11355707;

}
function nsuToLowerAsciiChar(c_8730023) {
  var result_8730024 = 0;

    if ((ConstSet26[c_8730023] != undefined)) {
    result_8730024 = chckRange(addInt(c_8730023, 32), 0, 255);
    }
    else {
      result_8730024 = c_8730023;
    }
    

  return result_8730024;

}
function nsuCmpIgnoreStyle(a_8790022, b_8790023) {
          var Tmp7;
          var Tmp8;

  var result_8790024 = 0;

  BeforeRet: do {
    var i_8790026 = 0;
    var j_8790028 = 0;
    L1: do {
        L2: while (true) {
        if (!true) break L2;
          L3: do {
              L4: while (true) {
              if (!((i_8790026 < (a_8790022 != null ? a_8790022.length : 0)) && (a_8790022[i_8790026] == 95))) break L4;
                i_8790026 += 1;
              }
          } while(false);
          L5: do {
              L6: while (true) {
              if (!((j_8790028 < (b_8790023 != null ? b_8790023.length : 0)) && (b_8790023[j_8790028] == 95))) break L6;
                j_8790028 += 1;
              }
          } while(false);
          if ((i_8790026 < (a_8790022 != null ? a_8790022.length : 0))) {
          Tmp7 = nsuToLowerAsciiChar(a_8790022[i_8790026]);
          }
          else {
          Tmp7 = 0;
          }
          
          var aa_8790041 = Tmp7;
          if ((j_8790028 < (b_8790023 != null ? b_8790023.length : 0))) {
          Tmp8 = nsuToLowerAsciiChar(b_8790023[j_8790028]);
          }
          else {
          Tmp8 = 0;
          }
          
          var bb_8790042 = Tmp8;
          result_8790024 = (aa_8790041 - bb_8790042);
          if (!((result_8790024 == 0))) {
          break BeforeRet;
          }
          
          if (((a_8790022 != null ? a_8790022.length : 0) <= i_8790026)) {
          if (((b_8790023 != null ? b_8790023.length : 0) <= j_8790028)) {
          result_8790024 = 0;
          break BeforeRet;
          }
          
          result_8790024 = -1;
          break BeforeRet;
          }
          else {
          if (((b_8790023 != null ? b_8790023.length : 0) <= j_8790028)) {
          result_8790024 = 1;
          break BeforeRet;
          }
          }
          i_8790026 += 1;
          j_8790028 += 1;
        }
    } while(false);
  } while (false);

  return result_8790024;

}
function parse_enum_12140357(s_12140360) {
  var result_12140361 = 0;

  BeforeRet: do {
    L1: do {
      var e_12140436 = 0;
      var res_12610493 = 0;
      L2: do {
          L3: while (true) {
          if (!(res_12610493 <= 3)) break L3;
            e_12140436 = chckRange(res_12610493, 0, 3);
            if ((nsuCmpIgnoreStyle(s_12140360, reprEnum(e_12140436, NTI12137095)) == 0)) {
            result_12140361 = e_12140436;
            break BeforeRet;
            }
            
            res_12610493 = addInt(res_12610493, 1);
          }
      } while(false);
    } while(false);
    raiseException({message: (makeNimstrLit("invalid enum value: ") || []).concat(s_12140360 || []), parent: null, m_type: NTI6243, name: null, trace: null, up: null}, "ValueError");
  } while (false);

  return result_12140361;

}
function instrument_from_json_12140339(json_12140341) {
  var result_12140342 = null;

    var json_obj_12140343 = parse_json_11850257(json_12140341);
    var x_12140345 = get_int_11360020(HEX5BHEX5D_11545497(json_obj_12140343, makeNimstrLit("x")), 0);
    var y_12140347 = get_int_11360020(HEX5BHEX5D_11545497(json_obj_12140343, makeNimstrLit("y")), 0);
    var height_12140349 = get_int_11360020(HEX5BHEX5D_11545497(json_obj_12140343, makeNimstrLit("height")), 0);
    var width_12140351 = get_int_11360020(HEX5BHEX5D_11545497(json_obj_12140343, makeNimstrLit("width")), 0);
    var angle_12140353 = get_int_11360020(HEX5BHEX5D_11545497(json_obj_12140343, makeNimstrLit("angle")), 0);
    var instrument_type_12145058 = parse_enum_12140357(get_str_11355703(HEX5BHEX5D_11545497(json_obj_12140343, makeNimstrLit("instrumentType")), []));
    result_12140342 = {x: x_12140345, y: y_12140347, height: height_12140349, width: width_12140351, angle: angle_12140353, instrumentType: instrument_type_12145058, m_type: NTI12137099};

  return result_12140342;

}
function from_json_12145087(json_12145089) {
        var Tmp3;

  var result_12145090 = ({m_type: NTI12137105, instruments: null, map: null});

    var json_obj_12145091 = parse_json_11850257(json_12145089);
    var map_12145092 = {m_type: NTI12137103, sequence: null, city: null, team: null, music: null, height: 0, width: 0};
    var instruments_12145130 = new_seq_12145096(0);
    map_12145092.height = get_int_11360020(HEX5BHEX5D_11545497(HEX5BHEX5D_11545497(json_obj_12145091, makeNimstrLit("map")), makeNimstrLit("height")), 0);
    map_12145092.width = get_int_11360020(HEX5BHEX5D_11545497(HEX5BHEX5D_11545497(json_obj_12145091, makeNimstrLit("map")), makeNimstrLit("width")), 0);
    map_12145092.sequence = nimCopy(null, get_str_11355703(HEX5BHEX5D_11545497(HEX5BHEX5D_11545497(json_obj_12145091, makeNimstrLit("map")), makeNimstrLit("sequence")), []), NTI112);
    map_12145092.team = nimCopy(null, get_str_11355703(HEX5BHEX5D_11545497(HEX5BHEX5D_11545497(json_obj_12145091, makeNimstrLit("map")), makeNimstrLit("team")), []), NTI112);
    map_12145092.city = nimCopy(null, get_str_11355703(HEX5BHEX5D_11545497(HEX5BHEX5D_11545497(json_obj_12145091, makeNimstrLit("map")), makeNimstrLit("city")), []), NTI112);
    map_12145092.music = nimCopy(null, get_str_11355703(HEX5BHEX5D_11545497(HEX5BHEX5D_11545497(json_obj_12145091, makeNimstrLit("map")), makeNimstrLit("music")), []), NTI112);
    L1: do {
      var instrument_json_12145137 = null;
      var colontmp__12610458 = null;
      colontmp__12610458 = HEX5BHEX5D_11545497(json_obj_12145091, makeNimstrLit("instruments"));
      if (!((colontmp__12610458.kind == 6))) {
      failed_assert_impl_102680((makeNimstrLit("json.nim(744, 10) `node.kind == JArray` : items() can not iterate a JsonNode of kind ") || []).concat(reprEnum(colontmp__12610458.kind, NTI11336041) || []));
      }
      
      L2: do {
        var i_12610465 = null;
        var colontmp__12610466 = null;
        var Tmp3 = colontmp__12610458;
        if (ConstSet25[Tmp3.kind]===undefined) { raiseFieldError(makeNimstrLit("\'elems\' is not accessible using discriminant \'kind\' of type \'JsonNodeObj\'")); }
        colontmp__12610466 = Tmp3.elems;
        var i_12610467 = 0;
        var l_12610468 = (colontmp__12610466 != null ? colontmp__12610466.length : 0);
        L4: do {
            L5: while (true) {
            if (!(i_12610467 < l_12610468)) break L5;
              i_12610465 = colontmp__12610466[chckIndx(i_12610467, 0, (colontmp__12610466 != null ? colontmp__12610466.length : 0)+0-1)-0];
              instrument_json_12145137 = i_12610465;
              if (instruments_12145130 != null) { instruments_12145130.push(instrument_from_json_12140339(HEX24_11700416(instrument_json_12145137))); } else { instruments_12145130 = [instrument_from_json_12140339(HEX24_11700416(instrument_json_12145137))]; };
              i_12610467 = addInt(i_12610467, 1);
              if (!(((colontmp__12610466 != null ? colontmp__12610466.length : 0) == l_12610468))) {
              failed_assert_impl_102680(makeNimstrLit("iterators.nim(189, 11) `len(a) == L` the length of the seq changed while iterating over it"));
              }
              
            }
        } while(false);
      } while(false);
    } while(false);
    nimCopy(result_12145090, {instruments: nimCopy(null, instruments_12145130, NTI12145100), map: map_12145092, m_type: NTI12137105}, NTI12137105);

  return result_12145090;

}
function load_json_12445030(json_12445032) {
  var result_12445033 = ({m_type: NTI12137105, instruments: null, map: null});

    var data_12445034 = from_json_12145087(json_12445032);
    nimCopy(result_12445033, data_12445034, NTI12137105);

  return result_12445033;

}
function update_instrument_12445063(element_12445065, instrument_12445066) {
    element_12445065.e.style.height = toJSStr((cstrToNimstr((instrument_12445066.height)+"") || []).concat(makeNimstrLit("px") || []));
    element_12445065.e.style.width = toJSStr((cstrToNimstr((instrument_12445066.width)+"") || []).concat(makeNimstrLit("px") || []));
    element_12445065.e.style.left = toJSStr((cstrToNimstr((addInt(((HEX2F_325648(subInt(map_12416027[0].width, instrument_12445066.width), 2))|0), instrument_12445066.x))+"") || []).concat(makeNimstrLit("px") || []));
    element_12445065.e.style.top = toJSStr((cstrToNimstr((addInt(((HEX2F_325648(subInt(map_12416027[0].height, instrument_12445066.height), 2))|0), instrument_12445066.y))+"") || []).concat(makeNimstrLit("px") || []));
    element_12445065.e.style.transform = toJSStr((makeNimstrLit("rotate(") || []).concat(cstrToNimstr((instrument_12445066.angle)+"") || [],makeNimstrLit("deg)") || []));
    quick_save_12445048();

  
}
function make_dragable_11976028(e_11976030, on_move_11976034) {
    function onmousedown_11976035(event_11976037) {
        function onmousemove_11976041(event_11976043) {
            var new_left_11976044 = nimMin(nimMax(subInt(event_11976043.clientX, shift_x_11976039), 0), subInt(parent_11976038.clientWidth, e_11976030.clientWidth));
            var new_top_11976045 = nimMin(nimMax(subInt(event_11976043.clientY, shift_y_11976040), 0), subInt(parent_11976038.clientHeight, e_11976030.clientHeight));
            e_11976030.style.left = toJSStr((cstrToNimstr((new_left_11976044)+"") || []).concat(makeNimstrLit("px") || []));
            e_11976030.style.top = toJSStr((cstrToNimstr((new_top_11976045)+"") || []).concat(makeNimstrLit("px") || []));
            on_move_11976034(e_11976030);

          
        }
        function onmouseup_11976089(event_11976091) {
            document.removeEventListener("mousemove", onmousemove_11976041);
            document.removeEventListener("mouseup", onmouseup_11976089);

          
        }

        event_11976037.preventDefault();
        var parent_11976038 = e_11976030.parentNode;
        var shift_x_11976039 = subInt(event_11976037.clientX, e_11976030.offsetLeft);
        var shift_y_11976040 = subInt(event_11976037.clientY, e_11976030.offsetTop);
        document.addEventListener("mousemove", onmousemove_11976041, false);
        document.addEventListener("mouseup", onmouseup_11976089, false);

      
    }

    e_11976030.addEventListener("mousedown", onmousedown_11976035, false);

  
}
function nsuFindChar(s_9380216, sub_9380217, start_9380218, last_9380219) {
    var Tmp1;

  var result_9380221 = 0;

  BeforeRet: do {
    if ((last_9380219 == 0)) {
    Tmp1 = (s_9380216 != null ? (s_9380216.length-1) : -1);
    }
    else {
    Tmp1 = last_9380219;
    }
    
    var last_9380223 = Tmp1;
    L2: do {
      var i_9380606 = 0;
      var colontmp__12610523 = 0;
      colontmp__12610523 = start_9380218;
      var res_12610524 = colontmp__12610523;
      L3: do {
          L4: while (true) {
          if (!(res_12610524 <= last_9380223)) break L4;
            i_9380606 = res_12610524;
            if ((sub_9380217 == s_9380216[chckIndx(i_9380606, 0, (s_9380216 != null ? s_9380216.length : 0)+0-1)-0])) {
            result_9380221 = i_9380606;
            break BeforeRet;
            }
            
            res_12610524 = addInt(res_12610524, 1);
          }
      } while(false);
    } while(false);
    result_9380221 = -1;
    break BeforeRet;
  } while (false);

  return result_9380221;

}
function substr_341022(s_341024, first_341025, last_341026) {
  var result_341027 = null;

    var first_341028 = nimMax(first_341025, 0);
    var l_341030 = nimMax(addInt(subInt(nimMin(last_341026, (s_341024 != null ? (s_341024.length-1) : -1)), first_341028), 1), 0);
    result_341027 = nimCopy(null, mnewString(chckRange(l_341030, 0, 2147483647)), NTI112);
    L1: do {
      var i_341039 = 0;
      var colontmp__9727693 = 0;
      colontmp__9727693 = subInt(l_341030, 1);
      var res_9727694 = 0;
      L2: do {
          L3: while (true) {
          if (!(res_9727694 <= colontmp__9727693)) break L3;
            i_341039 = res_9727694;
            result_341027[chckIndx(i_341039, 0, (result_341027 != null ? result_341027.length : 0)+0-1)-0] = s_341024[chckIndx(addInt(i_341039, first_341028), 0, (s_341024 != null ? s_341024.length : 0)+0-1)-0];
            res_9727694 = addInt(res_9727694, 1);
          }
      } while(false);
    } while(false);

  return result_341027;

}
function substr_341053(s_341055, first_341056) {
  var result_341058 = null;

    result_341058 = nimCopy(null, substr_341022(s_341055, first_341056, (s_341055 != null ? (s_341055.length-1) : -1)), NTI112);

  return result_341058;

}
function nsuInitSkipTable(a_9375081, sub_9375082) {
    var m_9375083 = (sub_9375082 != null ? sub_9375082.length : 0);
    var i_9375085 = 0;
    L1: do {
        L2: while (true) {
        if (!(i_9375085 <= 248)) break L2;
          a_9375081[chckIndx(chckRange(addInt(i_9375085, 0), 0, 255), 0, (a_9375081 != null ? a_9375081.length : 0)+0-1)-0] = m_9375083;
          a_9375081[chckIndx(chckRange(addInt(i_9375085, 1), 0, 255), 0, (a_9375081 != null ? a_9375081.length : 0)+0-1)-0] = m_9375083;
          a_9375081[chckIndx(chckRange(addInt(i_9375085, 2), 0, 255), 0, (a_9375081 != null ? a_9375081.length : 0)+0-1)-0] = m_9375083;
          a_9375081[chckIndx(chckRange(addInt(i_9375085, 3), 0, 255), 0, (a_9375081 != null ? a_9375081.length : 0)+0-1)-0] = m_9375083;
          a_9375081[chckIndx(chckRange(addInt(i_9375085, 4), 0, 255), 0, (a_9375081 != null ? a_9375081.length : 0)+0-1)-0] = m_9375083;
          a_9375081[chckIndx(chckRange(addInt(i_9375085, 5), 0, 255), 0, (a_9375081 != null ? a_9375081.length : 0)+0-1)-0] = m_9375083;
          a_9375081[chckIndx(chckRange(addInt(i_9375085, 6), 0, 255), 0, (a_9375081 != null ? a_9375081.length : 0)+0-1)-0] = m_9375083;
          a_9375081[chckIndx(chckRange(addInt(i_9375085, 7), 0, 255), 0, (a_9375081 != null ? a_9375081.length : 0)+0-1)-0] = m_9375083;
          i_9375085 = addInt(i_9375085, 8);
        }
    } while(false);
    L3: do {
      var i_9375101 = 0;
      var colontmp__12610531 = 0;
      colontmp__12610531 = subInt(m_9375083, 1);
      var i_12610532 = 0;
      L4: do {
          L5: while (true) {
          if (!(i_12610532 < colontmp__12610531)) break L5;
            i_9375101 = i_12610532;
            a_9375081[chckIndx(sub_9375082[chckIndx(i_9375101, 0, (sub_9375082 != null ? sub_9375082.length : 0)+0-1)-0], 0, (a_9375081 != null ? a_9375081.length : 0)+0-1)-0] = subInt(subInt(m_9375083, 1), i_9375101);
            i_12610532 = addInt(i_12610532, 1);
          }
      } while(false);
    } while(false);

  
}
function nsuFindStrA(a_9375117, s_9375118, sub_9375119, start_9375120, last_9375121) {
    var Tmp1;

  var result_9375123 = 0;

  BeforeRet: do {
    if ((last_9375121 == 0)) {
    Tmp1 = (s_9375118 != null ? (s_9375118.length-1) : -1);
    }
    else {
    Tmp1 = last_9375121;
    }
    
    var last_9375125 = Tmp1;
    var sub_last_9375126 = subInt((sub_9375119 != null ? sub_9375119.length : 0), 1);
    if ((sub_last_9375126 == -1)) {
    result_9375123 = start_9375120;
    break BeforeRet;
    }
    
    var skip_9375127 = start_9375120;
    L2: do {
        L3: while (true) {
        if (!(sub_last_9375126 <= subInt(last_9375125, skip_9375127))) break L3;
          var i_9380001 = sub_last_9375126;
          L4: do {
              L5: while (true) {
              if (!(s_9375118[chckIndx(addInt(skip_9375127, i_9380001), 0, (s_9375118 != null ? s_9375118.length : 0)+0-1)-0] == sub_9375119[chckIndx(i_9380001, 0, (sub_9375119 != null ? sub_9375119.length : 0)+0-1)-0])) break L5;
                if ((i_9380001 == 0)) {
                result_9375123 = skip_9375127;
                break BeforeRet;
                }
                
                i_9380001 = subInt(i_9380001, 1);
              }
          } while(false);
          skip_9375127 = addInt(skip_9375127, a_9375117[chckIndx(s_9375118[chckIndx(addInt(skip_9375127, sub_last_9375126), 0, (s_9375118 != null ? s_9375118.length : 0)+0-1)-0], 0, (a_9375117 != null ? a_9375117.length : 0)+0-1)-0]);
        }
    } while(false);
    result_9375123 = -1;
    break BeforeRet;
  } while (false);

  return result_9375123;

}
function nsuReplaceStr(s_9450016, sub_9450017, by_9450018) {
  var result_9450019 = null;

    result_9450019 = nimCopy(null, [], NTI112);
    var sub_len_9450020 = (sub_9450017 != null ? sub_9450017.length : 0);
    if ((sub_len_9450020 == 0)) {
    result_9450019 = nimCopy(null, s_9450016, NTI112);
    }
    else {
    if ((sub_len_9450020 == 1)) {
    var c_9450021 = sub_9450017[chckIndx(0, 0, (sub_9450017 != null ? sub_9450017.length : 0)+0-1)-0];
    var last_9450023 = (s_9450016 != null ? (s_9450016.length-1) : -1);
    var i_9450025 = 0;
    L1: do {
        L2: while (true) {
        if (!true) break L2;
          var j_9450026 = nsuFindChar(s_9450016, c_9450021, chckRange(i_9450025, 0, 2147483647), last_9450023);
          if ((j_9450026 < 0)) {
          break L1;
          }
          
          if (result_9450019 != null) { result_9450019 = (result_9450019).concat(substr_341022(s_9450016, i_9450025, subInt(j_9450026, 1))); } else { result_9450019 = substr_341022(s_9450016, i_9450025, subInt(j_9450026, 1)).slice(); };
          if (result_9450019 != null) { result_9450019 = (result_9450019).concat(by_9450018); } else { result_9450019 = by_9450018.slice(); };
          i_9450025 = addInt(j_9450026, sub_len_9450020);
        }
    } while(false);
    if (result_9450019 != null) { result_9450019 = (result_9450019).concat(substr_341053(s_9450016, i_9450025)); } else { result_9450019 = substr_341053(s_9450016, i_9450025).slice(); };
    }
    else {
      var a_9450027 = [new Int32Array(256)];
      nsuInitSkipTable(a_9450027[0], sub_9450017);
      var last_9450030 = (s_9450016 != null ? (s_9450016.length-1) : -1);
      var i_9450032 = 0;
      L3: do {
          L4: while (true) {
          if (!true) break L4;
            var j_9450033 = nsuFindStrA(a_9450027[0], s_9450016, sub_9450017, chckRange(i_9450032, 0, 2147483647), last_9450030);
            if ((j_9450033 < 0)) {
            break L3;
            }
            
            if (result_9450019 != null) { result_9450019 = (result_9450019).concat(substr_341022(s_9450016, i_9450032, subInt(j_9450033, 1))); } else { result_9450019 = substr_341022(s_9450016, i_9450032, subInt(j_9450033, 1)).slice(); };
            if (result_9450019 != null) { result_9450019 = (result_9450019).concat(by_9450018); } else { result_9450019 = by_9450018.slice(); };
            i_9450032 = addInt(j_9450033, sub_len_9450020);
          }
      } while(false);
      if (result_9450019 != null) { result_9450019 = (result_9450019).concat(substr_341053(s_9450016, i_9450032)); } else { result_9450019 = substr_341053(s_9450016, i_9450032).slice(); };
    }
    }

  return result_9450019;

}
function add_instrument_12491014(instrument_12491016) {
    var Tmp1;
    function HEX3Aanonymous_12491028(ev_12491030) {
        if (!((selected_12416103[0] == null))) {
        selected_12416103[0].e.classList.remove("selected");
        }
        
        selected_12416103[0] = instrument_element_12491020;
        selected_12416103[0].e.classList.add("selected");
        update_info_instrument_12476093(selected_12416103[0].data);

      
    }
    function HEX3Aanonymous_12495022(e_12495024) {
        var left_12495025 = nsuParseInt(nsuReplaceStr(cstrToNimstr(element_12491018.style.left), makeNimstrLit("px"), []));
        var width_12495026 = nsuParseInt(nsuReplaceStr(cstrToNimstr((element_12491018.offsetWidth)+""), makeNimstrLit("px"), []));
        var top_12495027 = nsuParseInt(nsuReplaceStr(cstrToNimstr(element_12491018.style.top), makeNimstrLit("px"), []));
        var height_12495028 = nsuParseInt(nsuReplaceStr(cstrToNimstr((element_12491018.offsetHeight)+""), makeNimstrLit("px"), []));
        instrument_12491016.x = subInt(left_12495025, ((HEX2F_325648(subInt(map_12416027[0].width, width_12495026), 2))|0));
        instrument_12491016.y = subInt(top_12495027, ((HEX2F_325648(subInt(map_12416027[0].height, height_12495028), 2))|0));
        update_info_instrument_12476093(selected_12416103[0].data);
        quick_save_12445048();

      
    }

    var map_12491017 = document.getElementById("map");
    var element_12491018 = document.createElement("div");
    switch (instrument_12491016.instrumentType) {
    case 0:
      Tmp1 = makeNimstrLit("<svg width=\"100%\" height=\"100%\">\x0A  <ellipse stroke=\"black\" stroke-width=\"1\" fill=\"#c0c0c0\" cx=\"50%\" rx=\"50%\" ry=\"10%\" cy=\"90%\"></ellipse>\x0A  <rect x=\"0\" stroke=\"black\" stroke-width=\"1\" fill=\"#c0c0c0\" width=\"100%\" height=\"80%\" y=\"10%\"></rect>\x0A  <ellipse stroke-width=\"0\" fill=\"#c0c0c0\" cx=\"50%\" rx=\"50%\" ry=\"10%\" cy=\"90%\"></ellipse>\x0A  <ellipse stroke=\"black\" stroke-width=\"1\" fill=\"#c0c0c0\" cx=\"50%\" rx=\"50%\" ry=\"10%\" cy=\"10%\"></ellipse> \x0ASorry, your browser does not support inline SVG.\x0A</svg>");
      break;
    case 2:
      Tmp1 = makeNimstrLit("<svg width=\"100%\" height=\"100%\">\x0A  <ellipse stroke=\"black\" stroke-width=\"1\" fill=\"#c0c0c0\" cx=\"50%\" rx=\"50%\" ry=\"10%\" cy=\"90%\"></ellipse>\x0A  <rect x=\"0\" stroke=\"black\" stroke-width=\"1\" fill=\"#c0c0c0\" width=\"100%\" height=\"80%\" y=\"10%\"></rect>\x0A  <ellipse stroke-width=\"0\" fill=\"#c0c0c0\" cx=\"50%\" rx=\"50%\" ry=\"10%\" cy=\"90%\"></ellipse>\x0A  <ellipse stroke=\"black\" stroke-width=\"1\" fill=\"#c0c0c0\" cx=\"50%\" rx=\"50%\" ry=\"10%\" cy=\"10%\"></ellipse> \x0ASorry, your browser does not support inline SVG.\x0A</svg>");
      break;
    case 1:
      Tmp1 = makeNimstrLit("<svg width=\"100%\" height=\"100%\">\x0A  <ellipse stroke=\"black\" stroke-width=\"1\" fill=\"#c0c0c0\" cx=\"50%\" rx=\"43%\" ry=\"10%\" cy=\"90%\"></ellipse>\x0A  <ellipse stroke=\"black\" stroke-width=\"1\" fill=\"#c0c0c0\" cx=\"7%\" rx=\"7%\" ry=\"40%\" cy=\"50%\"></ellipse>\x0A    <ellipse stroke=\"black\" stroke-width=\"1\" fill=\"#c0c0c0\" cx=\"93%\" rx=\"7%\" ry=\"40%\" cy=\"50%\"></ellipse>\x0A  <ellipse stroke=\"black\" stroke-width=\"1\" fill=\"#c0c0c0\" cx=\"50%\" rx=\"43%\" ry=\"10%\" cy=\"90%\"></ellipse>\x0A  <rect x=\"7%\" stroke=\"black\" stroke-width=\"0\" fill=\"#c0c0c0\" width=\"84%\" height=\"80%\" y=\"10%\"></rect>\x0A  <ellipse stroke-width=\"0\" fill=\"#c0c0c0\" cx=\"50%\" rx=\"43%\" ry=\"10%\" cy=\"90%\"></ellipse>\x0A  <ellipse stroke=\"black\" stroke-width=\"1\" fill=\"#c0c0c0\" cx=\"50%\" rx=\"43%\" ry=\"10%\" cy=\"10%\"></ellipse> \x0ASorry, your browser does not support inline SVG.\x0A</svg>");
      break;
    case 3:
      Tmp1 = makeNimstrLit("<svg width=\"100%\" height=\"100%\">\x0A  <ellipse stroke=\"black\" stroke-width=\"1\" fill=\"#c0c0c0\" cx=\"50%\" rx=\"43%\" ry=\"10%\" cy=\"90%\"></ellipse>\x0A  <ellipse stroke=\"black\" stroke-width=\"1\" fill=\"#c0c0c0\" cx=\"7%\" rx=\"7%\" ry=\"40%\" cy=\"50%\"></ellipse>\x0A    <ellipse stroke=\"black\" stroke-width=\"1\" fill=\"#c0c0c0\" cx=\"93%\" rx=\"7%\" ry=\"40%\" cy=\"50%\"></ellipse>\x0A  <ellipse stroke=\"black\" stroke-width=\"1\" fill=\"#c0c0c0\" cx=\"50%\" rx=\"43%\" ry=\"10%\" cy=\"90%\"></ellipse>\x0A  <rect x=\"7%\" stroke=\"black\" stroke-width=\"0\" fill=\"#c0c0c0\" width=\"84%\" height=\"80%\" y=\"10%\"></rect>\x0A  <ellipse stroke-width=\"0\" fill=\"#c0c0c0\" cx=\"50%\" rx=\"43%\" ry=\"10%\" cy=\"90%\"></ellipse>\x0A  <ellipse stroke=\"black\" stroke-width=\"1\" fill=\"#c0c0c0\" cx=\"50%\" rx=\"43%\" ry=\"10%\" cy=\"10%\"></ellipse> \x0ASorry, your browser does not support inline SVG.\x0A</svg>");
      break;
    }
    var svg_12491019 = nimCopy(null, Tmp1, NTI112);
    element_12491018.innerHTML = toJSStr(svg_12491019);
    element_12491018.style.position = "absolute";
    map_12491017.appendChild(element_12491018);
    var instrument_element_12491020 = {e: element_12491018, data: instrument_12491016, m_type: NTI12416030};
    update_instrument_12445063(instrument_element_12491020, instrument_12491016);
    if (instruments_12416102[0] != null) { instruments_12416102[0].push(instrument_element_12491020); } else { instruments_12416102[0] = [instrument_element_12491020]; };
    element_12491018.addEventListener("mousedown", HEX3Aanonymous_12491028, false);
    make_dragable_11976028(element_12491018, HEX3Aanonymous_12495022);
    quick_save_12445048();
    L2: do {
      var iHEX60gensym12495044_12505003 = 0;
      var resultHEX60gensym12495045_12510011 = new_seq_12145096(chckRange((instruments_12416102[0] != null ? instruments_12416102[0].length : 0), 0, 2147483647));
      L3: do {
        var it_12515007 = null;
        var i_12610506 = 0;
        var l_12610507 = (instruments_12416102[0] != null ? instruments_12416102[0].length : 0);
        L4: do {
            L5: while (true) {
            if (!(i_12610506 < l_12610507)) break L5;
              it_12515007 = instruments_12416102[0][chckIndx(i_12610506, 0, (instruments_12416102[0] != null ? instruments_12416102[0].length : 0)+0-1)-0];
              resultHEX60gensym12495045_12510011[chckIndx(iHEX60gensym12495044_12505003, 0, (resultHEX60gensym12495045_12510011 != null ? resultHEX60gensym12495045_12510011.length : 0)+0-1)-0] = it_12515007.data;
              iHEX60gensym12495044_12505003 = addInt(iHEX60gensym12495044_12505003, 1);
              i_12610506 = addInt(i_12610506, 1);
              if (!(((instruments_12416102[0] != null ? instruments_12416102[0].length : 0) == l_12610507))) {
              failed_assert_impl_102680(makeNimstrLit("iterators.nim(189, 11) `len(a) == L` the length of the seq changed while iterating over it"));
              }
              
            }
        } while(false);
      } while(false);
    } while(false);
    update_list_12261040(resultHEX60gensym12495045_12510011);

  
}
function load_map_from_json_12560061(json_12560063) {
    var data_12560064 = load_json_12445030(json_12560063);
    map_12416027[0] = data_12560064.map;
    update_map_element_12560022();
    L1: do {
      var instrument_12560071 = null;
      var i_12610453 = 0;
      var l_12610454 = (data_12560064.instruments != null ? data_12560064.instruments.length : 0);
      L2: do {
          L3: while (true) {
          if (!(i_12610453 < l_12610454)) break L3;
            instrument_12560071 = data_12560064.instruments[chckIndx(i_12610453, 0, (data_12560064.instruments != null ? data_12560064.instruments.length : 0)+0-1)-0];
            add_instrument_12491014(instrument_12560071);
            i_12610453 = addInt(i_12610453, 1);
            if (!(((data_12560064.instruments != null ? data_12560064.instruments.length : 0) == l_12610454))) {
            failed_assert_impl_102680(makeNimstrLit("iterators.nim(189, 11) `len(a) == L` the length of the seq changed while iterating over it"));
            }
            
          }
      } while(false);
    } while(false);

  
}
function load_map_12560085() {
    var Tmp1;
    function HEX3Aanonymous_12560089(e_12560091) {
        load_map_from_json_12560061(cstrToNimstr(reader_12560087.result));

      
    }

    var reader_12560087 = new FileReader();
    var file_12560088 = (Tmp1 = document.getElementById("load").files, Tmp1)[chckIndx(0, 0, (Tmp1 != null ? Tmp1.length : 0)+0-1)-0];
    reader_12560087.onload = HEX3Aanonymous_12560089;
    reader_12560087.readAsText(file_12560088);

  
}
function save_map_12560179() {
    var link_12560181 = document.createElement("a");
    link_12560181.setAttribute("download", "mapa.taiko");
    link_12560181.setAttribute("href", toJSStr((makeNimstrLit("data:text/json;charset=utf-8,") || []).concat(data_json_12416164() || [])));
    link_12560181.click();

  
}
function select_instrument_type_12567062(ev_12567064, n_12567065) {
    L1: do {
      var item_12575214 = null;
      var colontmp__12610537 = null;
      colontmp__12610537 = document.getElementById("instrumentType").children;
      var i_12610539 = 0;
      var l_12610540 = (colontmp__12610537 != null ? colontmp__12610537.length : 0);
      L2: do {
          L3: while (true) {
          if (!(i_12610539 < l_12610540)) break L3;
            item_12575214 = colontmp__12610537[chckIndx(i_12610539, 0, (colontmp__12610537 != null ? colontmp__12610537.length : 0)+0-1)-0];
            item_12575214.classList.remove("selected");
            if ((item_12575214.innerHTML == toJSStr(cstrToNimstr(ev_12567064.target.innerHTML)))) {
            item_12575214.classList.add("selected");
            }
            
            i_12610539 = addInt(i_12610539, 1);
            if (!(((colontmp__12610537 != null ? colontmp__12610537.length : 0) == l_12610540))) {
            failed_assert_impl_102680(makeNimstrLit("iterators.nim(189, 11) `len(a) == L` the length of the seq changed while iterating over it"));
            }
            
          }
      } while(false);
    } while(false);
    selected_type_12567014[0] = parse_enum_12140357(cstrToNimstr(ev_12567064.target.innerHTML));

  
}
function create_instrument_12416118(x_12416120, y_12416121, height_12416122, width_12416123, angle_12416124, instrument_type_12416125) {
  var result_12416126 = null;

    var instrument_12416127 = {x: x_12416120, y: y_12416121, height: height_12416122, width: width_12416123, angle: angle_12416124, instrumentType: instrument_type_12416125, m_type: NTI12137099};
    result_12416126 = instrument_12416127;

  return result_12416126;

}
function add_instrument_12515046(x_12515048, y_12515049, height_12515050, width_12515051, angle_12515052, instrument_type_12515053) {
    var instrument_12515054 = create_instrument_12416118(x_12515048, y_12515049, height_12515050, width_12515051, angle_12515052, instrument_type_12515053);
    add_instrument_12491014(instrument_12515054);

  
}
function add_new_instrument_12567028(ev_12567030, n_12567031) {
    switch (selected_type_12567014[0]) {
    case 0:
      add_instrument_12515046(0, 0, 40, 30, 0, selected_type_12567014[0]);
      break;
    case 2:
      add_instrument_12515046(0, 0, 15, 20, 0, selected_type_12567014[0]);
      break;
    case 1:
      add_instrument_12515046(0, 0, 40, 32, 0, selected_type_12567014[0]);
      break;
    case 3:
      add_instrument_12515046(0, 0, 45, 60, 0, selected_type_12567014[0]);
      break;
    }

  
}
function render_side_menu_12575256() {
    function HEX3Aanonymous_12585001() {
        init_map_12560040();

      
    }
    function HEX3Aanonymous_12590001() {
        load_map_12560085();

      
    }
    function HEX3Aanonymous_12595001() {
        save_map_12560179();

      
    }
    function HEX3Aanonymous_12600001() {
        domtoimage.toBlob(document.getElementById('mainView'))
    .then(function (blob) {
        let link = document.createElement("a")
        let url = URL.createObjectURL(blob)
        link.setAttribute("download", "mapa.png")
        link.setAttribute("href", url)
        link.click()
    });
;

      
    }

  var result_12575258 = null;

    var tmp_12575259 = tree_9825445(43, []);
    tmp_12575259.id = "sideMenu";
    var tmp_12575260 = tree_9825445(43, []);
    tmp_12575260.class = "btn";
    add_event_handler_10745118(tmp_12575260, 0, show_new_map_menu_12567045, kxi_10182284[0]);
    add_9815072(tmp_12575260, text_9825548(makeNimstrLit("Novo mapa")));
    add_9815072(tmp_12575259, tmp_12575260);
    var tmp_12575261 = tree_9825445(43, []);
    tmp_12575261.class = "dropdown";
    tmp_12575261.id = "newMap";
    var tmp_12575262 = tree_9825445(43, []);
    var tmp_12575263 = tree_9825445(104, []);
    set_attr_9765105(tmp_12575263, "for", "heightNew");
    tmp_12575263.class = "floatLabel";
    add_9815072(tmp_12575263, text_9825548(makeNimstrLit("Comprimento")));
    add_9815072(tmp_12575262, tmp_12575263);
    var tmp_12575264 = tree_9825445(105, []);
    set_attr_9765105(tmp_12575264, "type", "number");
    tmp_12575264.id = "heightNew";
    valueHEX3D_9730143(tmp_12575264, "0");
    set_attr_9765105(tmp_12575264, "value", "0");
    add_9815072(tmp_12575262, tmp_12575264);
    var tmp_12575265 = tree_9825445(104, []);
    set_attr_9765105(tmp_12575265, "for", "widthNew");
    tmp_12575265.class = "floatLabel";
    add_9815072(tmp_12575265, text_9825548(makeNimstrLit("Largura")));
    add_9815072(tmp_12575262, tmp_12575265);
    var tmp_12575266 = tree_9825445(105, []);
    set_attr_9765105(tmp_12575266, "type", "number");
    tmp_12575266.id = "widthNew";
    valueHEX3D_9730143(tmp_12575266, "0");
    set_attr_9765105(tmp_12575266, "value", "0");
    add_9815072(tmp_12575262, tmp_12575266);
    add_9815072(tmp_12575261, tmp_12575262);
    var tmp_12575267 = tree_9825445(43, []);
    var tmp_12575268 = tree_9825445(104, []);
    set_attr_9765105(tmp_12575268, "for", "sequenceNew");
    tmp_12575268.class = "floatLabel";
    add_9815072(tmp_12575268, text_9825548(makeNimstrLit("Ordem da apresenta\xC3\xA7\xC3\xA3o")));
    add_9815072(tmp_12575267, tmp_12575268);
    var tmp_12575269 = tree_9825445(105, []);
    tmp_12575269.id = "sequenceNew";
    add_9815072(tmp_12575267, tmp_12575269);
    add_9815072(tmp_12575261, tmp_12575267);
    var tmp_12575270 = tree_9825445(43, []);
    var tmp_12575271 = tree_9825445(104, []);
    set_attr_9765105(tmp_12575271, "for", "cityNew");
    tmp_12575271.class = "floatLabel";
    add_9815072(tmp_12575271, text_9825548(makeNimstrLit("Cidade")));
    add_9815072(tmp_12575270, tmp_12575271);
    var tmp_12575272 = tree_9825445(105, []);
    tmp_12575272.id = "cityNew";
    add_9815072(tmp_12575270, tmp_12575272);
    add_9815072(tmp_12575261, tmp_12575270);
    var tmp_12575273 = tree_9825445(43, []);
    var tmp_12575274 = tree_9825445(104, []);
    set_attr_9765105(tmp_12575274, "for", "teamNew");
    tmp_12575274.class = "floatLabel";
    add_9815072(tmp_12575274, text_9825548(makeNimstrLit("Equipe")));
    add_9815072(tmp_12575273, tmp_12575274);
    var tmp_12575275 = tree_9825445(105, []);
    tmp_12575275.id = "teamNew";
    add_9815072(tmp_12575273, tmp_12575275);
    add_9815072(tmp_12575261, tmp_12575273);
    var tmp_12575276 = tree_9825445(43, []);
    var tmp_12575277 = tree_9825445(104, []);
    set_attr_9765105(tmp_12575277, "for", "musicNew");
    tmp_12575277.class = "floatLabel";
    add_9815072(tmp_12575277, text_9825548(makeNimstrLit("M\xC3\xBAsica")));
    add_9815072(tmp_12575276, tmp_12575277);
    var tmp_12575278 = tree_9825445(105, []);
    tmp_12575278.id = "musicNew";
    add_9815072(tmp_12575276, tmp_12575278);
    add_9815072(tmp_12575261, tmp_12575276);
    var tmp_12575279 = tree_9825445(43, []);
    tmp_12575279.class = "btn";
    add_event_handler_10745154(tmp_12575279, 0, HEX3Aanonymous_12585001, kxi_10182284[0]);
    add_9815072(tmp_12575279, text_9825548(makeNimstrLit("Criar")));
    add_9815072(tmp_12575261, tmp_12575279);
    add_9815072(tmp_12575259, tmp_12575261);
    var tmp_12575280 = tree_9825445(104, []);
    set_attr_9765105(tmp_12575280, "for", "load");
    tmp_12575280.class = "btn";
    add_9815072(tmp_12575280, text_9825548(makeNimstrLit("Carregar mapa")));
    add_9815072(tmp_12575259, tmp_12575280);
    var tmp_12575281 = tree_9825445(105, []);
    set_attr_9765105(tmp_12575281, "type", "file");
    add_event_handler_10745154(tmp_12575281, 8, HEX3Aanonymous_12590001, kxi_10182284[0]);
    tmp_12575281.id = "load";
    tmp_12575281.class = "hidden";
    set_attr_9765105(tmp_12575281, "accept", ".taiko");
    set_attr_9765105(tmp_12575281, "download", "a.taiko");
    add_9815072(tmp_12575259, tmp_12575281);
    var tmp_12575282 = tree_9825445(43, []);
    tmp_12575282.class = "btn";
    add_event_handler_10745154(tmp_12575282, 0, HEX3Aanonymous_12595001, kxi_10182284[0]);
    add_9815072(tmp_12575282, text_9825548(makeNimstrLit("Salvar mapa")));
    add_9815072(tmp_12575259, tmp_12575282);
    var tmp_12575283 = tree_9825445(43, []);
    tmp_12575283.class = "btn";
    add_event_handler_10745154(tmp_12575283, 0, HEX3Aanonymous_12600001, kxi_10182284[0]);
    add_9815072(tmp_12575283, text_9825548(makeNimstrLit("Exportar imagem")));
    add_9815072(tmp_12575259, tmp_12575283);
    var tmp_12575284 = tree_9825445(43, []);
    tmp_12575284.id = "addInstrumentMenu";
    tmp_12575284.class = "showLater";
    var tmp_12575285 = tree_9825445(43, []);
    tmp_12575285.id = "instrumentType";
    tmp_12575285.class = "list";
    var tmp_12575286 = tree_9825445(43, []);
    add_event_handler_10745118(tmp_12575286, 0, select_instrument_type_12567062, kxi_10182284[0]);
    add_9815072(tmp_12575286, text_9825548(makeNimstrLit("Okedo")));
    add_9815072(tmp_12575285, tmp_12575286);
    var tmp_12575287 = tree_9825445(43, []);
    add_event_handler_10745118(tmp_12575287, 0, select_instrument_type_12567062, kxi_10182284[0]);
    add_9815072(tmp_12575287, text_9825548(makeNimstrLit("Shime")));
    add_9815072(tmp_12575285, tmp_12575287);
    var tmp_12575288 = tree_9825445(43, []);
    add_event_handler_10745118(tmp_12575288, 0, select_instrument_type_12567062, kxi_10182284[0]);
    add_9815072(tmp_12575288, text_9825548(makeNimstrLit("Nagado")));
    add_9815072(tmp_12575285, tmp_12575288);
    var tmp_12575289 = tree_9825445(43, []);
    add_event_handler_10745118(tmp_12575289, 0, select_instrument_type_12567062, kxi_10182284[0]);
    add_9815072(tmp_12575289, text_9825548(makeNimstrLit("Oodaiko")));
    add_9815072(tmp_12575285, tmp_12575289);
    add_9815072(tmp_12575284, tmp_12575285);
    var tmp_12575290 = tree_9825445(43, []);
    tmp_12575290.class = "btn";
    add_event_handler_10745118(tmp_12575290, 0, add_new_instrument_12567028, kxi_10182284[0]);
    add_9815072(tmp_12575290, text_9825548(makeNimstrLit("Adicionar")));
    add_9815072(tmp_12575284, tmp_12575290);
    add_9815072(tmp_12575259, tmp_12575284);
    result_12575258 = tmp_12575259;

  return result_12575258;

}
function set_attr_9695040(s_9695042, a_9695043, value_9695044) {
  BeforeRet: do {
    var i_9695046 = 0;
    L1: do {
        L2: while (true) {
        if (!(i_9695046 < s_9695042.length)) break L2;
          if ((s_9695042[i_9695046] == a_9695043)) {
          s_9695042[addInt(i_9695046, 1)] = value_9695044;
          break BeforeRet;
          }
          else {
          if ((a_9695043 < s_9695042[i_9695046])) {
          s_9695042.push("");
          s_9695042.push("");
          L3: do {
            var j_9700063 = 0;
            var colontmp__12610563 = 0;
            var colontmp__12610564 = 0;
            colontmp__12610563 = subInt(s_9695042.length, 1);
            colontmp__12610564 = addInt(i_9695046, 3);
            var res_12610565 = colontmp__12610563;
            L4: do {
                L5: while (true) {
                if (!(colontmp__12610564 <= res_12610565)) break L5;
                  j_9700063 = res_12610565;
                  s_9695042[j_9700063] = s_9695042[subInt(j_9700063, 2)];
                  s_9695042[subInt(j_9700063, 1)] = s_9695042[subInt(j_9700063, 3)];
                  res_12610565 = subInt(res_12610565, 2);
                }
            } while(false);
          } while(false);
          s_9695042[i_9695046] = a_9695043;
          s_9695042[addInt(i_9695046, 1)] = value_9695044;
          break BeforeRet;
          }
          }
          i_9695046 = addInt(i_9695046, 2);
        }
    } while(false);
    s_9695042.push(a_9695043);
    s_9695042.push(value_9695044);
  } while (false);

  
}
function set_attr_9700183(s_9700185, attr_9700186, value_9700187) {
    if (!(!((value_9700187 == null)))) {
    failed_assert_impl_102680(makeNimstrLit("vstyles.nim(266, 12) `value != nil` value must not be nil"));
    }
    
    set_attr_9695040(s_9700185, to_style_attr_name_9685006[chckIndx(attr_9700186, 0, (to_style_attr_name_9685006 != null ? to_style_attr_name_9685006.length : 0)+0-1)-0], value_9700187);

  
}
function style_9720281(a_9720283, val_9720284) {
  var result_9720285 = null;

    result_9720285 = new Array(0);
    set_attr_9700183(result_9720285, a_9720283, val_9720284);

  return result_9720285;

}
function update_header_12486070(sequence_12486072, city_12486073, team_12486074, music_12486075) {
    map_12416027[0].sequence = nimCopy(null, sequence_12486072, NTI112);
    map_12416027[0].city = nimCopy(null, city_12486073, NTI112);
    map_12416027[0].team = nimCopy(null, team_12486074, NTI112);
    map_12416027[0].music = nimCopy(null, music_12486075, NTI112);
    update_header_12486054(map_12416027[0]);

  
}
function render_map_info_12487100() {
    function handler_12487103(ev_12487106, n_12487107) {
        var sequence_12487108 = cstrToNimstr(document.getElementById("sequenceInput").value);
        var city_12487109 = cstrToNimstr(document.getElementById("cityInput").value);
        var team_12487110 = cstrToNimstr(document.getElementById("teamInput").value);
        var music_12487111 = cstrToNimstr(document.getElementById("musicInput").value);
        update_header_12486070(sequence_12487108, city_12487109, team_12487110, music_12487111);

      
    }

  var result_12487102 = null;

    var tmp_12487125 = tree_9825445(43, []);
    var tmp_12487126 = tree_9825445(23, []);
    tmp_12487126.style = style_9720281(160, "center");
    add_9815072(tmp_12487126, text_9825548(makeNimstrLit("Mapa")));
    add_9815072(tmp_12487125, tmp_12487126);
    var tmp_12487127 = tree_9825445(43, []);
    var tmp_12487128 = tree_9825445(104, []);
    set_attr_9765105(tmp_12487128, "for", "sequenceInput");
    tmp_12487128.class = "floatLabel";
    add_9815072(tmp_12487128, text_9825548(makeNimstrLit("Ordem da apresenta\xC3\xA7\xC3\xA3o")));
    add_9815072(tmp_12487127, tmp_12487128);
    var tmp_12487129 = tree_9825445(105, []);
    tmp_12487129.id = "sequenceInput";
    add_event_handler_10745118(tmp_12487129, 25, handler_12487103, kxi_10182284[0]);
    add_9815072(tmp_12487127, tmp_12487129);
    add_9815072(tmp_12487125, tmp_12487127);
    var tmp_12487130 = tree_9825445(43, []);
    var tmp_12487131 = tree_9825445(104, []);
    set_attr_9765105(tmp_12487131, "for", "cityInput");
    tmp_12487131.class = "floatLabel";
    add_9815072(tmp_12487131, text_9825548(makeNimstrLit("Cidade")));
    add_9815072(tmp_12487130, tmp_12487131);
    var tmp_12487132 = tree_9825445(105, []);
    tmp_12487132.id = "cityInput";
    add_event_handler_10745118(tmp_12487132, 25, handler_12487103, kxi_10182284[0]);
    add_9815072(tmp_12487130, tmp_12487132);
    add_9815072(tmp_12487125, tmp_12487130);
    var tmp_12487133 = tree_9825445(43, []);
    var tmp_12487134 = tree_9825445(104, []);
    set_attr_9765105(tmp_12487134, "for", "teamInput");
    tmp_12487134.class = "floatLabel";
    add_9815072(tmp_12487134, text_9825548(makeNimstrLit("Equipe")));
    add_9815072(tmp_12487133, tmp_12487134);
    var tmp_12487135 = tree_9825445(105, []);
    tmp_12487135.id = "teamInput";
    add_event_handler_10745118(tmp_12487135, 25, handler_12487103, kxi_10182284[0]);
    add_9815072(tmp_12487133, tmp_12487135);
    add_9815072(tmp_12487125, tmp_12487133);
    var tmp_12487136 = tree_9825445(43, []);
    var tmp_12487137 = tree_9825445(104, []);
    set_attr_9765105(tmp_12487137, "for", "musicInput");
    tmp_12487137.class = "floatLabel";
    add_9815072(tmp_12487137, text_9825548(makeNimstrLit("M\xC3\xBAsica")));
    add_9815072(tmp_12487136, tmp_12487137);
    var tmp_12487138 = tree_9825445(105, []);
    tmp_12487138.id = "musicInput";
    add_event_handler_10745118(tmp_12487138, 25, handler_12487103, kxi_10182284[0]);
    add_9815072(tmp_12487136, tmp_12487138);
    add_9815072(tmp_12487125, tmp_12487136);
    result_12487102 = tmp_12487125;

  return result_12487102;

}
function update_instrument_12445080(instrument_12445082, x_12445083, y_12445084, height_12445085, width_12445086, angle_12445087) {
    instrument_12445082.data.x = x_12445083;
    instrument_12445082.data.y = y_12445084;
    instrument_12445082.data.height = height_12445085;
    instrument_12445082.data.width = width_12445086;
    instrument_12445082.data.angle = angle_12445087;
    update_instrument_12445063(instrument_12445082, instrument_12445082.data);

  
}
function handler_12476117(ev_12476120, n_12476121) {
    var x_12476122 = nsuParseInt(cstrToNimstr(document.getElementById("x").value));
    var y_12476123 = nsuParseInt(cstrToNimstr(document.getElementById("y").value));
    var height_12476124 = nsuParseInt(cstrToNimstr(document.getElementById("heightInfo").value));
    var width_12476125 = nsuParseInt(cstrToNimstr(document.getElementById("widthInfo").value));
    var angle_12476126 = nsuParseInt(cstrToNimstr(document.getElementById("angleInfo").value));
    if (!((selected_12416103[0] == null))) {
    update_instrument_12445080(selected_12416103[0], x_12476122, y_12476123, height_12476124, width_12476125, angle_12476126);
    }
    

  
}
function delete_12450026(x_12450031, x_12450031_Idx, i_12450032) {
    x_12450031[x_12450031_Idx].splice(i_12450032, 1);

  
}
function delete_selected_12445101() {
    document.getElementById("instrumentInfo").style.display = "none";
    selected_12416103[0].e.parentNode.removeChild(selected_12416103[0].e);
    L1: do {
      var iHEX60gensym12445104_12450014 = 0;
      var colontmp__12610587 = 0;
      colontmp__12610587 = (instruments_12416102[0] != null ? instruments_12416102[0].length : 0);
      var res_12610588 = 0;
      L2: do {
          L3: while (true) {
          if (!(res_12610588 <= colontmp__12610587)) break L3;
            iHEX60gensym12445104_12450014 = res_12610588;
            if ((selected_12416103[0] == instruments_12416102[0][chckIndx(iHEX60gensym12445104_12450014, 0, (instruments_12416102[0] != null ? instruments_12416102[0].length : 0)+0-1)-0])) {
            delete_12450026(instruments_12416102, 0, chckRange(iHEX60gensym12445104_12450014, 0, 2147483647));
            break L1;
            }
            
            res_12610588 = addInt(res_12610588, 1);
          }
      } while(false);
    } while(false);
    L4: do {
      var iHEX60gensym12455417_12465003 = 0;
      var resultHEX60gensym12455418_12470011 = new_seq_12145096(chckRange((instruments_12416102[0] != null ? instruments_12416102[0].length : 0), 0, 2147483647));
      L5: do {
        var it_12475007 = null;
        var i_12610595 = 0;
        var l_12610596 = (instruments_12416102[0] != null ? instruments_12416102[0].length : 0);
        L6: do {
            L7: while (true) {
            if (!(i_12610595 < l_12610596)) break L7;
              it_12475007 = instruments_12416102[0][chckIndx(i_12610595, 0, (instruments_12416102[0] != null ? instruments_12416102[0].length : 0)+0-1)-0];
              resultHEX60gensym12455418_12470011[chckIndx(iHEX60gensym12455417_12465003, 0, (resultHEX60gensym12455418_12470011 != null ? resultHEX60gensym12455418_12470011.length : 0)+0-1)-0] = it_12475007.data;
              iHEX60gensym12455417_12465003 = addInt(iHEX60gensym12455417_12465003, 1);
              i_12610595 = addInt(i_12610595, 1);
              if (!(((instruments_12416102[0] != null ? instruments_12416102[0].length : 0) == l_12610596))) {
              failed_assert_impl_102680(makeNimstrLit("iterators.nim(189, 11) `len(a) == L` the length of the seq changed while iterating over it"));
              }
              
            }
        } while(false);
      } while(false);
    } while(false);
    update_list_12261040(resultHEX60gensym12455418_12470011);
    quick_save_12445048();

  
}
function render_instrument_info_12480022() {
  var result_12480024 = null;

    var tmp_12480061 = tree_9825445(43, []);
    tmp_12480061.id = "instrumentInfo";
    tmp_12480061.style = style_9720281(78, "none");
    var tmp_12480067 = tree_9825445(23, []);
    tmp_12480067.style = style_9720281(160, "center");
    add_9815072(tmp_12480067, text_9825548(makeNimstrLit("Item selecionado")));
    add_9815072(tmp_12480061, tmp_12480067);
    var tmp_12480068 = tree_9825445(43, []);
    var tmp_12480069 = tree_9825445(104, []);
    set_attr_9765105(tmp_12480069, "for", "x");
    tmp_12480069.class = "floatLabel";
    add_9815072(tmp_12480069, text_9825548(makeNimstrLit("x")));
    add_9815072(tmp_12480068, tmp_12480069);
    var tmp_12480070 = tree_9825445(105, []);
    set_attr_9765105(tmp_12480070, "type", "number");
    tmp_12480070.id = "x";
    valueHEX3D_9730143(tmp_12480070, "0");
    set_attr_9765105(tmp_12480070, "value", "0");
    add_event_handler_10745118(tmp_12480070, 25, handler_12476117, kxi_10182284[0]);
    add_9815072(tmp_12480068, tmp_12480070);
    var tmp_12480071 = tree_9825445(104, []);
    set_attr_9765105(tmp_12480071, "for", "y");
    tmp_12480071.class = "floatLabel";
    add_9815072(tmp_12480071, text_9825548(makeNimstrLit("y")));
    add_9815072(tmp_12480068, tmp_12480071);
    var tmp_12480072 = tree_9825445(105, []);
    set_attr_9765105(tmp_12480072, "type", "number");
    tmp_12480072.id = "y";
    valueHEX3D_9730143(tmp_12480072, "0");
    set_attr_9765105(tmp_12480072, "value", "0");
    add_event_handler_10745118(tmp_12480072, 25, handler_12476117, kxi_10182284[0]);
    add_9815072(tmp_12480068, tmp_12480072);
    add_9815072(tmp_12480061, tmp_12480068);
    var tmp_12480073 = tree_9825445(43, []);
    var tmp_12480074 = tree_9825445(104, []);
    set_attr_9765105(tmp_12480074, "for", "heightInfo");
    tmp_12480074.class = "floatLabel";
    add_9815072(tmp_12480074, text_9825548(makeNimstrLit("h")));
    add_9815072(tmp_12480073, tmp_12480074);
    var tmp_12480075 = tree_9825445(105, []);
    set_attr_9765105(tmp_12480075, "type", "number");
    tmp_12480075.id = "heightInfo";
    valueHEX3D_9730143(tmp_12480075, "0");
    set_attr_9765105(tmp_12480075, "value", "0");
    add_event_handler_10745118(tmp_12480075, 25, handler_12476117, kxi_10182284[0]);
    add_9815072(tmp_12480073, tmp_12480075);
    var tmp_12480076 = tree_9825445(104, []);
    set_attr_9765105(tmp_12480076, "for", "widthInfo");
    tmp_12480076.class = "floatLabel";
    add_9815072(tmp_12480076, text_9825548(makeNimstrLit("w")));
    add_9815072(tmp_12480073, tmp_12480076);
    var tmp_12480077 = tree_9825445(105, []);
    set_attr_9765105(tmp_12480077, "type", "number");
    tmp_12480077.id = "widthInfo";
    valueHEX3D_9730143(tmp_12480077, "0");
    set_attr_9765105(tmp_12480077, "value", "0");
    add_event_handler_10745118(tmp_12480077, 25, handler_12476117, kxi_10182284[0]);
    add_9815072(tmp_12480073, tmp_12480077);
    add_9815072(tmp_12480061, tmp_12480073);
    var tmp_12480078 = tree_9825445(43, []);
    var tmp_12480079 = tree_9825445(104, []);
    set_attr_9765105(tmp_12480079, "for", "angleInfo");
    tmp_12480079.class = "floatLabel";
    add_9815072(tmp_12480079, text_9825548(makeNimstrLit("a")));
    add_9815072(tmp_12480078, tmp_12480079);
    var tmp_12480080 = tree_9825445(105, []);
    set_attr_9765105(tmp_12480080, "type", "number");
    tmp_12480080.id = "angleInfo";
    valueHEX3D_9730143(tmp_12480080, "0");
    set_attr_9765105(tmp_12480080, "value", "0");
    add_event_handler_10745118(tmp_12480080, 25, handler_12476117, kxi_10182284[0]);
    add_9815072(tmp_12480078, tmp_12480080);
    add_9815072(tmp_12480061, tmp_12480078);
    var tmp_12480081 = tree_9825445(43, []);
    tmp_12480081.class = "btn";
    add_event_handler_10745154(tmp_12480081, 0, delete_selected_12445101, kxi_10182284[0]);
    add_9815072(tmp_12480081, text_9825548(makeNimstrLit("Delete")));
    add_9815072(tmp_12480061, tmp_12480081);
    result_12480024 = tmp_12480061;

  return result_12480024;

}
function create_dom_12601092() {
  var result_12601094 = null;

    var tmp_12601095 = tree_9825445(43, []);
    add_9815072(tmp_12601095, render_side_menu_12575256());
    var tmp_12601096 = tree_9825445(43, []);
    tmp_12601096.id = "placeholder";
    var tmp_12601097 = tree_9825445(75, []);
    set_attr_9765105(tmp_12601097, "src", "placeholder.png");
    add_9815072(tmp_12601096, tmp_12601097);
    var tmp_12601098 = tree_9825445(22, []);
    add_9815072(tmp_12601098, text_9825548(makeNimstrLit("Comece criando um mapa novo")));
    add_9815072(tmp_12601096, tmp_12601098);
    add_9815072(tmp_12601095, tmp_12601096);
    var tmp_12601099 = tree_9825445(43, []);
    tmp_12601099.id = "mainView";
    tmp_12601099.class = "showLater";
    var tmp_12601100 = tree_9825445(43, []);
    tmp_12601100.id = "header";
    var tmp_12601101 = tree_9825445(43, []);
    tmp_12601101.id = "sequence";
    add_9815072(tmp_12601100, tmp_12601101);
    var tmp_12601102 = tree_9825445(43, []);
    tmp_12601102.id = "city";
    add_9815072(tmp_12601100, tmp_12601102);
    var tmp_12601103 = tree_9825445(43, []);
    tmp_12601103.id = "team";
    add_9815072(tmp_12601100, tmp_12601103);
    var tmp_12601104 = tree_9825445(43, []);
    tmp_12601104.id = "music";
    add_9815072(tmp_12601100, tmp_12601104);
    add_9815072(tmp_12601099, tmp_12601100);
    var tmp_12601105 = tree_9825445(43, []);
    tmp_12601105.class = "flex";
    var tmp_12601106 = tree_9825445(43, []);
    tmp_12601106.id = "map";
    add_9815072(tmp_12601105, tmp_12601106);
    var tmp_12601107 = tree_9825445(91, []);
    tmp_12601107.id = "instrumentList";
    add_9815072(tmp_12601105, tmp_12601107);
    add_9815072(tmp_12601099, tmp_12601105);
    add_9815072(tmp_12601095, tmp_12601099);
    var tmp_12601108 = tree_9825445(43, []);
    tmp_12601108.id = "rightSideMenu";
    tmp_12601108.class = "showLater";
    add_9815072(tmp_12601108, render_map_info_12487100());
    add_9815072(tmp_12601108, render_instrument_info_12480022());
    add_9815072(tmp_12601095, tmp_12601108);
    result_12601094 = tmp_12601095;

  return result_12601094;

}
function move_selected_12560195(dx_12560197, dy_12560198) {
    selected_12416103[0].data.x = addInt(selected_12416103[0].data.x, dx_12560197);
    selected_12416103[0].data.y = addInt(selected_12416103[0].data.y, dy_12560198);
    update_instrument_12445063(selected_12416103[0], selected_12416103[0].data);
    update_info_instrument_12476093(selected_12416103[0].data);

  
}
function copy_selected_12560224() {
    window.localStorage.setItem("clipboard", toJSStr(HEX24_11700416(HEX25_12140106(selected_12416103[0].data))), "clipboard", toJSStr(HEX24_11700416(HEX25_12140106(selected_12416103[0].data))));

  
}
function paste_selected_12565019() {
    var instrument_12565021 = instrument_from_json_12140339(cstrToNimstr(window.localStorage.getItem("clipboard")));
    add_instrument_12491014(instrument_12565021);

  
}
function HEX3Aanonymous_12605070() {
    function HEX3Aanonymous_12610001(e_12610003) {
      BeforeRet: do {
        var key_12610004 = e_12610003.keyCode;
        var ctrl_12610005 = e_12610003.ctrlKey;
        switch (key_12610004) {
        case 37:
          e_12610003.preventDefault();
          move_selected_12560195(-1, 0);
          break;
        case 38:
          e_12610003.preventDefault();
          move_selected_12560195(0, -1);
          break;
        case 39:
          e_12610003.preventDefault();
          move_selected_12560195(1, 0);
          break;
        case 40:
          e_12610003.preventDefault();
          move_selected_12560195(0, 1);
          break;
        case 46:
          delete_selected_12445101();
          break;
        case 67:
          if (ctrl_12610005) {
          e_12610003.preventDefault();
          copy_selected_12560224();
          }
          
          break;
        case 86:
          if (ctrl_12610005) {
          e_12610003.preventDefault();
          paste_selected_12565019();
          }
          
          break;
        default: 
          break BeforeRet;
          break;
        }
      } while (false);

      
    }

    if (!((window.localStorage.getItem("quickSave") == null))) {
    load_map_from_json_12560061(cstrToNimstr(window.localStorage.getItem("quickSave")));
    }
    
    window.addEventListener("keydown", HEX3Aanonymous_12610001, false);

  
}
set_renderer_10740238(create_dom_12601092, "ROOT", HEX3Aanonymous_12605070);
